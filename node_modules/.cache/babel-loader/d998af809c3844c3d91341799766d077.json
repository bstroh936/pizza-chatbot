{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import ItemMenu from'./itemMenu';import Random from'random-id';function Summary(props){switch(props.type){case'reviewPizza':return single(props.content.PizzaInfo);case'reviewOrder':return finalO(props.content);default:return null;}}function single(props){var pizzaID=props.id;var sum=\"Pizza #\".concat(pizzaID,\" Summary\");var items=pizzaMsg(props.items);var specInst=props.specinst;var specRow=specInst===''?/*#__PURE__*/_jsx(\"tr\",{className:\"specialInstHead\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:\"No Special Instructions\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"tr\",{className:\"specialInstHead\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:\"Special Instructions:\"})}),/*#__PURE__*/_jsx(\"tr\",{className:\"specialInstRow\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:props.specInst})})]});return/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{className:\"pizza-sum\",children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{colSpan:\"2\",children:sum})})}),/*#__PURE__*/_jsxs(\"tbody\",{className:\"sum-table-body\",children:[items,specRow]})]});}function finalO(props){var name=props.name;var cnt=props.cnt;var msg1=/*#__PURE__*/_jsx(\"div\",{className:\"reviewH\",children:\"Order summary for \".concat(name)});var msg2=/*#__PURE__*/_jsx(\"div\",{className:\"reviewH\",children:\"There are \".concat(cnt,\" pizzas in this order\")});var tables=props.pizzas.map(function(p){return/*#__PURE__*/_jsx(\"div\",{className:\"reviewTable\",children:single(p.PizzaInfo)});});return/*#__PURE__*/_jsxs(_Fragment,{children:[msg1,msg2,tables]});}function pizzaMsg(items){var itemMenu=new ItemMenu();var list=itemMenu.stepList;var rows=list.map(function(i){var chk=items.hasOwnProperty(i.val)?items[i.val]:false;var item={type:i.val,name:i.name,sel:chk};return item;});var ret=rows.map(function(i){return/*#__PURE__*/_jsxs(\"tr\",{className:\"sum-row\",children:[/*#__PURE__*/_jsx(\"td\",{children:i.name}),/*#__PURE__*/_jsx(\"td\",{children:getUserMsg(i)})]},Random(8));});return ret;}export function getUserMsg(props){if(!props.sel){return\"No \".concat(props.name,\" selected\");}var itemMenu=new ItemMenu();if(props.type==='type'){if(!props.sel[0].hasOwnProperty('sizes')&&!props.sel[0].hasOwnProperty('crusts')){return'Invalid pizza type';}var size=itemMenu.GetCaption('opts','sizes',props.sel[0].sizes);var crust=itemMenu.GetCaption('opts','crusts',props.sel[0].crusts);return\"This pizza is a \".concat(size,\" with \").concat(crust,\" crust\");}else{var hasHalf=false;var items=props.sel.map(function(i){var id=i.hasOwnProperty('id')?i.id:'0';var qty=i.hasOwnProperty('qty')?i.qty:'1';var half=i.hasOwnProperty('half')?i.half===0?'2':i.half:'2';if(id==='0'||id.length<1||qty==='0'){return{hID:'3',item:false};}else{if(half!=='2'){hasHalf=true;};var ret={hID:half,item:itemMenu.GetCaption('items',props.type,id),qty:itemMenu.GetCaption('opts','qty',qty),half:itemMenu.GetDescription('opts','half',half)};ret.half.replace('{i}',ret.item);return ret;}});items.filter(function(i){return i.item;});if(items.length>1){items.sort(function(a,b){return a.hID-b.hID;});};if(items.length===0){return\"No \".concat(props.name,\" selected\");};var retArray=items.map(function(i){if(!i.item){return'';};return\"\".concat(i.qty,\" \").concat(i.item).concat(hasHalf?\" \".concat(i.half):'');});return retArray.toString();}}export default Summary;","map":{"version":3,"sources":["C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/src/components/Summary.jsx"],"names":["React","ItemMenu","Random","Summary","props","type","single","content","PizzaInfo","finalO","pizzaID","id","sum","items","pizzaMsg","specInst","specinst","specRow","name","cnt","msg1","msg2","tables","pizzas","map","p","itemMenu","list","stepList","rows","i","chk","hasOwnProperty","val","item","sel","ret","getUserMsg","size","GetCaption","sizes","crust","crusts","hasHalf","qty","half","length","hID","GetDescription","replace","filter","sort","a","b","retArray","toString"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ItemMenu from './itemMenu';\r\nimport Random from 'random-id';\r\n\r\nfunction Summary(props){  \r\n  switch (props.type){\r\n    case 'reviewPizza':\r\n      return single(props.content.PizzaInfo);\r\n    case 'reviewOrder':\r\n      return finalO(props.content);\r\n    default:\r\n      return null;\r\n  }\r\n}\r\nfunction single(props){  \r\n  const pizzaID = props.id\r\n  const sum = `Pizza #${pizzaID} Summary`  \r\n  const items = pizzaMsg(props.items);\r\n  const specInst = props.specinst;\r\n  const specRow = specInst===''?<tr className=\"specialInstHead\"><td colSpan=\"2\">No Special Instructions</td></tr>:\r\n        (<><tr className=\"specialInstHead\"><td colSpan=\"2\">Special Instructions:</td></tr>\r\n        <tr className=\"specialInstRow\"><td colSpan=\"2\">{props.specInst}</td></tr></>);  \r\n  return(\r\n    <table>\r\n      <thead className=\"pizza-sum\"><tr><th colSpan=\"2\">{sum}</th></tr></thead>\r\n      <tbody className=\"sum-table-body\">\r\n        {items}\r\n        {specRow}\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\nfunction finalO(props){  \r\n  const name = props.name;\r\n  const cnt = props.cnt;  \r\n  const msg1 = <div className=\"reviewH\">{`Order summary for ${name}`}</div>;\r\n  const msg2 = <div className=\"reviewH\">{`There are ${cnt} pizzas in this order`}</div>;\r\n  const tables = props.pizzas.map((p)=>{\r\n    return <div className=\"reviewTable\">{single(p.PizzaInfo)}</div>});\r\n  return (<>{msg1}{msg2}{tables}</>)\r\n}\r\nfunction pizzaMsg(items){\r\n  const itemMenu = new ItemMenu();\r\n  const list = itemMenu.stepList;\r\n  const rows = list.map((i)=>{\r\n    const chk = items.hasOwnProperty(i.val)?items[i.val]:false;\r\n    const item = {type:i.val, name:i.name, sel:chk}\r\n    return item;\r\n  })  \r\n  const ret = rows.map((i)=> {\r\n    return(<tr className=\"sum-row\" key={Random(8)}><td>{i.name}</td><td>{getUserMsg(i)}</td></tr>)\r\n  })\r\n  return ret;\r\n}\r\nexport function getUserMsg(props){\r\n  if(!props.sel){return `No ${props.name} selected`}\r\n  const itemMenu = new ItemMenu();\r\n  if(props.type==='type'){\r\n    if(!props.sel[0].hasOwnProperty('sizes')&&!props.sel[0].hasOwnProperty('crusts')){\r\n      return 'Invalid pizza type';\r\n    }\r\n    const size = itemMenu.GetCaption('opts','sizes',props.sel[0].sizes);\r\n    const crust = itemMenu.GetCaption('opts','crusts',props.sel[0].crusts);\r\n    return `This pizza is a ${size} with ${crust} crust`;\r\n  } else {\r\n    let hasHalf=false;\r\n    const items = props.sel.map((i)=>{\r\n      const id = i.hasOwnProperty('id')?i.id:'0';\r\n      const qty = i.hasOwnProperty('qty')?i.qty:'1';\r\n      const half = i.hasOwnProperty('half')?(i.half===0?'2':i.half):'2';\r\n      if(id==='0'||id.length<1||qty==='0'){\r\n        return {hID:'3',item:false};\r\n      } else {\r\n        if(half!=='2'){hasHalf=true};\r\n        const ret =  {hID:half, item:itemMenu.GetCaption('items',props.type,id),\r\n                  qty:itemMenu.GetCaption('opts','qty',qty),\r\n                  half:itemMenu.GetDescription('opts','half',half)};\r\n        ret.half.replace('{i}',ret.item);\r\n        return ret;\r\n      }\r\n    })\r\n    items.filter((i)=>{return i.item});\r\n    if(items.length>1){items.sort((a,b)=>{return a.hID-b.hID});};\r\n    if(items.length===0){return `No ${props.name} selected`};\r\n    const retArray = items.map((i)=>{\r\n      if(!i.item) {return ''};\r\n      return `${i.qty} ${i.item}${hasHalf?` ${i.half}`:''}`\r\n    })\r\n    return retArray.toString();    \r\n  }  \r\n}\r\nexport default Summary;"]},"metadata":{},"sourceType":"module"}