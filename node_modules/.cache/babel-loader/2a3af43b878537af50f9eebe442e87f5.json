{"ast":null,"code":"import _slicedToArray from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import Button from'@material-ui/core/Button';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import MenuToolTip from'./MenuToolTip';/* \r\nPopupMenu expects props={    \r\n  type = content.type\r\n  itemTypeCaption = content.caption\r\n  selected = initialState(type)\r\n  items:(list): = content.list {\r\n    id:(string),    \r\n    caption:(string),\r\n    description:(string),\r\n    isDisabled:(boolean),\r\n  }\r\n}\r\n*/export function PopupMenu(props){var hasPriorSelection=props.hasOwnProperty('selected')&&props.selected!==null&&props.selected!==0;var sel=hasPriorSelection?props.selected:0;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var _React$useState3=React.useState(sel),_React$useState4=_slicedToArray(_React$useState3,2),selected=_React$useState4[0],setSelected=_React$useState4[1];var itemTypeCaption=props.itemTypeCaption;var itemList=props.items;var initialLabel=\"No \".concat(itemTypeCaption,\" selected\");var noneItem={id:'0',caption:\"None\",description:\"No \".concat(itemTypeCaption,\" selected\")};var menuList=[noneItem].concat(itemList);var menuToolTipCaption=\"\".concat(itemTypeCaption,\" menu\");var menuToolTipDescription=\"Click here to select a \".concat(itemTypeCaption,\" for this pizza\");var label=selected===0?initialLabel:menuList[selected].caption;var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleMenuItemSelect=function handleMenuItemSelect(event,index){setSelected(index);setAnchorEl(null);props.handleMenuSelect({type:props.type,value:menuList[index].id});};var handleClose=function handleClose(){setAnchorEl(null);};var menuItems=menuList.map(function(item,index){var menuItem=/*#__PURE__*/_jsx(MenuItem,{selected:index===selected,onClick:function onClick(event){return handleMenuItemSelect(event,index);},children:item.caption},\"\".concat(props.type,\"-\").concat(item.id));return/*#__PURE__*/_jsx(MenuToolTip,{caption:item.caption,description:item.description,component:menuItem});});var button=props.isDisabled?/*#__PURE__*/_jsx(Button,{disabled:true,variant:\"outline\",children:label}):/*#__PURE__*/_jsx(Button,{\"aria-controls\":\"popup-menu-select\",\"aria-haspopup\":\"true\",onClick:handleClick,children:label});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MenuToolTip,{caption:menuToolTipCaption,description:menuToolTipDescription,component:button}),/*#__PURE__*/_jsx(Menu,{id:\"popup-menu-select\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,children:menuItems})]});}","map":{"version":3,"sources":["C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/src/components/AppElements/Elements/PopupMenu.jsx"],"names":["React","Button","Menu","MenuItem","MenuToolTip","PopupMenu","props","hasPriorSelection","hasOwnProperty","selected","sel","useState","anchorEl","setAnchorEl","setSelected","itemTypeCaption","itemList","items","initialLabel","noneItem","id","caption","description","menuList","concat","menuToolTipCaption","menuToolTipDescription","label","handleClick","event","currentTarget","handleMenuItemSelect","index","handleMenuSelect","type","value","handleClose","menuItems","map","item","menuItem","button","isDisabled","Boolean"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuToolTip from './MenuToolTip';\r\n/* \r\nPopupMenu expects props={    \r\n  type = content.type\r\n  itemTypeCaption = content.caption\r\n  selected = initialState(type)\r\n  items:(list): = content.list {\r\n    id:(string),    \r\n    caption:(string),\r\n    description:(string),\r\n    isDisabled:(boolean),\r\n  }\r\n}\r\n*/\r\nexport function PopupMenu(props) {\r\n  const hasPriorSelection = props.hasOwnProperty('selected')&&props.selected!==null&&props.selected!==0;\r\n  const sel = hasPriorSelection?props.selected:0;\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [selected, setSelected] = React.useState(sel);\r\n\r\n  \r\n  \r\n  const itemTypeCaption = props.itemTypeCaption;\r\n  const itemList = props.items;\r\n  const initialLabel = `No ${itemTypeCaption} selected`;\r\n  const noneItem = {id:'0', caption:`None`, description:`No ${itemTypeCaption} selected`}\r\n  \r\n  const menuList = [noneItem].concat(itemList);\r\n  const menuToolTipCaption = `${itemTypeCaption} menu`;\r\n  const menuToolTipDescription = `Click here to select a ${itemTypeCaption} for this pizza`;\r\n  \r\n  const label = selected===0?initialLabel:menuList[selected].caption;  \r\n  \r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleMenuItemSelect = (event, index) => {\r\n    setSelected(index);\r\n    setAnchorEl(null);\r\n    props.handleMenuSelect({type:props.type, value:menuList[index].id});\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const menuItems = menuList.map((item,index)=>{\r\n    const menuItem = <MenuItem key={`${props.type}-${item.id}`} selected={index === selected} onClick={(event) => handleMenuItemSelect(event, index)}>\r\n                        {item.caption}\r\n                      </MenuItem>\r\n    return <MenuToolTip caption={item.caption} description={item.description} component={menuItem}/>\r\n  })\r\n\r\n  const button = props.isDisabled?<Button disabled variant=\"outline\">{label}</Button>:\r\n    <Button aria-controls=\"popup-menu-select\" aria-haspopup=\"true\" onClick={handleClick}>\r\n      {label}\r\n    </Button>; \r\n  return (\r\n    <div>\r\n      <MenuToolTip caption={menuToolTipCaption} description={menuToolTipDescription} component={button}/>\r\n      <Menu\r\n        id=\"popup-menu-select\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {menuItems}         \r\n      </Menu>\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}