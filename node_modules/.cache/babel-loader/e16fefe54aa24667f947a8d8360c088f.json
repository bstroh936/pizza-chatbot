{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{useState}from'react';import Menu from'./pizzaMenu.json';import'../css/OrderStyle.css';var OrderStep=/*#__PURE__*/function(_React$Component){_inherits(OrderStep,_React$Component);var _super=_createSuper(OrderStep);function OrderStep(props){var _this;_classCallCheck(this,OrderStep);_this=_super.call(this,props);var stepOvr=_this.props.stepOvr;var order=_this.props.step.metadata;var curStep=stepOvr?_this.props.stepID:_this.props.step.id;var pID=stepOvr?order.EditID:order.NextPizzaID-1;var pizza=stepOvr?order.selectPizza(pID):order.CurrentPizza;var sizeStep=curStep==='crusts'||curStep==='sizes'?true:false;var topStep=curStep==='meats'||curStep==='nonmeats'?true:false;var notTopStep=curStep==='cheeses'||curStep==='sauces'?true:false;var multiSel=curStep==='cheeses'||'meats'||curStep==='nonmeats'?true:false;var opts=Menu[curStep];var qty=Menu.qty;_this.state={stepOvr:stepOvr,stepType:curStep,itemOptions:opts,optionQty:qty,isSizeStep:sizeStep,isTopStep:topStep,isNotTopStep:notTopStep,multiSel:multiSel,currentSel:[],pizza:pizza,trigger:false,label:{crusts:'',sizes:'',sauces:'',cheeses:'',meats:'',nonmeats:''}};_this.triggerNext=_this.triggerNext.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(OrderStep,[{key:\"handleClick\",value:function handleClick(value){var _this$state=this.state,stepType=_this$state.stepType,pizza=_this$state.pizza,label=_this$state.label;var updateSel;var newPizza=pizza;var lbl=label;var newSel=GetItemInfo(value);/*\r\n    const i = currentSel.findIndex(item => item.type === newSel.type && item.step === newSel.step);\r\n    if((i===-1 && multiSel) || currentSel.length===0) {\r\n      //add selection\r\n      updateSel = currentSel.concat(newSel);\r\n    } else if(i===-1 && !multiSel) {\r\n      //change selection\r\n      updateSel = newSel;\r\n    } else {\r\n      //change/delete selection\r\n      if(newSel===currentSel[i]) {\r\n        updateSel =currentSel.splice(i,1);\r\n      } else {\r\n        updateSel =currentSel.splice(i,1,newSel);\r\n      }\r\n    }*/switch(stepType){case'crusts':newPizza.Crust=newSel;lbl.crusts=newPizza.Crust;break;case'sizes':newPizza.Size=newSel;lbl.sizes=newPizza.Size;break;case'sauces':newPizza.Sauce=newSel;lbl.sauces=newPizza.Sauce;break;case'cheeses':newPizza.Cheese=newSel;lbl.cheeses=newPizza.Cheese;break;case'meats':newPizza.Topping=newSel;lbl.meats=newPizza.MeatToppings;break;case'nonmeats':newPizza.Topping=newSel;lbl.nonmeats=newPizza.NonMeatToppings;break;default:}this.setState({currentSel:updateSel,pizza:newPizza,label:lbl});if(newSel.type==='None'||newSel.step==='crusts'||newSel.step==='sizes'||newSel.step==='sauces'){this.triggerNext();}}},{key:\"triggerNext\",value:function triggerNext(v){var _this2=this;var type=this.state.stepType;var label=new Array(this.state.label[type]);var msg=label[0];if(msg===''){var r=type+':None:None';this.handleClick(r);return null;}var data={value:label,type:type,msg:msg};var p=this.state.pizza;this.props.step.metadata=p;this.setState({trigger:true},function(){_this2.props.triggerNextStep(data);});}},{key:\"render\",value:function render(){var _this3=this;var _this$state2=this.state,stepType=_this$state2.stepType,itemOptions=_this$state2.itemOptions,optionQty=_this$state2.optionQty,isNotTopStep=_this$state2.isNotTopStep,isSizeStep=_this$state2.isSizeStep,isTopStep=_this$state2.isTopStep,stepOvr=_this$state2.stepOvr;return/*#__PURE__*/React.createElement(\"div\",{className:\"orderStep\"},isNotTopStep&&/*#__PURE__*/React.createElement(NotToppingStep,{stepType:stepType,itemOptions:itemOptions,optionQty:optionQty,stepOvr:stepOvr,onClick:function onClick(value){return _this3.handleClick(value);},onTrigger:function onTrigger(v){return _this3.triggerNext(v);}}),isSizeStep&&/*#__PURE__*/React.createElement(SizeCrustStep,{stepType:stepType,stepOvr:stepOvr,itemOptions:itemOptions,onClick:function onClick(value){return _this3.handleClick(value);},onTrigger:function onTrigger(v){return _this3.triggerNext(v);}}),isTopStep&&/*#__PURE__*/React.createElement(ToppingStep,{stepType:stepType,itemOptions:itemOptions,optionQty:optionQty,stepOvr:stepOvr,onClick:function onClick(value){return _this3.handleClick(value);},onTrigger:function onTrigger(v){return _this3.triggerNext(v);}}));}}]);return OrderStep;}(React.Component);function SizeCrustStep(props){var step=props.stepType;var stepOvr=props.stepOvr;var list=props.itemOptions;var c=list.map(function(i){var cName=i.type;var code=step+':'+cName+':No';return/*#__PURE__*/React.createElement(\"li\",{key:code,className:\"menuListOptsEle\"},/*#__PURE__*/React.createElement(\"button\",{className:\"menuListOptsBtn\",onClick:function onClick(){return props.onClick(code);}},cName));});if(stepOvr){c=c.concat(/*#__PURE__*/React.createElement(\"button\",{className:\"nextStep\",onClick:function onClick(){return props.onTrigger(stepOvr);}},\"Finished edits\"));}return/*#__PURE__*/React.createElement(\"div\",{className:\"menuList\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"menuOptions\"},c));}function HalfBtn(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),half=_useState2[0],setHalf=_useState2[1];var btn={b:null,v:null};if(half===0){btn.b=/*#__PURE__*/React.createElement(\"button\",{className:\"wpBtn\",onClick:function onClick(){return setHalf(half+1);}},\"wp\");btn.v='wp';}else if(half===1){btn.b=/*#__PURE__*/React.createElement(\"button\",{className:\"lhBtn\",onClick:function onClick(){return setHalf(half+1);}},\"L\");btn.v='LH';}else if(half===2){btn.b=/*#__PURE__*/React.createElement(\"button\",{className:\"rhBtn\",onClick:function onClick(){return setHalf(half+1);}},\"R\");btn.v='RH';}else if(half===3){btn.b=/*#__PURE__*/React.createElement(\"button\",{className:\"nBtn\",onClick:function onClick(){return setHalf(0);}},\"N\");btn.v='N';}else{setHalf(0);btn=null;}return btn;}function InnerQtyList(props){var q=props.qty;//const sel = props.sel;\nvar h=null;if(props.hKey){h=props.hKey;}var oLiKey=props.oLiKey;var qList=q.map(function(qty){var qName=qty.type;var short=qty.short;var code=oLiKey+':'+qName+(h?':'+h:'');/*const i = sel.findIndex(item => item.type === sel.type && item.step === sel.step);\r\n    console.log('Currently selected index = ' + i);\r\n    let btnCapt = \"menuListOptsBtn\";\r\n    if(i!==-1){\r\n      btnCapt = \"selMenuListOptsBtn\";\r\n    }*/return/*#__PURE__*/React.createElement(\"li\",{key:code,className:\"menuListOptsEle\"},/*#__PURE__*/React.createElement(\"button\",{className:\"menuListOptsBtn\",onClick:function onClick(){return props.onClick(code);}},short));});return qList;}function NotToppingStep(props){var stepType=props.stepType,itemOptions=props.itemOptions,optionQty=props.optionQty,stepOvr=props.stepOvr;var nxt=NextStep({value:stepType,stepOvr:stepOvr});var itemList=itemOptions.map(function(i){var itemName=i.type;var oLiKey=stepType+':'+itemName;if(itemName==='None'){var nncode=oLiKey+':None';var none='No '+stepType;return/*#__PURE__*/React.createElement(\"li\",{key:oLiKey,className:\"menuOptionsEle\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"menuListOpts\"},/*#__PURE__*/React.createElement(\"li\",{key:nncode,className:\"menuListOptsEleNone\"},/*#__PURE__*/React.createElement(\"button\",{className:\"menuListOptsBtnNone\",onClick:function onClick(){return props.onClick(nncode);}},none))));}return/*#__PURE__*/React.createElement(\"li\",{key:oLiKey,className:\"menuOptionsEle\"},\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"menuOptionName\"},itemName),/*#__PURE__*/React.createElement(\"ul\",{className:\"menuListOpts\"},/*#__PURE__*/React.createElement(InnerQtyList,{oLiKey:oLiKey,qty:optionQty,onClick:function onClick(value){return props.onClick(value);}})));});return/*#__PURE__*/React.createElement(\"div\",{className:\"menuList\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"menuOptions\"},itemList),/*#__PURE__*/React.createElement(\"button\",{className:\"nextStep\",onClick:function onClick(){return props.onTrigger(stepOvr);}},nxt));}function ToppingStep(props){var stepType=props.stepType,itemOptions=props.itemOptions,optionQty=props.optionQty,stepOvr=props.stepOvr;var nxt=NextStep({value:stepType,stepOvr:stepOvr});var itemList=itemOptions.map(function(i){var itemName=i.type;var oLiKey=stepType+':'+itemName;var b=HalfBtn();var btn=b.b;var v=b.v;var bKey=oLiKey+':'+v;return/*#__PURE__*/React.createElement(\"li\",{key:oLiKey,className:\"menuOptionsEle\"},\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"menuOptionName\"},itemName),/*#__PURE__*/React.createElement(\"ul\",{className:\"menuHalfOpts\"},/*#__PURE__*/React.createElement(\"li\",{key:bKey,className:\"halfList\"},btn)),/*#__PURE__*/React.createElement(\"ul\",{className:\"menuListOpts\"},/*#__PURE__*/React.createElement(InnerQtyList,{oLiKey:oLiKey,hKey:v,qty:optionQty,onClick:function onClick(value){return props.onClick(value);}})));});return/*#__PURE__*/React.createElement(\"div\",{className:\"menuList\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"menuOptions\"},itemList),/*#__PURE__*/React.createElement(\"button\",{className:\"nextStep\",onClick:function onClick(){return props.onTrigger(stepOvr);}},nxt));}function GetItemInfo(value){if(value.length===0){return null;}var x=value.indexOf(':');var s=[];var i=0;var rem=value+':';while(x>0){s[i]=rem.substring(0,x);rem=rem.substring(x+1);x=rem.indexOf(':');i++;}var ret={step:i>=1?s[0]:'',type:i>=2?s[1]:'',qty:i>=3?s[2]:'',on:'',onMsg:''};if(i===4){ret.on=s[3];var z=Menu.half.findIndex(function(h){return h.value===s[3];});if(z!==-1){ret.onMsg=Menu.half[z].msg;}else{ret.qty='None';ret.on='';ret.onMsg='';}}return ret;}function NextStep(props){var curStep=props.value;var stepOvr=props.stepOvr;if(stepOvr){return'Finished edits';}switch(curStep){case'crusts':return'';case'sizes':return'';case'sauces':return'Go to Cheeses';case'cheeses':return'Go to meats';case'meats':return'Go to non-meats';case'nonmeats':return'Go to summary';default:return'';}}OrderStep.defaultProps={steps:undefined,triggerNextStep:undefined};export default OrderStep;","map":{"version":3,"sources":["C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/src/components/OrderStep.jsx"],"names":["React","useState","Menu","OrderStep","props","stepOvr","order","step","metadata","curStep","stepID","id","pID","EditID","NextPizzaID","pizza","selectPizza","CurrentPizza","sizeStep","topStep","notTopStep","multiSel","opts","qty","state","stepType","itemOptions","optionQty","isSizeStep","isTopStep","isNotTopStep","currentSel","trigger","label","crusts","sizes","sauces","cheeses","meats","nonmeats","triggerNext","bind","handleClick","value","updateSel","newPizza","lbl","newSel","GetItemInfo","Crust","Size","Sauce","Cheese","Topping","MeatToppings","NonMeatToppings","setState","type","v","Array","msg","r","data","p","triggerNextStep","Component","SizeCrustStep","list","c","map","i","cName","code","onClick","concat","onTrigger","HalfBtn","half","setHalf","btn","b","InnerQtyList","q","h","hKey","oLiKey","qList","qName","short","NotToppingStep","nxt","NextStep","itemList","itemName","nncode","none","ToppingStep","bKey","length","x","indexOf","s","rem","substring","ret","on","onMsg","z","findIndex","defaultProps","steps","undefined"],"mappings":"wjCAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAOC,CAAAA,IAAP,KAAiB,kBAAjB,CACA,MAAO,uBAAP,C,GAEMC,CAAAA,S,kHACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EACA,GAAMC,CAAAA,OAAO,CAAG,MAAKD,KAAL,CAAWC,OAA3B,CACA,GAAMC,CAAAA,KAAK,CAAG,MAAKF,KAAL,CAAWG,IAAX,CAAgBC,QAA9B,CACA,GAAMC,CAAAA,OAAO,CAAIJ,OAAO,CAAE,MAAKD,KAAL,CAAWM,MAAb,CAAoB,MAAKN,KAAL,CAAWG,IAAX,CAAgBI,EAA5D,CACA,GAAMC,CAAAA,GAAG,CAAIP,OAAO,CAAEC,KAAK,CAACO,MAAR,CAAgBP,KAAK,CAACQ,WAAN,CAAkB,CAAtD,CACA,GAAMC,CAAAA,KAAK,CAAIV,OAAO,CAAEC,KAAK,CAACU,WAAN,CAAkBJ,GAAlB,CAAF,CAA0BN,KAAK,CAACW,YAAtD,CACA,GAAMC,CAAAA,QAAQ,CAAET,OAAO,GAAG,QAAV,EAAoBA,OAAO,GAAG,OAA9B,CAAuC,IAAvC,CAA4C,KAA5D,CACA,GAAMU,CAAAA,OAAO,CAAGV,OAAO,GAAG,OAAV,EAAmBA,OAAO,GAAG,UAA7B,CAAyC,IAAzC,CAA8C,KAA9D,CACA,GAAMW,CAAAA,UAAU,CAAGX,OAAO,GAAG,SAAV,EAAqBA,OAAO,GAAG,QAA/B,CAAyC,IAAzC,CAA8C,KAAjE,CACA,GAAMY,CAAAA,QAAQ,CAAGZ,OAAO,GAAG,SAAV,EAAqB,OAArB,EAA8BA,OAAO,GAAG,UAAxC,CAAoD,IAApD,CAAyD,KAA1E,CACA,GAAMa,CAAAA,IAAI,CAAGpB,IAAI,CAACO,OAAD,CAAjB,CACA,GAAMc,CAAAA,GAAG,CAAGrB,IAAI,CAACqB,GAAjB,CACA,MAAKC,KAAL,CAAY,CACVnB,OAAO,CAACA,OADE,CAEVoB,QAAQ,CAAEhB,OAFA,CAGViB,WAAW,CAAEJ,IAHH,CAIVK,SAAS,CAAEJ,GAJD,CAKVK,UAAU,CAAEV,QALF,CAMVW,SAAS,CAAEV,OAND,CAOVW,YAAY,CAAEV,UAPJ,CAQVC,QAAQ,CAACA,QARC,CASVU,UAAU,CAAE,EATF,CAUVhB,KAAK,CAAEA,KAVG,CAWViB,OAAO,CAAE,KAXC,CAYVC,KAAK,CAAE,CACLC,MAAM,CAAE,EADH,CAELC,KAAK,CAAE,EAFF,CAGLC,MAAM,CAAE,EAHH,CAILC,OAAO,CAAE,EAJJ,CAKLC,KAAK,CAAE,EALF,CAMLC,QAAQ,CAAE,EANL,CAZG,CAAZ,CAqBA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CAnCiB,aAoClB,C,sEACWE,K,CAAM,iBAC4C,KAAKnB,KADjD,CACTC,QADS,aACTA,QADS,CAC2BV,KAD3B,aAC2BA,KAD3B,CACkCkB,KADlC,aACkCA,KADlC,CAEhB,GAAIW,CAAAA,SAAJ,CACA,GAAIC,CAAAA,QAAQ,CAAG9B,KAAf,CACA,GAAI+B,CAAAA,GAAG,CAAGb,KAAV,CACA,GAAMc,CAAAA,MAAM,CAAGC,WAAW,CAACL,KAAD,CAA1B,CACA;;;;;;;;;;;;;;;OAgBA,OAAOlB,QAAP,EACE,IAAK,QAAL,CACEoB,QAAQ,CAACI,KAAT,CAAiBF,MAAjB,CACAD,GAAG,CAACZ,MAAJ,CAAaW,QAAQ,CAACI,KAAtB,CACA,MACF,IAAK,OAAL,CACEJ,QAAQ,CAACK,IAAT,CAAgBH,MAAhB,CACAD,GAAG,CAACX,KAAJ,CAAYU,QAAQ,CAACK,IAArB,CACA,MACF,IAAK,QAAL,CACEL,QAAQ,CAACM,KAAT,CAAiBJ,MAAjB,CACAD,GAAG,CAACV,MAAJ,CAAaS,QAAQ,CAACM,KAAtB,CACA,MACF,IAAK,SAAL,CACEN,QAAQ,CAACO,MAAT,CAAkBL,MAAlB,CACAD,GAAG,CAACT,OAAJ,CAAcQ,QAAQ,CAACO,MAAvB,CACA,MACF,IAAK,OAAL,CACEP,QAAQ,CAACQ,OAAT,CAAmBN,MAAnB,CACAD,GAAG,CAACR,KAAJ,CAAYO,QAAQ,CAACS,YAArB,CACA,MACF,IAAK,UAAL,CACET,QAAQ,CAACQ,OAAT,CAAmBN,MAAnB,CACAD,GAAG,CAACP,QAAJ,CAAeM,QAAQ,CAACU,eAAxB,CACA,MACF,QAzBF,CA2BA,KAAKC,QAAL,CAAc,CACZzB,UAAU,CAAEa,SADA,CAEZ7B,KAAK,CAAE8B,QAFK,CAGZZ,KAAK,CAAEa,GAHK,CAAd,EAKA,GAAGC,MAAM,CAACU,IAAP,GAAc,MAAd,EAAsBV,MAAM,CAACxC,IAAP,GAAc,QAApC,EAA8CwC,MAAM,CAACxC,IAAP,GAAc,OAA5D,EAAqEwC,MAAM,CAACxC,IAAP,GAAc,QAAtF,CAA+F,CAC7F,KAAKiC,WAAL,GACD,CACF,C,gDACWkB,C,CAAE,iBACZ,GAAMD,CAAAA,IAAI,CAAG,KAAKjC,KAAL,CAAWC,QAAxB,CACA,GAAMQ,CAAAA,KAAK,CAAG,GAAI0B,CAAAA,KAAJ,CAAU,KAAKnC,KAAL,CAAWS,KAAX,CAAiBwB,IAAjB,CAAV,CAAd,CACA,GAAMG,CAAAA,GAAG,CAAG3B,KAAK,CAAC,CAAD,CAAjB,CACA,GAAG2B,GAAG,GAAG,EAAT,CAAY,CACV,GAAMC,CAAAA,CAAC,CAAGJ,IAAI,CAAG,YAAjB,CACA,KAAKf,WAAL,CAAiBmB,CAAjB,EACA,MAAO,KAAP,CACD,CACD,GAAMC,CAAAA,IAAI,CAAG,CACXnB,KAAK,CAAEV,KADI,CAEXwB,IAAI,CAAEA,IAFK,CAGXG,GAAG,CAAEA,GAHM,CAAb,CAKA,GAAMG,CAAAA,CAAC,CAAG,KAAKvC,KAAL,CAAWT,KAArB,CACA,KAAKX,KAAL,CAAWG,IAAX,CAAgBC,QAAhB,CAAyBuD,CAAzB,CACA,KAAKP,QAAL,CAAc,CAACxB,OAAO,CAAE,IAAV,CAAd,CAA+B,UAAM,CACnC,MAAI,CAAC5B,KAAL,CAAW4D,eAAX,CAA2BF,IAA3B,EACD,CAFD,EAGD,C,uCACO,kCACmF,KAAKtC,KADxF,CACCC,QADD,cACCA,QADD,CACWC,WADX,cACWA,WADX,CACwBC,SADxB,cACwBA,SADxB,CACmCG,YADnC,cACmCA,YADnC,CACiDF,UADjD,cACiDA,UADjD,CAC6DC,SAD7D,cAC6DA,SAD7D,CACuExB,OADvE,cACuEA,OADvE,CAEN,mBACE,2BAAK,SAAS,CAAC,WAAf,EACGyB,YAAY,eACX,oBAAC,cAAD,EAAgB,QAAQ,CAAEL,QAA1B,CAAoC,WAAW,CAAEC,WAAjD,CAA8D,SAAS,CAAEC,SAAzE,CAAoF,OAAO,CAAEtB,OAA7F,CACF,OAAO,CAAE,iBAACsC,KAAD,QAAS,CAAA,MAAI,CAACD,WAAL,CAAiBC,KAAjB,CAAT,EADP,CACyC,SAAS,CAAE,mBAACe,CAAD,QAAK,CAAA,MAAI,CAAClB,WAAL,CAAiBkB,CAAjB,CAAL,EADpD,EAFJ,CAIG9B,UAAU,eACT,oBAAC,aAAD,EAAe,QAAQ,CAAEH,QAAzB,CAAmC,OAAO,CAAEpB,OAA5C,CAAqD,WAAW,CAAEqB,WAAlE,CAA+E,OAAO,CAAE,iBAACiB,KAAD,QAAS,CAAA,MAAI,CAACD,WAAL,CAAiBC,KAAjB,CAAT,EAAxF,CAA0H,SAAS,CAAE,mBAACe,CAAD,QAAK,CAAA,MAAI,CAAClB,WAAL,CAAiBkB,CAAjB,CAAL,EAArI,EALJ,CAOG7B,SAAS,eACR,oBAAC,WAAD,EAAa,QAAQ,CAAEJ,QAAvB,CAAiC,WAAW,CAAEC,WAA9C,CAA2D,SAAS,CAAEC,SAAtE,CAAiF,OAAO,CAAEtB,OAA1F,CACF,OAAO,CAAE,iBAACsC,KAAD,QAAS,CAAA,MAAI,CAACD,WAAL,CAAiBC,KAAjB,CAAT,EADP,CACyC,SAAS,CAAE,mBAACe,CAAD,QAAK,CAAA,MAAI,CAAClB,WAAL,CAAiBkB,CAAjB,CAAL,EADpD,EARJ,CADF,CAcD,C,uBApIqB1D,KAAK,CAACiE,S,EAsI9B,QAASC,CAAAA,aAAT,CAAuB9D,KAAvB,CAA6B,CAC3B,GAAMG,CAAAA,IAAI,CAAGH,KAAK,CAACqB,QAAnB,CACA,GAAMpB,CAAAA,OAAO,CAAGD,KAAK,CAACC,OAAtB,CAEE,GAAM8D,CAAAA,IAAI,CAAG/D,KAAK,CAACsB,WAAnB,CACA,GAAI0C,CAAAA,CAAC,CAAGD,IAAI,CAACE,GAAL,CAAS,SAACC,CAAD,CAAO,CACtB,GAAMC,CAAAA,KAAK,CAAGD,CAAC,CAACb,IAAhB,CACA,GAAMe,CAAAA,IAAI,CAAGjE,IAAI,CAAC,GAAL,CAASgE,KAAT,CAAe,KAA5B,CACA,mBACE,0BAAI,GAAG,CAAEC,IAAT,CAAe,SAAS,CAAC,iBAAzB,eACE,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,kBAAK,CAChD,MAAOpE,CAAAA,KAAK,CAACqE,OAAN,CAAcD,IAAd,CAAP,CAA4B,CAD9B,EACiCD,KADjC,CADF,CADF,CAMD,CATO,CAAR,CAUA,GAAGlE,OAAH,CAAW,CACT+D,CAAC,CAAGA,CAAC,CAACM,MAAF,cAAS,8BAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAKtE,CAAAA,KAAK,CAACuE,SAAN,CAAgBtE,OAAhB,CAAL,EAAtC,mBAAT,CAAJ,CACD,CACD,mBACE,2BAAK,SAAS,CAAC,UAAf,eACE,0BAAI,SAAS,CAAC,aAAd,EAA6B+D,CAA7B,CADF,CADF,CAKH,CACD,QAASQ,CAAAA,OAAT,EAAkB,eACQ3E,QAAQ,CAAC,CAAD,CADhB,wCACT4E,IADS,eACHC,OADG,eAEhB,GAAIC,CAAAA,GAAG,CAAG,CACRC,CAAC,CAAE,IADK,CAERtB,CAAC,CAAE,IAFK,CAAV,CAIA,GAAGmB,IAAI,GAAG,CAAV,CAAY,CACVE,GAAG,CAACC,CAAJ,cAAQ,8BAAQ,SAAS,CAAC,OAAlB,CAA0B,OAAO,CAAE,yBAAIF,CAAAA,OAAO,CAACD,IAAI,CAAC,CAAN,CAAX,EAAnC,OAAR,CACAE,GAAG,CAACrB,CAAJ,CAAQ,IAAR,CACD,CAHD,IAGO,IAAGmB,IAAI,GAAG,CAAV,CAAY,CACjBE,GAAG,CAACC,CAAJ,cAAQ,8BAAQ,SAAS,CAAC,OAAlB,CAA0B,OAAO,CAAE,yBAAIF,CAAAA,OAAO,CAACD,IAAI,CAAC,CAAN,CAAX,EAAnC,MAAR,CACAE,GAAG,CAACrB,CAAJ,CAAQ,IAAR,CACD,CAHM,IAGA,IAAGmB,IAAI,GAAG,CAAV,CAAY,CACjBE,GAAG,CAACC,CAAJ,cAAQ,8BAAQ,SAAS,CAAC,OAAlB,CAA0B,OAAO,CAAE,yBAAIF,CAAAA,OAAO,CAACD,IAAI,CAAC,CAAN,CAAX,EAAnC,MAAR,CACAE,GAAG,CAACrB,CAAJ,CAAQ,IAAR,CACD,CAHM,IAGA,IAAGmB,IAAI,GAAG,CAAV,CAAY,CACjBE,GAAG,CAACC,CAAJ,cAAQ,8BAAQ,SAAS,CAAC,MAAlB,CAAyB,OAAO,CAAE,yBAAIF,CAAAA,OAAO,CAAC,CAAD,CAAX,EAAlC,MAAR,CACAC,GAAG,CAACrB,CAAJ,CAAQ,GAAR,CACD,CAHM,IAGD,CACJoB,OAAO,CAAC,CAAD,CAAP,CACAC,GAAG,CAAG,IAAN,CACD,CACD,MAAOA,CAAAA,GAAP,CACD,CACD,QAASE,CAAAA,YAAT,CAAsB7E,KAAtB,CAA4B,CAC1B,GAAM8E,CAAAA,CAAC,CAAG9E,KAAK,CAACmB,GAAhB,CACA;AACA,GAAI4D,CAAAA,CAAC,CAAC,IAAN,CACA,GAAG/E,KAAK,CAACgF,IAAT,CAAc,CACZD,CAAC,CAAG/E,KAAK,CAACgF,IAAV,CACD,CACD,GAAMC,CAAAA,MAAM,CAAGjF,KAAK,CAACiF,MAArB,CACA,GAAMC,CAAAA,KAAK,CAAGJ,CAAC,CAACb,GAAF,CAAM,SAAC9C,GAAD,CAAS,CAC3B,GAAMgE,CAAAA,KAAK,CAAGhE,GAAG,CAACkC,IAAlB,CACA,GAAM+B,CAAAA,KAAK,CAAGjE,GAAG,CAACiE,KAAlB,CACA,GAAMhB,CAAAA,IAAI,CAAGa,MAAM,CAAC,GAAP,CAAWE,KAAX,EAAmBJ,CAAC,CAAC,IAAIA,CAAL,CAAO,EAA3B,CAAb,CACA;;;;;OAMA,mBACE,0BAAI,GAAG,CAAEX,IAAT,CAAe,SAAS,CAAC,iBAAzB,eACE,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,kBAAK,CAChD,MAAOpE,CAAAA,KAAK,CAACqE,OAAN,CAAcD,IAAd,CAAP,CAA4B,CAD9B,EACiCgB,KADjC,CADF,CADF,CAMD,CAhBa,CAAd,CAiBA,MAAOF,CAAAA,KAAP,CACD,CACD,QAASG,CAAAA,cAAT,CAAwBrF,KAAxB,CAA8B,IACrBqB,CAAAA,QADqB,CACyBrB,KADzB,CACrBqB,QADqB,CACXC,WADW,CACyBtB,KADzB,CACXsB,WADW,CACEC,SADF,CACyBvB,KADzB,CACEuB,SADF,CACatB,OADb,CACyBD,KADzB,CACaC,OADb,CAE5B,GAAMqF,CAAAA,GAAG,CAAGC,QAAQ,CAAC,CAAChD,KAAK,CAAElB,QAAR,CAAkBpB,OAAO,CAACA,OAA1B,CAAD,CAApB,CACA,GAAMuF,CAAAA,QAAQ,CAAGlE,WAAW,CAAC2C,GAAZ,CAAgB,SAACC,CAAD,CAAO,CACtC,GAAMuB,CAAAA,QAAQ,CAAGvB,CAAC,CAACb,IAAnB,CACA,GAAM4B,CAAAA,MAAM,CAAG5D,QAAQ,CAAC,GAAT,CAAaoE,QAA5B,CACA,GAAGA,QAAQ,GAAG,MAAd,CAAqB,CACnB,GAAMC,CAAAA,MAAM,CAAGT,MAAM,CAAC,OAAtB,CACA,GAAMU,CAAAA,IAAI,CAAG,MAAQtE,QAArB,CACA,mBACE,0BAAI,GAAG,CAAE4D,MAAT,CAAiB,SAAS,CAAC,gBAA3B,eACE,0BAAI,SAAS,CAAC,cAAd,eACA,0BAAI,GAAG,CAAES,MAAT,CAAiB,SAAS,CAAC,qBAA3B,eACA,8BAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAE,kBAAK,CACpD,MAAO1F,CAAAA,KAAK,CAACqE,OAAN,CAAcqB,MAAd,CAAP,CAA8B,CADhC,EACmCC,IADnC,CADA,CADA,CADF,CADF,CAQD,CACD,mBACE,0BAAI,GAAG,CAAEV,MAAT,CAAkB,SAAS,CAAC,gBAA5B,mBAA8C,2BAAK,SAAS,CAAC,gBAAf,EAAiCQ,QAAjC,CAA9C,cACE,0BAAI,SAAS,CAAC,cAAd,eAA6B,oBAAC,YAAD,EAAc,MAAM,CAAER,MAAtB,CAA8B,GAAG,CAAE1D,SAAnC,CAA8C,OAAO,CAAE,iBAACgB,KAAD,QAASvC,CAAAA,KAAK,CAACqE,OAAN,CAAc9B,KAAd,CAAT,EAAvD,EAA7B,CADF,CADF,CAKD,CApBgB,CAAjB,CAsBA,mBACE,2BAAK,SAAS,CAAC,UAAf,eACE,0BAAI,SAAS,CAAC,aAAd,EAA6BiD,QAA7B,CADF,cAEE,8BAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAKxF,CAAAA,KAAK,CAACuE,SAAN,CAAgBtE,OAAhB,CAAL,EAAtC,EAAsEqF,GAAtE,CAFF,CADF,CAOD,CACD,QAASM,CAAAA,WAAT,CAAqB5F,KAArB,CAA2B,IAClBqB,CAAAA,QADkB,CAC4BrB,KAD5B,CAClBqB,QADkB,CACRC,WADQ,CAC4BtB,KAD5B,CACRsB,WADQ,CACKC,SADL,CAC4BvB,KAD5B,CACKuB,SADL,CACgBtB,OADhB,CAC4BD,KAD5B,CACgBC,OADhB,CAEzB,GAAMqF,CAAAA,GAAG,CAAGC,QAAQ,CAAC,CAAChD,KAAK,CAAElB,QAAR,CAAkBpB,OAAO,CAACA,OAA1B,CAAD,CAApB,CACA,GAAMuF,CAAAA,QAAQ,CAAGlE,WAAW,CAAC2C,GAAZ,CAAgB,SAACC,CAAD,CAAO,CACtC,GAAMuB,CAAAA,QAAQ,CAAGvB,CAAC,CAACb,IAAnB,CACA,GAAM4B,CAAAA,MAAM,CAAG5D,QAAQ,CAAC,GAAT,CAAaoE,QAA5B,CACA,GAAMb,CAAAA,CAAC,CAAGJ,OAAO,EAAjB,CACA,GAAMG,CAAAA,GAAG,CAAGC,CAAC,CAACA,CAAd,CACA,GAAMtB,CAAAA,CAAC,CAAGsB,CAAC,CAACtB,CAAZ,CACA,GAAMuC,CAAAA,IAAI,CAAGZ,MAAM,CAAE,GAAR,CAAY3B,CAAzB,CACA,mBACE,0BAAI,GAAG,CAAE2B,MAAT,CAAkB,SAAS,CAAC,gBAA5B,mBAA8C,2BAAK,SAAS,CAAC,gBAAf,EAAiCQ,QAAjC,CAA9C,cACE,0BAAI,SAAS,CAAC,cAAd,eACE,0BAAI,GAAG,CAAEI,IAAT,CAAe,SAAS,CAAC,UAAzB,EAAqClB,GAArC,CADF,CADF,cAIE,0BAAI,SAAS,CAAC,cAAd,eAA6B,oBAAC,YAAD,EAAc,MAAM,CAAEM,MAAtB,CAA8B,IAAI,CAAE3B,CAApC,CAAuC,GAAG,CAAE/B,SAA5C,CAAuD,OAAO,CAAE,iBAACgB,KAAD,QAASvC,CAAAA,KAAK,CAACqE,OAAN,CAAc9B,KAAd,CAAT,EAAhE,EAA7B,CAJF,CADF,CAQD,CAfgB,CAAjB,CAiBA,mBACE,2BAAK,SAAS,CAAC,UAAf,eACE,0BAAI,SAAS,CAAC,aAAd,EAA6BiD,QAA7B,CADF,cAEE,8BAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAKxF,CAAAA,KAAK,CAACuE,SAAN,CAAgBtE,OAAhB,CAAL,EAAtC,EAAsEqF,GAAtE,CAFF,CADF,CAMD,CACD,QAAS1C,CAAAA,WAAT,CAAqBL,KAArB,CAA2B,CACzB,GAAGA,KAAK,CAACuD,MAAN,GAAe,CAAlB,CAAoB,CAClB,MAAO,KAAP,CACD,CACD,GAAIC,CAAAA,CAAC,CAAGxD,KAAK,CAACyD,OAAN,CAAc,GAAd,CAAR,CACA,GAAIC,CAAAA,CAAC,CAAG,EAAR,CACA,GAAI/B,CAAAA,CAAC,CAAG,CAAR,CACA,GAAIgC,CAAAA,GAAG,CAAG3D,KAAK,CAAC,GAAhB,CACA,MAAOwD,CAAC,CAAC,CAAT,CAAW,CACTE,CAAC,CAAC/B,CAAD,CAAD,CAAOgC,GAAG,CAACC,SAAJ,CAAc,CAAd,CAAgBJ,CAAhB,CAAP,CACAG,GAAG,CAAGA,GAAG,CAACC,SAAJ,CAAcJ,CAAC,CAAC,CAAhB,CAAN,CACAA,CAAC,CAAGG,GAAG,CAACF,OAAJ,CAAY,GAAZ,CAAJ,CACA9B,CAAC,GACF,CACD,GAAIkC,CAAAA,GAAG,CAAG,CACRjG,IAAI,CAAG+D,CAAC,EAAE,CAAH,CAAK+B,CAAC,CAAC,CAAD,CAAN,CAAU,EADT,CAER5C,IAAI,CAAGa,CAAC,EAAE,CAAH,CAAK+B,CAAC,CAAC,CAAD,CAAN,CAAU,EAFT,CAGR9E,GAAG,CAAG+C,CAAC,EAAE,CAAH,CAAK+B,CAAC,CAAC,CAAD,CAAN,CAAU,EAHR,CAIRI,EAAE,CAAE,EAJI,CAKRC,KAAK,CAAE,EALC,CAAV,CAOA,GAAGpC,CAAC,GAAG,CAAP,CAAS,CACPkC,GAAG,CAACC,EAAJ,CAASJ,CAAC,CAAC,CAAD,CAAV,CACA,GAAMM,CAAAA,CAAC,CAAGzG,IAAI,CAAC2E,IAAL,CAAU+B,SAAV,CAAoB,SAAAzB,CAAC,QAAIA,CAAAA,CAAC,CAACxC,KAAF,GAAY0D,CAAC,CAAC,CAAD,CAAjB,EAArB,CAAV,CACA,GAAGM,CAAC,GAAG,CAAC,CAAR,CAAU,CACRH,GAAG,CAACE,KAAJ,CAAYxG,IAAI,CAAC2E,IAAL,CAAU8B,CAAV,EAAa/C,GAAzB,CACD,CAFD,IAEO,CACL4C,GAAG,CAACjF,GAAJ,CAAU,MAAV,CACAiF,GAAG,CAACC,EAAJ,CAAS,EAAT,CACAD,GAAG,CAACE,KAAJ,CAAY,EAAZ,CACD,CACF,CACD,MAAOF,CAAAA,GAAP,CACD,CACD,QAASb,CAAAA,QAAT,CAAkBvF,KAAlB,CAAwB,CACtB,GAAMK,CAAAA,OAAO,CAAGL,KAAK,CAACuC,KAAtB,CACA,GAAMtC,CAAAA,OAAO,CAAGD,KAAK,CAACC,OAAtB,CACA,GAAGA,OAAH,CAAW,CACT,MAAO,gBAAP,CACD,CACD,OAAOI,OAAP,EACE,IAAK,QAAL,CACE,MAAO,EAAP,CACF,IAAK,OAAL,CACE,MAAO,EAAP,CACF,IAAK,QAAL,CACE,MAAO,eAAP,CACF,IAAK,SAAL,CACE,MAAO,aAAP,CACF,IAAK,OAAL,CACE,MAAO,iBAAP,CACF,IAAK,UAAL,CACE,MAAO,eAAP,CACF,QACE,MAAO,EAAP,CAdJ,CAgBD,CAODN,SAAS,CAAC0G,YAAV,CAAyB,CACvBC,KAAK,CAAEC,SADgB,CAEvB/C,eAAe,CAAE+C,SAFM,CAAzB,CAKA,cAAe5G,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Menu from './pizzaMenu.json';\r\nimport '../css/OrderStyle.css';\r\n\r\nclass OrderStep extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const stepOvr = this.props.stepOvr;\r\n    const order = this.props.step.metadata;\r\n    const curStep = (stepOvr? this.props.stepID:this.props.step.id);    \r\n    const pID = (stepOvr? order.EditID:(order.NextPizzaID-1));    \r\n    const pizza = (stepOvr? order.selectPizza(pID): order.CurrentPizza);\r\n    const sizeStep= curStep==='crusts'||curStep==='sizes'? true:false;\r\n    const topStep = curStep==='meats'||curStep==='nonmeats'? true:false;\r\n    const notTopStep = curStep==='cheeses'||curStep==='sauces'? true:false;\r\n    const multiSel = curStep==='cheeses'||'meats'||curStep==='nonmeats'? true:false;\r\n    const opts = Menu[curStep];\r\n    const qty = Menu.qty;\r\n    this.state ={\r\n      stepOvr:stepOvr,\r\n      stepType: curStep,\r\n      itemOptions: opts,\r\n      optionQty: qty,      \r\n      isSizeStep: sizeStep,\r\n      isTopStep: topStep,\r\n      isNotTopStep: notTopStep,\r\n      multiSel:multiSel,\r\n      currentSel: [],\r\n      pizza: pizza,\r\n      trigger: false,\r\n      label: {\r\n        crusts: '',\r\n        sizes: '',\r\n        sauces: '',\r\n        cheeses: '',\r\n        meats: '',\r\n        nonmeats: '',\r\n      },\r\n    };   \r\n    this.triggerNext = this.triggerNext.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  } \r\n  handleClick(value){\r\n    const {stepType, /*currentSel, multiSel,*/ pizza, label } = this.state;\r\n    let updateSel;\r\n    let newPizza = pizza;\r\n    let lbl = label; \r\n    const newSel = GetItemInfo(value);\r\n    /*\r\n    const i = currentSel.findIndex(item => item.type === newSel.type && item.step === newSel.step);\r\n    if((i===-1 && multiSel) || currentSel.length===0) {\r\n      //add selection\r\n      updateSel = currentSel.concat(newSel);\r\n    } else if(i===-1 && !multiSel) {\r\n      //change selection\r\n      updateSel = newSel;\r\n    } else {\r\n      //change/delete selection\r\n      if(newSel===currentSel[i]) {\r\n        updateSel =currentSel.splice(i,1);\r\n      } else {\r\n        updateSel =currentSel.splice(i,1,newSel);\r\n      }\r\n    }*/\r\n    switch(stepType){\r\n      case 'crusts':\r\n        newPizza.Crust = newSel;\r\n        lbl.crusts = newPizza.Crust;\r\n        break;\r\n      case 'sizes':\r\n        newPizza.Size = newSel;\r\n        lbl.sizes = newPizza.Size;\r\n        break;\r\n      case 'sauces':\r\n        newPizza.Sauce = newSel;\r\n        lbl.sauces = newPizza.Sauce;\r\n        break;\r\n      case 'cheeses':\r\n        newPizza.Cheese = newSel;\r\n        lbl.cheeses = newPizza.Cheese;\r\n        break;\r\n      case 'meats':\r\n        newPizza.Topping = newSel;\r\n        lbl.meats = newPizza.MeatToppings;\r\n        break;\r\n      case 'nonmeats':\r\n        newPizza.Topping = newSel;\r\n        lbl.nonmeats = newPizza.NonMeatToppings;\r\n        break;\r\n      default:\r\n    }\r\n    this.setState({\r\n      currentSel: updateSel,\r\n      pizza: newPizza,\r\n      label: lbl,\r\n    });\r\n    if(newSel.type==='None'||newSel.step==='crusts'||newSel.step==='sizes'||newSel.step==='sauces'){\r\n      this.triggerNext();\r\n    }\r\n  }\r\n  triggerNext(v){\r\n    const type = this.state.stepType;\r\n    const label = new Array(this.state.label[type]);\r\n    const msg = label[0];\r\n    if(msg===''){\r\n      const r = type + ':None:None';\r\n      this.handleClick(r);\r\n      return null;\r\n    }\r\n    const data = {\r\n      value: label,\r\n      type: type,\r\n      msg: msg,\r\n    };\r\n    const p = this.state.pizza;\r\n    this.props.step.metadata=p;\r\n    this.setState({trigger: true}, () => {\r\n      this.props.triggerNextStep(data);\r\n    });\r\n  }\r\n  render(){\r\n    const {stepType, itemOptions, optionQty, isNotTopStep, isSizeStep, isTopStep,stepOvr } = this.state;    \r\n    return (\r\n      <div className='orderStep'>\r\n        {isNotTopStep && \r\n          <NotToppingStep stepType={stepType} itemOptions={itemOptions} optionQty={optionQty} stepOvr={stepOvr}    \r\n        onClick={(value)=>this.handleClick(value)} onTrigger={(v)=>this.triggerNext(v)}/>}\r\n        {isSizeStep && \r\n          <SizeCrustStep stepType={stepType} stepOvr={stepOvr} itemOptions={itemOptions} onClick={(value)=>this.handleClick(value)} onTrigger={(v)=>this.triggerNext(v)}/>        \r\n        }\r\n        {isTopStep && \r\n          <ToppingStep stepType={stepType} itemOptions={itemOptions} optionQty={optionQty} stepOvr={stepOvr}  \r\n        onClick={(value)=>this.handleClick(value)} onTrigger={(v)=>this.triggerNext(v)}/>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction SizeCrustStep(props){\r\n  const step = props.stepType;\r\n  const stepOvr = props.stepOvr;\r\n\r\n    const list = props.itemOptions;\r\n    let c = list.map((i) => {\r\n      const cName = i.type;\r\n      const code = step+':'+cName+':No';\r\n      return (\r\n        <li key={code} className=\"menuListOptsEle\">\r\n          <button className=\"menuListOptsBtn\" onClick={()=> {\r\n            return props.onClick(code);}}>{cName}</button>        \r\n        </li>\r\n      )\r\n    })\r\n    if(stepOvr){\r\n      c = c.concat(<button className=\"nextStep\" onClick={()=> props.onTrigger(stepOvr)}>Finished edits</button>)\r\n    }\r\n    return (\r\n      <div className=\"menuList\">\r\n        <ul className=\"menuOptions\">{c}</ul>\r\n      </div>\r\n    )\r\n}\r\nfunction HalfBtn(){\r\n  const [half, setHalf] = useState(0);\r\n  let btn = {\r\n    b: null,\r\n    v: null,\r\n  };\r\n  if(half===0){\r\n    btn.b = <button className=\"wpBtn\" onClick={()=>setHalf(half+1)}>wp</button>\r\n    btn.v = 'wp';\r\n  } else if(half===1){\r\n    btn.b = <button className=\"lhBtn\" onClick={()=>setHalf(half+1)}>L</button>\r\n    btn.v = 'LH';\r\n  } else if(half===2){\r\n    btn.b = <button className=\"rhBtn\" onClick={()=>setHalf(half+1)}>R</button>\r\n    btn.v = 'RH';\r\n  } else if(half===3){\r\n    btn.b = <button className=\"nBtn\" onClick={()=>setHalf(0)}>N</button>\r\n    btn.v = 'N';\r\n  } else{\r\n    setHalf(0);\r\n    btn = null;\r\n  }\r\n  return btn;\r\n}\r\nfunction InnerQtyList(props){\r\n  const q = props.qty;\r\n  //const sel = props.sel;\r\n  let h=null;\r\n  if(props.hKey){\r\n    h = props.hKey;\r\n  }\r\n  const oLiKey = props.oLiKey;\r\n  const qList = q.map((qty) => {\r\n    const qName = qty.type;\r\n    const short = qty.short;    \r\n    const code = oLiKey+':'+qName +(h?':'+h:'');    \r\n    /*const i = sel.findIndex(item => item.type === sel.type && item.step === sel.step);\r\n    console.log('Currently selected index = ' + i);\r\n    let btnCapt = \"menuListOptsBtn\";\r\n    if(i!==-1){\r\n      btnCapt = \"selMenuListOptsBtn\";\r\n    }*/\r\n    return (\r\n      <li key={code} className=\"menuListOptsEle\">\r\n        <button className=\"menuListOptsBtn\" onClick={()=> {\r\n          return props.onClick(code);}}>{short}</button>        \r\n      </li>\r\n    )\r\n  })\r\n  return qList; \r\n}\r\nfunction NotToppingStep(props){\r\n  const {stepType, itemOptions, optionQty, stepOvr } = props;\r\n  const nxt = NextStep({value: stepType, stepOvr:stepOvr});\r\n  const itemList = itemOptions.map((i) => {\r\n    const itemName = i.type;\r\n    const oLiKey = stepType+':'+itemName;\r\n    if(itemName==='None'){      \r\n      const nncode = oLiKey+':None';\r\n      const none = 'No ' + stepType;     \r\n      return (        \r\n        <li key={oLiKey} className=\"menuOptionsEle\">\r\n          <ul className=\"menuListOpts\">  \r\n          <li key={nncode} className=\"menuListOptsEleNone\">\r\n          <button className=\"menuListOptsBtnNone\" onClick={()=> {\r\n            return props.onClick(nncode);}}>{none}</button>        \r\n        </li></ul></li>        \r\n      );\r\n    }               \r\n    return (      \r\n      <li key={oLiKey}  className=\"menuOptionsEle\"> <div className=\"menuOptionName\">{itemName}</div>\r\n        <ul className=\"menuListOpts\"><InnerQtyList oLiKey={oLiKey} qty={optionQty} onClick={(value)=>props.onClick(value)}/></ul>\r\n      </li> \r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"menuList\">\r\n      <ul className=\"menuOptions\">{itemList}</ul>\r\n      <button className=\"nextStep\" onClick={()=> props.onTrigger(stepOvr)}>{nxt}</button>\r\n    </div>\r\n  )\r\n  \r\n}\r\nfunction ToppingStep(props){\r\n  const {stepType, itemOptions, optionQty, stepOvr } = props;\r\n  const nxt = NextStep({value: stepType, stepOvr:stepOvr});\r\n  const itemList = itemOptions.map((i) => {\r\n    const itemName = i.type;\r\n    const oLiKey = stepType+':'+itemName;\r\n    const b = HalfBtn();\r\n    const btn = b.b;\r\n    const v = b.v;\r\n    const bKey = oLiKey+ ':'+v;                   \r\n    return (      \r\n      <li key={oLiKey}  className=\"menuOptionsEle\"> <div className=\"menuOptionName\">{itemName}</div>\r\n        <ul className=\"menuHalfOpts\">\r\n          <li key={bKey} className=\"halfList\">{btn}</li>\r\n        </ul>\r\n        <ul className=\"menuListOpts\"><InnerQtyList oLiKey={oLiKey} hKey={v} qty={optionQty} onClick={(value)=>props.onClick(value)}/></ul>\r\n      </li> \r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"menuList\">\r\n      <ul className=\"menuOptions\">{itemList}</ul>\r\n      <button className=\"nextStep\" onClick={()=> props.onTrigger(stepOvr)}>{nxt}</button>\r\n    </div>\r\n  )\r\n}\r\nfunction GetItemInfo(value){\r\n  if(value.length===0){\r\n    return null;\r\n  }\r\n  let x = value.indexOf(':');\r\n  let s = [];\r\n  let i = 0;\r\n  let rem = value+':';\r\n  while (x>0){\r\n    s[i] = rem.substring(0,x);\r\n    rem = rem.substring(x+1);\r\n    x = rem.indexOf(':');\r\n    i++;    \r\n  }\r\n  let ret = {\r\n    step: (i>=1?s[0]:''),\r\n    type: (i>=2?s[1]:''),\r\n    qty: (i>=3?s[2]:''),\r\n    on: '',\r\n    onMsg: '',\r\n  };\r\n  if(i===4){\r\n    ret.on = s[3];\r\n    const z = Menu.half.findIndex(h => h.value === s[3]);\r\n    if(z!==-1){\r\n      ret.onMsg = Menu.half[z].msg;\r\n    } else {\r\n      ret.qty = 'None';\r\n      ret.on = '';\r\n      ret.onMsg = '';\r\n    }\r\n  }\r\n  return ret;\r\n}\r\nfunction NextStep(props){\r\n  const curStep = props.value;\r\n  const stepOvr = props.stepOvr;\r\n  if(stepOvr){\r\n    return 'Finished edits';\r\n  }\r\n  switch(curStep){\r\n    case 'crusts':\r\n      return '';\r\n    case 'sizes':\r\n      return '';\r\n    case 'sauces':\r\n      return 'Go to Cheeses';\r\n    case 'cheeses':\r\n      return 'Go to meats';\r\n    case 'meats':\r\n      return 'Go to non-meats';\r\n    case 'nonmeats':\r\n      return 'Go to summary';\r\n    default:\r\n      return '';\r\n  }\r\n}\r\nOrderStep.propTypes = {\r\n  steps: PropTypes.object,\r\n  step: PropTypes.object,\r\n  triggerNextStep: PropTypes.func,\r\n  pizza: PropTypes.object,  \r\n};\r\nOrderStep.defaultProps = {\r\n  steps: undefined,\r\n  triggerNextStep: undefined,    \r\n};\r\n\r\nexport default OrderStep;"]},"metadata":{},"sourceType":"module"}