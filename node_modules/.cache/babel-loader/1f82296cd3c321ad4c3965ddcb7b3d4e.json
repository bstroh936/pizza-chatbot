{"ast":null,"code":"import _objectSpread from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import{MenuStep,CancelStep,EditItemStep,RemoveStep,ReviewOrderStep,ReviewPizzaStep,NewOrderStep,ChangeName,SpecialInstructions}from'../AppElements/Steps/index';var StepComponents={menuStep:MenuStep,cancel:CancelStep,editItem:EditItemStep,remove:RemoveStep,reviewOrder:ReviewOrderStep,reviewPizza:ReviewPizzaStep,newOrder:NewOrderStep,changeName:ChangeName,specialInstructions:SpecialInstructions};var BotStep=/*#__PURE__*/function(_React$Component){_inherits(BotStep,_React$Component);var _super=_createSuper(BotStep);function BotStep(props){var _this;_classCallCheck(this,BotStep);_this=_super.call(this,props);_this.state={botStepData:null,trigger:false};_this.onTrigger=_this.onTrigger.bind(_assertThisInitialized(_this));return _this;}_createClass(BotStep,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.botStepData===null&&!this.state.trigger){var data=this.props.getBotState();this.setState({botStepData:data});}}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(this.state.trigger||nextState.trigger){return false;}return true;}},{key:\"onTrigger\",value:function onTrigger(props){var _this2=this;var bot=\"\".concat(props.botStepKey,\"=>(id=\").concat(this.props.step.key.substring(0,5),\")\");var genericStep=this.props.steps.pizzabuilder;this.props.step.id=bot;genericStep.id=bot;this.props.steps[bot]=genericStep;this.props.step.trigger=props.trigger;this.setState({trigger:true},function(){_this2.props.triggerNextStep(props);});}},{key:\"render\",value:function render(){var _this3=this;if(this.state.botStepData===null||this.state.botStepData===undefined){return null;}var _this$props=this.props,step=_this$props.step,steps=_this$props.steps,previousStep=_this$props.previousStep,passThroughProps=_objectWithoutProperties(_this$props,[\"step\",\"steps\",\"previousStep\"]);var prevStepValue=previousStep.hasOwnProperty('value')?previousStep.value:false;var prevStepID=previousStep.id;var botStepData=this.state.botStepData;botStepData.prevStepValue=prevStepValue;botStepData.prevStepID=prevStepID;var StepComponent=StepComponents[botStepData.botDisplay];return/*#__PURE__*/_jsx(StepComponent,_objectSpread({botStepData:botStepData,triggerNext:function triggerNext(p){return _this3.onTrigger(p);}},passThroughProps));}}]);return BotStep;}(React.Component);export{BotStep as default};","map":{"version":3,"sources":["C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/src/components/SliceBot/BotStep.jsx"],"names":["React","MenuStep","CancelStep","EditItemStep","RemoveStep","ReviewOrderStep","ReviewPizzaStep","NewOrderStep","ChangeName","SpecialInstructions","StepComponents","menuStep","cancel","editItem","remove","reviewOrder","reviewPizza","newOrder","changeName","specialInstructions","BotStep","props","state","botStepData","trigger","onTrigger","bind","data","getBotState","setState","nextProps","nextState","bot","botStepKey","step","key","substring","genericStep","steps","pizzabuilder","id","triggerNextStep","undefined","previousStep","passThroughProps","prevStepValue","hasOwnProperty","value","prevStepID","StepComponent","botDisplay","p","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {MenuStep, CancelStep, EditItemStep, RemoveStep, ReviewOrderStep, ReviewPizzaStep, NewOrderStep, ChangeName, SpecialInstructions} from '../AppElements/Steps/index';\r\n\r\nconst StepComponents ={\r\n  menuStep:MenuStep,\r\n  cancel:CancelStep,\r\n  editItem:EditItemStep,\r\n  remove:RemoveStep, \r\n  reviewOrder:ReviewOrderStep, \r\n  reviewPizza:ReviewPizzaStep, \r\n  newOrder:NewOrderStep, \r\n  changeName:ChangeName, \r\n  specialInstructions:SpecialInstructions\r\n}\r\nexport default class BotStep extends React.Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {botStepData:null, trigger:false};\r\n    this.onTrigger = this.onTrigger.bind(this);       \r\n  }\r\n  componentDidMount(){\r\n    if(this.state.botStepData===null&&!this.state.trigger){\r\n      const data = this.props.getBotState();\r\n      this.setState({botStepData:data})\r\n    }\r\n  }  \r\n  shouldComponentUpdate(nextProps,nextState){\r\n    if(this.state.trigger||nextState.trigger){\r\n      return false\r\n    }    \r\n    return true;   \r\n  } \r\n  onTrigger(props){    \r\n    const bot = `${props.botStepKey}=>(id=${this.props.step.key.substring(0,5)})`;\r\n    const genericStep = this.props.steps.pizzabuilder;\r\n    this.props.step.id = bot;\r\n    genericStep.id = bot;    \r\n    this.props.steps[bot] = genericStep;\r\n    this.props.step.trigger = props.trigger;    \r\n    this.setState({trigger: true}, () => {\r\n      this.props.triggerNextStep(props);\r\n    });\r\n  }\r\n  render(){\r\n    if(this.state.botStepData===null||this.state.botStepData===undefined){return null}    \r\n    const {step, steps, previousStep, ...passThroughProps} = this.props\r\n    const prevStepValue = previousStep.hasOwnProperty('value')?previousStep.value:false;\r\n    const prevStepID = previousStep.id;\r\n    const botStepData = this.state.botStepData;\r\n    botStepData.prevStepValue=prevStepValue;\r\n    botStepData.prevStepID=prevStepID;\r\n    const StepComponent = StepComponents[botStepData.botDisplay];       \r\n    return <StepComponent botStepData={botStepData} triggerNext={(p)=>this.onTrigger(p)} {...passThroughProps}/>\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}