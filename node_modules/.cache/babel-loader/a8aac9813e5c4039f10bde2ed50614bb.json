{"ast":null,"code":"import _classCallCheck from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';//import {Route,Redirect} from 'react-router-dom';\nimport GeoIcon from'../resources/GeoIcon.jsx';import'../css/StoreLoc.css';var StoreLoc=/*#__PURE__*/function(_React$Component){_inherits(StoreLoc,_React$Component);var _super=_createSuper(StoreLoc);function StoreLoc(props){var _this;_classCallCheck(this,StoreLoc);_this=_super.call(this,props);_this.updateLoc=function(p){var loc=_this.props.locObj;var values={type:'loc',locObj:null};switch(p.type){case'reset':loc.resetLoc();break;case'search':var obj={method:p.values,usrStr:p.values==='User Entry'?_this.props.forwardedRef.current.value:''};loc.storeSearch=obj;break;case'select':loc.storeLoc=p.values;break;default:}values.locObj=loc;values.type=loc.searchStep;_this.setState({locMode:loc.searchStep},function(){_this.props.updateAppState({type:'location',values:{appValues:values}});});};var mode=_this.props.locObj===undefined?'':_this.props.locObj.searchStep;_this.state={locMode:mode};_this.updateLoc=_this.updateLoc.bind(_assertThisInitialized(_this));return _this;}_createClass(StoreLoc,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.locObj!==prevProps.locObj){this.setState({locMode:this.props.locObj.searchStep});}}},{key:\"render\",value:function render(){var _this2=this;var show=function show(type){switch(type){case'search':return/*#__PURE__*/_jsx(StoreSearchMenu,{locObj:_this2.props.locObj,forwardedRef:_this2.props.forwardedRef,updateLoc:function updateLoc(p){return _this2.updateLoc(p);}});case'select':return/*#__PURE__*/ (/*<><Redirect to=\"/pizza-chatbot/locations\" /><Route path=\"/pizza-chatbot/locations\" component={() =>*/_jsx(StoreSelectMenu,{locObj:_this2.props.locObj,updateLoc:function updateLoc(p){return _this2.updateLoc(p);}})/*}}/></>*/);default:return null;}};return/*#__PURE__*/_jsx(_Fragment,{children:show(this.state.locMode)});}}]);return StoreLoc;}(React.Component);function StoreSearchMenu(props){var locObj=props.locObj;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"searchPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searchGreeting\",children:\"Find your Slice\"}),/*#__PURE__*/_jsx(\"div\",{className:\"srchGrtCaption\",children:\"Available Menu Items, Special Offers, and Pricing can vary by location.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchContentWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searchBoxBanner\",children:\"Find Locations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchOptions\",children:[/*#__PURE__*/_jsx(MakeGeoDialog,{locObj:locObj,updateLoc:props.updateLoc}),/*#__PURE__*/_jsx(MakeUserDialog,{locObj:locObj,updateLoc:props.updateLoc,forwardedRef:props.forwardedRef})]})]}),/*#__PURE__*/_jsx(MakePrevDialog,{locObj:locObj,updateLoc:props.updateLoc})]})]})});}function MakeGeoDialog(props){var locObj=props.locObj;var hasErr=locObj.geoErr;var capStr=hasErr?locObj.geoErrMsg:'Locations near '+locObj.geoZip;var clsStr=hasErr?\"geoSearchFail\":\"geoSearchBtn\";var ret={type:'search',values:'Geo Locate'};return/*#__PURE__*/_jsx(\"div\",{className:\"geoSearchArea\",children:/*#__PURE__*/_jsxs(\"button\",{className:clsStr,onClick:function onClick(){return props.updateLoc(ret);},children:[/*#__PURE__*/_jsx(GeoIcon,{fill:\"#000000\",className:\"geoSearchIcon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"geoSearchBtnCapt\",children:capStr})]})});}function MakeUserDialog(props){var locObj=props.locObj;var hasErr=locObj.userErr;var capStr=hasErr?locObj.userErrMsg:null;var ret={type:'search',values:'User Entry'};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"userSearchArea\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"userSearchLabel\",children:\"Enter a Zip Code\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"searchForm\",onKeyDown:function onKeyDown(event,i){if(event.key==='Enter'){props.updateLoc(ret);event.preventDefault();}},children:[/*#__PURE__*/_jsx(\"input\",{className:\"userInputString\",type:\"text\",ref:props.forwardedRef}),capStr]}),/*#__PURE__*/_jsx(\"button\",{className:\"userSearchBtn\",type:\"button\",onClick:function onClick(){return props.updateLoc(ret);},children:\"Submit\"})]})});}function MakePrevDialog(props){var locObj=props.locObj;var prev=locObj.prevStoreID;if(prev==='0'){return null;}var ret={type:'select',values:prev};var storeInfo=locObj.curStoreInfo;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"searchOrPrev\",children:\"Or\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"prevLocBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"prevLocBanner\",children:\"Keep this location\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prevLocName\",children:storeInfo.name}),/*#__PURE__*/_jsx(\"div\",{className:\"prevLocHours\",children:storeInfo.hours}),/*#__PURE__*/_jsx(\"button\",{className:\"prevLocConfirm\",onClick:function onClick(){return props.updateLoc(ret);},children:\"Select\"})]})]});}function StoreSelectMenu(props){var locObj=props.locObj;var searchLoc=locObj.searchLoc;var storeIDs=['1','2','3'];var ret={type:'reset',values:false};var storeList=storeIDs.map(function(storeID){var store=locObj.storeInfo(storeID);var sel={type:'select',values:storeID};return/*#__PURE__*/_jsxs(\"li\",{className:\"resultElement\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"store\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"storeAddress\",children:store.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"storeDetails\",children:[\"Store is \",store.hours,\", and is located \",store.dist,\" miles away\"]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"selectBtn\",onClick:function onClick(){props.updateLoc(sel);},children:\"Select\"})})]},storeID);});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"storeSelect\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"storeSelectBanner\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"resultsCapt\",children:[\"Showing results near: \",searchLoc]}),/*#__PURE__*/_jsx(\"div\",{className:\"resultsChange\",onClick:function onClick(){return props.updateLoc(ret);},children:\"Change Location\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"resultsList\",children:storeList})]})});}export default StoreLoc;","map":{"version":3,"sources":["C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/src/components/StoreLoc.jsx"],"names":["React","GeoIcon","StoreLoc","props","updateLoc","p","loc","locObj","values","type","resetLoc","obj","method","usrStr","forwardedRef","current","value","storeSearch","storeLoc","searchStep","setState","locMode","updateAppState","appValues","mode","undefined","state","bind","prevProps","show","Component","StoreSearchMenu","MakeGeoDialog","hasErr","geoErr","capStr","geoErrMsg","geoZip","clsStr","ret","MakeUserDialog","userErr","userErrMsg","event","i","key","preventDefault","MakePrevDialog","prev","prevStoreID","storeInfo","curStoreInfo","name","hours","StoreSelectMenu","searchLoc","storeIDs","storeList","map","storeID","store","sel","dist"],"mappings":"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","sourcesContent":["import React from 'react';\r\n//import {Route,Redirect} from 'react-router-dom';\r\nimport GeoIcon from '../resources/GeoIcon.jsx';\r\nimport '../css/StoreLoc.css';\r\n\r\nclass StoreLoc extends React.Component {\r\n  constructor(props){\r\n    super(props);    \r\n    const mode = this.props.locObj===undefined?'':this.props.locObj.searchStep\r\n    this.state = {\r\n      locMode:mode,           \r\n    };\r\n    this.updateLoc = this.updateLoc.bind(this);   \r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(this.props.locObj!==prevProps.locObj){\r\n      this.setState({     \r\n        locMode:this.props.locObj.searchStep,              \r\n      });\r\n    }\r\n  }\r\n  updateLoc = (p)=>{\r\n    const loc = this.props.locObj\r\n    const values = {type:'loc', locObj:null};\r\n    switch(p.type){\r\n      case 'reset':\r\n        loc.resetLoc();\r\n        \r\n        break;\r\n      case 'search':\r\n        const obj = {method: p.values,\r\n          usrStr: p.values==='User Entry'?this.props.forwardedRef.current.value:''};\r\n        loc.storeSearch = obj;\r\n        break;\r\n      case 'select':\r\n        loc.storeLoc = p.values;\r\n      break;\r\n      default:\r\n    }\r\n    values.locObj = loc;\r\n    values.type = loc.searchStep;\r\n    this.setState({locMode:loc.searchStep}, ()=> {\r\n      this.props.updateAppState({type:'location',values:{appValues:values}})\r\n    });\r\n  }  \r\n  render(){    \r\n    const show= (type)=>{\r\n      switch(type){\r\n        case 'search':\r\n          return <StoreSearchMenu locObj={this.props.locObj} forwardedRef={this.props.forwardedRef} updateLoc={(p)=>{return this.updateLoc(p)}}/>\r\n        case 'select':\r\n          return (/*<><Redirect to=\"/pizza-chatbot/locations\" /><Route path=\"/pizza-chatbot/locations\" component={() =>*/ \r\n          <StoreSelectMenu locObj={this.props.locObj} updateLoc={(p)=>{return this.updateLoc(p)}}/>\r\n          /*}}/></>*/)\r\n        default:\r\n          return null;\r\n      }\r\n    }    \r\n    return(\r\n      <>{show(this.state.locMode)}</>\r\n    )\r\n  }\r\n}\r\n\r\nfunction StoreSearchMenu(props) {\r\n  const locObj = props.locObj;\r\n  return (\r\n    <>\r\n    <div className=\"searchPage\">\r\n    <div className=\"searchGreeting\">Find your Slice</div>\r\n    <div className=\"srchGrtCaption\">Available Menu Items, Special Offers, and Pricing can vary by location.</div>\r\n    <div className=\"searchContentWrapper\">\r\n    <div className=\"searchBox\">\r\n      <div className=\"searchBoxBanner\">Find Locations</div>\r\n      <div className=\"searchOptions\">\r\n        <MakeGeoDialog locObj={locObj} updateLoc={props.updateLoc}/>\r\n        <MakeUserDialog locObj={locObj} updateLoc={props.updateLoc} forwardedRef={props.forwardedRef} />\r\n      </div>\r\n    </div>              \r\n      <MakePrevDialog locObj={locObj} updateLoc={props.updateLoc}/>\r\n    </div>\r\n    </div> \r\n    </>\r\n  );\r\n}\r\nfunction MakeGeoDialog(props) {\r\n  const locObj = props.locObj;\r\n  const hasErr = locObj.geoErr;\r\n  const capStr = hasErr?locObj.geoErrMsg:'Locations near ' + locObj.geoZip;    \r\n  const clsStr = hasErr?\"geoSearchFail\": \"geoSearchBtn\";  \r\n  const ret = {type:'search', values:'Geo Locate'};\r\n  return (\r\n    <div className=\"geoSearchArea\">\r\n      <button className={clsStr} onClick={() => props.updateLoc(ret)}>\r\n        <GeoIcon fill=\"#000000\" className=\"geoSearchIcon\"/>\r\n        <div className=\"geoSearchBtnCapt\">{capStr}</div>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nfunction MakeUserDialog(props) {\r\n  const locObj = props.locObj;\r\n  const hasErr = locObj.userErr;\r\n  const capStr = hasErr?locObj.userErrMsg:null;    \r\n  const ret = {type:'search', values:'User Entry'};\r\n  return (\r\n    <>\r\n    <div className=\"userSearchArea\">\r\n    <div className=\"userSearchLabel\">Enter a Zip Code</div>\r\n    <form className=\"searchForm\" onKeyDown={(event, i) => {\r\n      if(event.key === 'Enter') {\r\n        props.updateLoc(ret); \r\n        event.preventDefault();}}}>\r\n      <input className=\"userInputString\" type=\"text\" ref={props.forwardedRef}/>\r\n      {capStr}\r\n    </form>\r\n      <button className=\"userSearchBtn\" type=\"button\" onClick={() => props.updateLoc(ret)}>\r\n      Submit</button>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\nfunction MakePrevDialog(props) {\r\n  const locObj = props.locObj;\r\n  const prev = locObj.prevStoreID;              \r\n  if (prev==='0'){\r\n    return null;\r\n  }\r\n  const ret = {type:'select', values:prev};\r\n  const storeInfo = locObj.curStoreInfo;    \r\n  return(\r\n    <>\r\n    <div className=\"searchOrPrev\">Or</div>\r\n    <div className=\"prevLocBox\">    \r\n      <div className=\"prevLocBanner\">Keep this location</div>        \r\n      <div className=\"prevLocName\">{storeInfo.name}</div>\r\n      <div className=\"prevLocHours\">{storeInfo.hours}</div>\r\n      <button className=\"prevLocConfirm\" onClick={() => props.updateLoc(ret)}>Select</button>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\nfunction StoreSelectMenu(props){\r\n  const locObj = props.locObj;  \r\n  const searchLoc = locObj.searchLoc;    \r\n  const storeIDs = ['1','2','3'];\r\n  const ret = {type:'reset', values:false};\r\n  const storeList = storeIDs.map((storeID) => {\r\n    const store = locObj.storeInfo(storeID);\r\n    const sel = {type:'select', values:storeID};\r\n    return (\r\n      <li key={storeID} className=\"resultElement\"> \r\n        <div className=\"store\">\r\n        <div className=\"storeAddress\">{store.name}</div>\r\n        <div className=\"storeDetails\">Store is {store.hours}, and is located {store.dist} miles away</div>\r\n        </div>\r\n        <div>\r\n        <button className=\"selectBtn\" onClick={() => {\r\n          props.updateLoc(sel)\r\n          }}>Select</button> \r\n        </div>\r\n      </li> \r\n      );\r\n    });\r\n  return (\r\n    <>\r\n    <div className=\"storeSelect\">\r\n    <div className=\"storeSelectBanner\">\r\n      <h2>Results</h2>\r\n      <div className=\"resultsCapt\">Showing results near: {searchLoc}</div>\r\n      <div className=\"resultsChange\" onClick={() => props.updateLoc(ret)}>Change Location</div>\r\n      </div>\r\n      <ul className=\"resultsList\">\r\n        {storeList}\r\n      </ul>\r\n    </div>\r\n    </>\r\n  );  \r\n}\r\nexport default StoreLoc;"]},"metadata":{},"sourceType":"module"}