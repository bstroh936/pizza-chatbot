{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\TheTOP\\\\Documents\\\\GitHub\\\\pizza-chatbot-chk4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import GeoIcon from'../resources/GeoIcon.jsx';import'../css/StoreLoc.css';var StoreLoc=/*#__PURE__*/function(_React$Component){_inherits(StoreLoc,_React$Component);var _super=_createSuper(StoreLoc);function StoreLoc(props){var _this;_classCallCheck(this,StoreLoc);_this=_super.call(this,props);_this.state={isSearch:true,isSelect:false,searchMeth:'',searchLoc:''};_this.storeSearch=_this.storeSearch.bind(_assertThisInitialized(_this));_this.storeSelect=_this.storeSelect.bind(_assertThisInitialized(_this));_this.resetSearch=_this.resetSearch.bind(_assertThisInitialized(_this));_this.input=React.createRef();return _this;}_createClass(StoreLoc,[{key:\"buildSearchMenu\",value:function buildSearchMenu(locObj){var showSearch=this.state.isSearch;if(showSearch){return/*#__PURE__*/React.createElement(StoreSearchMenu,{locObj:locObj,search:this.storeSearch,select:this.storeSelect});}return null;}},{key:\"resetSearch\",value:function resetSearch(locObj){var updateProps={locObj:locObj,page:'Location',resetSearch:true};this.props.update(updateProps);}},{key:\"storeSearch\",value:function storeSearch(searchObj){var locObj=searchObj.locObj;var method=searchObj.method;var obj={method:method,usrStr:method==='User Entry'?this.input.current.value:''};locObj.storeSearch=obj;this.setState({isSearch:locObj.searchErr,isSelect:!locObj.searchErr,searchMeth:locObj.searchMeth,searchLoc:locObj.searchLoc});var updateProps={locObj:locObj,page:'Location'};this.props.update(updateProps);}},{key:\"buildStoreSelectMenu\",value:function buildStoreSelectMenu(locObj){var showSelect=this.state.isSelect;if(showSelect){return/*#__PURE__*/React.createElement(StoreSelectMenu,{locObj:locObj,reset:this.resetSearch,select:this.storeSelect});}return null;}},{key:\"storeSelect\",value:function storeSelect(selectObj){var locObj=selectObj.locObj;var selLoc=selectObj.selLoc;locObj.storeLoc=selLoc;this.setState({isSearch:false,isSelect:false});this.props.set(locObj);}},{key:\"render\",value:function render(){var _this$props$appState=this.props.appState,locObj=_this$props$appState.locObj,showPage=_this$props$appState.showPage;var show=showPage==='Location'?true:false;return/*#__PURE__*/React.createElement(React.Fragment,null,show&&this.buildSearchMenu(locObj),show&&this.buildStoreSelectMenu(locObj));}}]);return StoreLoc;}(React.Component);function StoreSearchMenu(props){var locObj=props.locObj;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"searchPage\"},/*#__PURE__*/React.createElement(\"div\",{className:\"searchGreeting\"},\"Find your Slice\"),/*#__PURE__*/React.createElement(\"div\",{className:\"srchGrtCaption\"},\"Available Menu Items, Special Offers, and Pricing can vary by location.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"searchContentWrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"searchBox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"searchBoxBanner\"},\"Find Locations\"),/*#__PURE__*/React.createElement(\"div\",{className:\"searchOptions\"},/*#__PURE__*/React.createElement(MakeGeoDialog,{locObj:locObj,search:props.search}),/*#__PURE__*/React.createElement(MakeUserDialog,{locObj:locObj,search:props.search,refIn:props.ref}))),/*#__PURE__*/React.createElement(MakePrevDialog,{locObj:locObj,select:props.select}))));}function MakeGeoDialog(props){var locObj=props.locObj;var hasErr=locObj.geoErr;var capStr=hasErr?locObj.geoErrMsg:'Locations near '+locObj.geoZip;var clsStr=hasErr?\"geoSearchFail\":\"geoSearchBtn\";var searchObj={method:'Geo Locate',locObj:locObj};return/*#__PURE__*/React.createElement(\"div\",{className:\"geoSearchArea\"},/*#__PURE__*/React.createElement(\"button\",{className:clsStr,onClick:function onClick(){return props.search(searchObj);}},/*#__PURE__*/React.createElement(GeoIcon,{fill:\"#000000\",className:\"geoSearchIcon\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"geoSearchBtnCapt\"},capStr)));}function MakeUserDialog(props){var _this2=this;var locObj=props.locObj;var hasErr=locObj.userErr;var capStr=hasErr?locObj.userErrMsg:null;var searchObj={method:'User Entry',locObj:locObj};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"userSearchArea\"},/*#__PURE__*/React.createElement(\"div\",{className:\"userSearchLabel\"},\"Enter a Zip Code\"),/*#__PURE__*/React.createElement(\"form\",{className:\"searchForm\",onKeyDown:function onKeyDown(event,i){if(event.key==='Enter'){_this2.storeSearch(searchObj);event.preventDefault();}}},/*#__PURE__*/React.createElement(\"input\",{className:\"userInputString\",type:\"text\",ref:props.refIn}),capStr),/*#__PURE__*/React.createElement(\"button\",{className:\"userSearchBtn\",type:\"button\",onClick:function onClick(){return props.search(searchObj);}},\"Submit\")));}function MakePrevDialog(props){var locObj=props.locObj;var cur=locObj.curStoreID;if(cur==='0'){return null;}var storeInfo=locObj.curStoreInfo;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"searchOrPrev\"},\"Or\"),/*#__PURE__*/React.createElement(\"div\",{className:\"prevLocBox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"prevLocBanner\"},\"Keep this location\"),/*#__PURE__*/React.createElement(\"div\",{className:\"prevLocName\"},storeInfo.name),/*#__PURE__*/React.createElement(\"div\",{className:\"prevLocHours\"},storeInfo.hours),/*#__PURE__*/React.createElement(\"button\",{className:\"prevLocConfirm\",onClick:function onClick(){return props.select(cur);}},\"Select\")));}function StoreSelectMenu(props){var locObj=props.locObj;var searchLoc=locObj.searchLoc;var storeIDs=['1','2','3'];var storeList=storeIDs.map(function(storeID){var store=locObj.storeInfo(storeID);var ret={locObj:locObj,selLoc:storeID};return/*#__PURE__*/React.createElement(\"li\",{key:storeID,className:\"resultElement\"},/*#__PURE__*/React.createElement(\"div\",{className:\"store\"},/*#__PURE__*/React.createElement(\"div\",{className:\"storeAddress\"},store.name),/*#__PURE__*/React.createElement(\"div\",{className:\"storeDetails\"},\"Store is \",store.hours,\", and is located \",store.dist,\" miles away\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"selectBtn\",onClick:function onClick(){props.select(ret);}},\"Select\")));});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"storeSelect\"},/*#__PURE__*/React.createElement(\"div\",{className:\"storeSelectBanner\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Results\"),/*#__PURE__*/React.createElement(\"div\",{className:\"resultsCapt\"},\"Showing results near: \",searchLoc),/*#__PURE__*/React.createElement(\"div\",{className:\"resultsChange\",onClick:function onClick(){return props.reset(locObj);}},\"Change Location\")),/*#__PURE__*/React.createElement(\"ul\",{className:\"resultsList\"},storeList)));}export default StoreLoc;","map":{"version":3,"sources":["C:/Users/TheTOP/Documents/GitHub/pizza-chatbot-chk4/src/components/StoreLoc.jsx"],"names":["React","GeoIcon","StoreLoc","props","state","isSearch","isSelect","searchMeth","searchLoc","storeSearch","bind","storeSelect","resetSearch","input","createRef","locObj","showSearch","updateProps","page","update","searchObj","method","obj","usrStr","current","value","setState","searchErr","showSelect","selectObj","selLoc","storeLoc","set","appState","showPage","show","buildSearchMenu","buildStoreSelectMenu","Component","StoreSearchMenu","search","ref","select","MakeGeoDialog","hasErr","geoErr","capStr","geoErrMsg","geoZip","clsStr","MakeUserDialog","userErr","userErrMsg","event","i","key","preventDefault","refIn","MakePrevDialog","cur","curStoreID","storeInfo","curStoreInfo","name","hours","StoreSelectMenu","storeIDs","storeList","map","storeID","store","ret","dist","reset"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport GeoIcon from '../resources/GeoIcon.jsx';\r\nimport '../css/StoreLoc.css';\r\n\r\nclass StoreLoc extends React.Component {\r\n  constructor(props){\r\n    super(props);    \r\n    this.state = {\r\n      isSearch:true,\r\n      isSelect:false,\r\n      searchMeth: '',\r\n      searchLoc: '',      \r\n    };\r\n    this.storeSearch = this.storeSearch.bind(this);    \r\n    this.storeSelect = this.storeSelect.bind(this);\r\n    this.resetSearch = this.resetSearch.bind(this);    \r\n    this.input = React.createRef();\r\n  }\r\n  buildSearchMenu(locObj){\r\n    const showSearch = this.state.isSearch;\r\n    if(showSearch){\r\n      return <StoreSearchMenu locObj={locObj} search={this.storeSearch} select={this.storeSelect}/>\r\n    }\r\n    return null;\r\n  }\r\n  resetSearch(locObj){\r\n    const updateProps={      \r\n      locObj:locObj,\r\n      page:'Location',\r\n      resetSearch: true,\r\n    };\r\n    this.props.update(updateProps);\r\n  }\r\n  storeSearch(searchObj){\r\n    \r\n    const locObj = searchObj.locObj;\r\n    const method = searchObj.method;\r\n    const obj = {\r\n      method: method,\r\n      usrStr: method==='User Entry'?this.input.current.value:'',\r\n    };\r\n    locObj.storeSearch = obj;\r\n    this.setState({     \r\n      isSearch: locObj.searchErr,\r\n      isSelect: !locObj.searchErr,\r\n      searchMeth: locObj.searchMeth,\r\n      searchLoc: locObj.searchLoc,      \r\n    });\r\n    const updateProps={\r\n      locObj: locObj,\r\n      page:'Location'\r\n    };\r\n    this.props.update(updateProps);\r\n  }\r\n  buildStoreSelectMenu(locObj){\r\n    const showSelect = this.state.isSelect;\r\n    if(showSelect){\r\n      return <StoreSelectMenu locObj={locObj} reset={this.resetSearch} select={this.storeSelect}/>\r\n    }\r\n    return null;\r\n  }\r\n  storeSelect(selectObj){\r\n    const locObj = selectObj.locObj;\r\n    const selLoc = selectObj.selLoc;    \r\n    locObj.storeLoc = selLoc;    \r\n    this.setState({\r\n      isSearch: false,\r\n      isSelect: false,     \r\n    });    \r\n    this.props.set(locObj); \r\n  }  \r\n  render(){    \r\n    const {locObj, showPage} = this.props.appState;\r\n    const show= showPage==='Location'?true:false;   \r\n    return(\r\n      <>\r\n      {show && this.buildSearchMenu(locObj)}\r\n      {show && this.buildStoreSelectMenu(locObj)}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction StoreSearchMenu(props) {\r\n  const locObj = props.locObj;\r\n  return (\r\n    <>\r\n    <div className=\"searchPage\">\r\n    <div className=\"searchGreeting\">Find your Slice</div>\r\n    <div className=\"srchGrtCaption\">Available Menu Items, Special Offers, and Pricing can vary by location.</div>\r\n    <div className=\"searchContentWrapper\">\r\n    <div className=\"searchBox\">\r\n      <div className=\"searchBoxBanner\">Find Locations</div>\r\n      <div className=\"searchOptions\">\r\n        <MakeGeoDialog locObj={locObj} search={props.search}/>\r\n        <MakeUserDialog locObj={locObj} search={props.search} refIn={props.ref} />\r\n      </div>\r\n    </div>              \r\n      <MakePrevDialog locObj={locObj} select={props.select}/>\r\n    </div>\r\n    </div> \r\n    </>\r\n  );\r\n}\r\nfunction MakeGeoDialog(props) {\r\n  const locObj = props.locObj;\r\n  const hasErr = locObj.geoErr;\r\n  const capStr = hasErr?locObj.geoErrMsg:'Locations near ' + locObj.geoZip;    \r\n  const clsStr = hasErr?\"geoSearchFail\": \"geoSearchBtn\";       \r\n  const searchObj = {\r\n    method: 'Geo Locate',\r\n    locObj: locObj,\r\n  };   \r\n  return (\r\n    <div className=\"geoSearchArea\">\r\n      <button className={clsStr} onClick={() => props.search(searchObj)}>\r\n        <GeoIcon fill=\"#000000\" className=\"geoSearchIcon\"/>\r\n        <div className=\"geoSearchBtnCapt\">{capStr}</div>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nfunction MakeUserDialog(props) {\r\n  const locObj = props.locObj;\r\n  const hasErr = locObj.userErr;\r\n  const capStr = hasErr?locObj.userErrMsg:null;    \r\n  const searchObj = {\r\n    method: 'User Entry',\r\n    locObj: locObj,\r\n  };    \r\n  return (\r\n    <>\r\n    <div className=\"userSearchArea\">\r\n    <div className=\"userSearchLabel\">Enter a Zip Code</div>\r\n    <form className=\"searchForm\" onKeyDown={(event, i) => {\r\n      if(event.key === 'Enter') {\r\n        this.storeSearch(searchObj); \r\n        event.preventDefault();}}}>\r\n      <input className=\"userInputString\" type=\"text\" ref={props.refIn}/>\r\n      {capStr}\r\n    </form>\r\n      <button className=\"userSearchBtn\" type=\"button\" onClick={() => props.search(searchObj)}>\r\n      Submit</button>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\nfunction MakePrevDialog(props) {\r\n  const locObj = props.locObj;\r\n  const cur = locObj.curStoreID;              \r\n  if (cur==='0'){\r\n    return null;\r\n  }\r\n  const storeInfo = locObj.curStoreInfo;    \r\n  return(\r\n    <>\r\n    <div className=\"searchOrPrev\">Or</div>\r\n    <div className=\"prevLocBox\">    \r\n      <div className=\"prevLocBanner\">Keep this location</div>        \r\n      <div className=\"prevLocName\">{storeInfo.name}</div>\r\n      <div className=\"prevLocHours\">{storeInfo.hours}</div>\r\n      <button className=\"prevLocConfirm\" onClick={() => props.select(cur)}>Select</button>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\nfunction StoreSelectMenu(props){\r\n  const locObj = props.locObj;  \r\n  const searchLoc = locObj.searchLoc;    \r\n  const storeIDs = ['1','2','3'];\r\n  const storeList = storeIDs.map((storeID) => {\r\n    const store = locObj.storeInfo(storeID);   \r\n    const ret = {\r\n      locObj: locObj,\r\n      selLoc: storeID,\r\n    };\r\n    return (\r\n      <li key={storeID} className=\"resultElement\"> \r\n        <div className=\"store\">\r\n        <div className=\"storeAddress\">{store.name}</div>\r\n        <div className=\"storeDetails\">Store is {store.hours}, and is located {store.dist} miles away</div>\r\n        </div>\r\n        <div>\r\n        <button className=\"selectBtn\" onClick={() => {\r\n          props.select(ret)\r\n          }}>Select</button> \r\n        </div>\r\n      </li> \r\n      );\r\n    });\r\n  return (\r\n    <>\r\n    <div className=\"storeSelect\">\r\n    <div className=\"storeSelectBanner\">\r\n      <h2>Results</h2>\r\n      <div className=\"resultsCapt\">Showing results near: {searchLoc}</div>\r\n      <div className=\"resultsChange\" onClick={() => props.reset(locObj)}>Change Location</div>\r\n      </div>\r\n      <ul className=\"resultsList\">\r\n        {storeList}\r\n      </ul>\r\n    </div>\r\n    </>\r\n  );  \r\n}\r\nexport default StoreLoc;"]},"metadata":{},"sourceType":"module"}