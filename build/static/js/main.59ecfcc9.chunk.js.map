{"version":3,"sources":["resources/glutenfree.svg","resources/vegan.svg","resources/vegetarian.svg","resources/dairyfree.svg","resources/SliceLogo.png","components/chatbot/common/rgba.js","components/chatbot/common/animations.jsx","components/chatbot/steps_components/common/LoadingStep.jsx","components/chatbot/steps_components/common/Loading.jsx","components/chatbot/steps_components/custom/CustomStepContainer.jsx","components/chatbot/steps_components/custom/CustomStep.jsx","components/chatbot/steps_components/options/Option.jsx","components/chatbot/theme.js","components/chatbot/steps_components/options/OptionElement.jsx","components/chatbot/steps_components/options/Options.jsx","components/chatbot/steps_components/options/OptionsStepContainer.jsx","components/chatbot/steps_components/options/OptionsStep.jsx","components/chatbot/steps_components/text/Bubble.jsx","components/chatbot/steps_components/text/Image.jsx","components/chatbot/steps_components/text/ImageContainer.jsx","components/chatbot/steps_components/text/TextStepContainer.jsx","components/chatbot/steps_components/text/TextStep.jsx","components/chatbot/schemas/userSchema.js","components/chatbot/schemas/textSchema.js","components/chatbot/schemas/optionsSchema.js","components/chatbot/schemas/customSchema.js","components/chatbot/schemas/updateSchema.js","components/chatbot/schemas/schema.js","components/chatbot/components/ChatBotContainer.jsx","components/chatbot/components/Content.jsx","components/chatbot/components/Header.jsx","components/chatbot/components/HeaderTitle.jsx","components/chatbot/components/HeaderIcon.jsx","components/chatbot/components/FloatButton.jsx","components/chatbot/components/FloatingIcon.jsx","components/chatbot/components/Footer.jsx","components/chatbot/components/Input.jsx","components/chatbot/components/SubmitButton.jsx","components/chatbot/recognition.js","components/chatbot/icons/ChatIcon.jsx","components/chatbot/icons/CloseIcon.jsx","components/chatbot/icons/SubmitIcon.jsx","components/chatbot/icons/MicIcon.jsx","components/chatbot/utils.js","components/chatbot/speechSynthesis.js","components/chatbot/ChatBot.jsx","components/chatbot/storage.js","components/StepFactory.jsx","components/OrderStep.jsx","components/SimpleForm.js","components/StoreMenu.jsx","components/DisplayMainArea.js","components/Pizza.jsx","components/PizzaOrder.jsx","components/itemMenu.jsx","components/OrderControl.jsx","resources/GeoIcon.jsx","components/StoreLoc.jsx","components/App.js","serviceWorker.js","index.js","components/Location.jsx"],"names":["module","exports","hexToRgb","hex","replace","m","r","g","b","result","exec","parseInt","rgba","alpha","color","loading","keyframes","scale","invalidInput","LoadingStep","styled","span","props","delay","Loading","className","ChatStepContainer","div","CustomStep","state","renderComponent","step","steps","previousStep","triggerNextStep","component","React","cloneElement","this","speak","previousValue","waitAction","setTimeout","setState","rendered","style","CustomStepContainer","Component","defaultProps","Option","li","background","fontFamily","headerBgColor","headerFontColor","headerFontSize","botBubbleColor","botFontColor","userBubbleColor","userFontColor","OptionElement","button","theme","defaultTheme","Options","ul","OptionsStepContainer","OptionsStep","onOptionClick","value","renderOption","option","bubbleOptionStyle","user","label","key","onClick","options","Object","keys","map","Bubble","isFirst","isLast","showAvatar","Image","img","ImageContainer","TextStepContainer","TextStep","getMessage","message","renderMessage","isComponentWatingUser","avatarStyle","bubbleStyle","hideBotAvatar","hideUserAvatar","avatar","botName","imageAltText","src","alt","types","required","schema","parse","parser","userSchema","textSchema","optionsSchema","customSchema","update","Error","stringify","updateSchema","i","len","length","indexOf","join","p","console","error","id","checkInvalidIds","triggerId","trigger","optionsTriggerIds","filter","optionTriggerId","ChatBotContainer","floating","floatingStyle","bottom","top","right","left","width","height","opened","transformOrigin","Content","hideInput","Header","HeaderTitle","h2","HeaderIcon","a","FloatButton","FloatingIcon","Footer","Input","input","invalid","css","disabled","hasButton","SubmitButton","speaking","instance","noop","Recognition","onChange","onEnd","onStop","lang","inputValue","onResult","bind","setup","window","interimTranscript","finalTranscript","recognition","stop","force","event","resultIndex","results","isFinal","transcript","onFinal","nextState","assign","isSupported","webkitSpeechRecognition","continuous","interimResults","onresult","onend","start","ChatIcon","viewBox","xmlns","d","fill","CloseIcon","SubmitIcon","size","version","points","MicIcon","isMobile","test","navigator","userAgent","isString","speakFn","speechSynthesisOptions","voice","enable","SpeechSynthesisUtterance","speechSynthesis","text","metadata","getSpeakText","msg","ChatBot","onNodeInserted","target","currentTarget","enableSmoothScroll","supportsScrollBehavior","scroll","scrollHeight","behavior","scrollTop","onResize","content","onRecognitionChange","onRecognitionEnd","handleSubmitButton","onRecognitionStop","onValueChange","getTriggeredStep","generateRenderedStepsById","getStepMessage","previousSteps","lastStepIndex","data","enableMobileAutoFocus","defaultUserSettings","renderedSteps","currentStep","isEnd","end","hideExtraControl","handleEnd","o","pop","push","val","stepMsg","preserveMsg","defaultBotSettings","botAvatar","thisStepMsg","nextS","nextStep","updateStep","Random","focus","cache","cacheName","cachedData","localStorage","setItem","storage","values","isInputValueEmpty","isLastPosition","stepIndex","s","asMessage","isFirstPosition","lastStep","handleKeyPress","submitUserMessage","recognitionEnable","validator","checkInvalidInput","blur","toString","inputInvalid","toggleChatBot","toggleFloating","renderStep","index","customStyle","setContentRef","element","setInputRef","botDelay","customDelay","userAvatar","chatSteps","userDelay","defaultCustomSettings","settings","firstStep","recognitionLang","document","documentElement","addEventListener","params","callback","unParsedCache","getItem","renderedStep","removeItem","info","removeEventListener","customControl","contentStyle","extraControl","controlStyle","floatingIcon","footerStyle","headerComponent","headerTitle","hideHeader","hideSubmitButton","inputStyle","placeholder","inputAttributes","recognitionPlaceholder","submitButtonStyle","header","undefined","icon","inputPlaceholder","inputAttributesOverride","ref","type","onKeyPress","position","cancelCtrl","t","ctrls","concat","buildConfirmationCtrl","name","compCtrl","changeCtrl","removeCtrl","pType","owner","tarType","tarName","ctrlType","btnClass","btnCapt","listKey","ownerType","ownerName","targetType","targetName","action","hasSpecial","StepFactory","stepInfo","next","prev","isRetRevO","hasRemoveSpecial","isFinalReview","revS","comp","chng","cancel","ctrlArry","tarFunc","specStep","ctrlVals","vals","msgClass","stepCtrls","buildSpecialStep","buildCtrlObj","getCtrls","prevStep","BuildStep","buildType","stepType","ordercontrol","StepMsg","BuildSpecialStep","SpecialStep","onTrigger","BuildReviewStep","reviewType","currentStepInfo","pizzaOrder","stepProcesingInfo","CurrentStep","BuildStandardStep","displayMsg","stepOptions","selected","onSelect","controlArray","ControlArray","stepClassName","CurrentPizzaID","retclass","topMsg","reviewStr","CurrentPizzaString","hasElements","hasMenuElements","elementArray","ElementArray","elements","curStepType","stepName","hasRows","hasMulti","click","sel","e","rowName","rowClass","rClass","rowKey","rowBtns","btns","findIndex","capt","itemInfo","multi","eleClass","stepControls","btnClss","ret","actionType","OrderStep","items","curKey","triggerNext","chk","hasOwnProperty","specialinstentry","checkRequiredInput","alert","selectedObjs","processObj","selections","processingResults","ProcessAction","botKey","newsteps","pizzabuilder","handleSpecialInst","currrentlySelected","HandleItemSelect","isStarted","inst","checkSpecialInstr","specialInstructions","ordername","IsSpecialStep","StepInfo","getStepType","SimpleForm","order","marginTop","StoreMenu","veggie","gf","vegan","df","DisplayMainArea","showSum","showEdit","orderEnd","appState","showPage","Pizza","pizzaItems","HasItemType","crusts","sizes","PizzaOrder","orderName","pizzas","pizzaCnt","lastID","currentPizza","itemType","GetPizzaItem","NewPizza","UpdatePizzas","PizzaItems","PizzaID","splice","PizzaString","pizza","itemMenu","menu","Menu","obj","menuSteps","x","arr","find","hasQty","getHasQty","hasHalf","getHasHalf","getHasMultiple","hasSizes","getHasSizes","oEle","buildMultRowStep","buildSimpleStep","single","substring","n","getNext","getPrev","getStep","getItemsList","buildOptBtns","btnMsg","item","itemID","opt","getOptsList","class","short","qty","half","multiple","OrderControl","pizzaMenu","PizzaMenu","currentPizzaID","menuStep","MenuSteps","specInstSet","currentBotKey","botKeys","isSpecialStep","specialStep","qtyMsg","GetOptMsg","halfMsg","itemName","GetItemName","itemMsg","retVal","curSelectItems","ReturnPizzaItems","add","SavePizzaItems","foundQty","foundHalf","updatedItems","init","flat","curStepName","getMenuStep","ProcessSpecial","GoToNextStep","GoToPrevStep","retDef","handleSpecialActions","newType","newName","prevType","prevName","setPizzaItems","changeMenuStep","setSpecialInstStep","addnewpizza","curStep","specialSet","MakeNewPizza","currentSelectedItems","Name","instr","SpecialInstructions","GeoIcon","preserveAspectRatio","transform","StoreSearchMenu","locObj","MakeGeoDialog","search","MakeUserDialog","refIn","MakePrevDialog","select","hasErr","geoErr","capStr","geoErrMsg","geoZip","clsStr","searchObj","method","userErr","userErrMsg","onKeyDown","storeSearch","preventDefault","cur","curStoreID","storeInfo","curStoreInfo","hours","StoreSelectMenu","searchLoc","storeList","storeID","store","selLoc","dist","reset","StoreLoc","isSearch","isSelect","searchMeth","storeSelect","resetSearch","createRef","updateProps","page","usrStr","current","searchErr","selectObj","storeLoc","set","show","buildSearchMenu","buildStoreSelectMenu","App","Order","updateLoc","setStore","RestartOrder","banner","StoreBanner","logo","resetOrder","cancelOrder","complete","completeOrder","Boolean","location","hostname","match","initLoc","resolveGeoLoc","isResolved","entryErr","errMsg","zip","cityState","previous","didChange","stores","then","c","city","locOpt","timeout","maximumAge","Promise","resolve","reject","geolocation","getCurrentPosition","lat","coords","latitude","long","longitude","tZip","lookupByCoords","log","code","z","trim","cs","l","lookup","loc","res","err","userZip","userCityState","geoCityState","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.59ecfcc9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/glutenfree.83b304a1.svg\";","module.exports = __webpack_public_path__ + \"static/media/vegan.23c430da.svg\";","module.exports = __webpack_public_path__ + \"static/media/vegetarian.1c9c7278.svg\";","module.exports = __webpack_public_path__ + \"static/media/dairyfree.57cce551.svg\";","module.exports = \"data:image/png;base64,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\"","const hexToRgb = hex => {\n  // http://stackoverflow.com/a/5624139\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n      }\n    : null;\n};\n\n/**\n * Transform hex+alpha to rgba\n * @param {string} hex hex color code\n * @param {number} [alpha=1]\n * @returns {string} the rgba as string\n */\nconst rgba = (hex, alpha = 1) => {\n  const color = hexToRgb(hex);\n  return `rgba(${color.r}, ${color.g}, ${color.b}, ${alpha})`;\n};\n\nexport default rgba;\n","import { keyframes } from 'styled-components';\nimport rgba from './rgba';\n\nconst loading = keyframes`\n  0% { opacity: .2; }\n  20% { opacity: 1; }\n  100% { opacity: .2; }\n`;\n\nconst scale = keyframes`\n  100% { transform: scale(1); }\n`;\n\nconst invalidInput = keyframes`\n  25% { transform: rotate(-1deg); }\n  100% { transform: rotate(1deg); }\n`;\n\nconst pulse = color => keyframes`\n  0% { box-shadow: 0 0 0 0 ${rgba(color, 0.4)}; }\n  70% { box-shadow: 0 0 0 10px ${rgba(color, 0)}; }\n  100% { box-shadow: 0 0 0 0 ${rgba(color, 0)}; }\n`;\n\nexport { loading, scale, invalidInput, pulse };\n","import styled from 'styled-components';\nimport { loading } from '../../common/animations';\n\nconst LoadingStep = styled.span`\n  animation: ${loading} 1.4s infinite both;\n  animation-delay: ${props => props.delay};\n`;\n\nexport default LoadingStep;\n","import React from 'react';\nimport LoadingStep from './LoadingStep';\n\nconst Loading = () => (\n  <span className=\"rsc-loading\">\n    <LoadingStep delay=\"0s\">.</LoadingStep>\n    <LoadingStep delay=\".2s\">.</LoadingStep>\n    <LoadingStep delay=\".4s\">.</LoadingStep>\n  </span>\n);\n\nexport default Loading;\n","import styled from 'styled-components';\n\nconst ChatStepContainer = styled.div`\n  background: #fff;\n  border-radius: 5px;\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\n  display: flex;\n  justify-content: center;\n  margin: 0 6px 10px 6px;\n  padding: 16px;\n`;\n\nexport default ChatStepContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../common/Loading';\nimport CustomStepContainer from './CustomStepContainer';\n\nclass CustomStep extends Component {\n  state = {\n    loading: true\n  };\n\n  componentDidMount() {\n    const { speak, step, previousValue, triggerNextStep } = this.props;\n    const { delay, waitAction } = step;\n\n    setTimeout(() => {\n      this.setState({ loading: false }, () => {\n        if (!waitAction && !step.rendered) {\n          triggerNextStep();\n        }\n        speak(step, previousValue);\n      });\n    }, delay);\n  }\n\n  renderComponent = () => {\n    const { step, steps, previousStep, triggerNextStep } = this.props;\n    const { component } = step;\n\n    return React.cloneElement(component, {\n      step,\n      steps,\n      previousStep,\n      triggerNextStep\n    });\n  };\n\n  render() {\n    const { loading } = this.state;\n    const { style } = this.props;\n\n    return (\n      <CustomStepContainer className=\"rsc-cs\" style={style}>\n        {loading ? <Loading /> : this.renderComponent()}\n      </CustomStepContainer>\n    );\n  }\n}\n\nCustomStep.propTypes = {\n  previousStep: PropTypes.objectOf(PropTypes.any).isRequired,\n  previousValue: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n    PropTypes.number,\n    PropTypes.object,\n    PropTypes.array\n  ]),\n  speak: PropTypes.func,\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\n  steps: PropTypes.objectOf(PropTypes.any).isRequired,\n  style: PropTypes.objectOf(PropTypes.any).isRequired,\n  triggerNextStep: PropTypes.func.isRequired\n};\nCustomStep.defaultProps = {\n  previousValue: '',\n  speak: () => {}\n};\n\nexport default CustomStep;\n","import styled from 'styled-components';\nimport { scale } from '../../common/animations';\n\nconst Option = styled.li`\n  animation: ${scale} 0.3s ease forwards;\n  cursor: pointer;\n  display: inline-block;\n  margin: 2px;\n  transform: scale(0);\n`;\n\nexport default Option;\n","export default {\n  background: '#f5f8fb',\n  fontFamily: 'monospace',\n  headerBgColor: '#6e48aa',\n  headerFontColor: '#fff',\n  headerFontSize: '16px',\n  botBubbleColor: '#6E48AA',\n  botFontColor: '#fff',\n  userBubbleColor: '#fff',\n  userFontColor: '#4a4a4a'\n};\n","import styled from 'styled-components';\nimport defaultTheme from '../../theme';\n\nconst OptionElement = styled.button`\n  background: ${({ theme }) => theme.botBubbleColor};\n  border: 0;\n  border-radius: 22px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\n  color: ${({ theme }) => theme.botFontColor};\n  display: inline-block;\n  font-size: 14px;\n  padding: 12px;\n\n  &:hover {\n    opacity: 0.7;\n  }\n  &:active,\n  &:hover:focus {\n    outline:none;\n  }\n`;\n\nOptionElement.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default OptionElement;\n","import styled from 'styled-components';\n\nconst Options = styled.ul`\n  margin: 2px 0 12px 0;\n  padding: 0 6px;\n`;\n\nexport default Options;\n","import styled from 'styled-components';\n\nconst OptionsStepContainer = styled.div``;\n\nexport default OptionsStepContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Option from './Option';\nimport OptionElement from './OptionElement';\nimport Options from './Options';\nimport OptionsStepContainer from './OptionsStepContainer';\n\nclass OptionsStep extends Component {\n  onOptionClick = ({ value }) => {\n    const { triggerNextStep } = this.props;\n\n    triggerNextStep({ value });\n  };\n\n  renderOption = option => {\n    const { bubbleOptionStyle, step } = this.props;\n    const { user } = step;\n    const { value, label } = option;\n\n    return (\n      <Option key={value} className=\"rsc-os-option\">\n        <OptionElement\n          className=\"rsc-os-option-element\"\n          style={bubbleOptionStyle}\n          user={user}\n          onClick={() => this.onOptionClick({ value })}\n        >\n          {label}\n        </OptionElement>\n      </Option>\n    );\n  };\n\n  render() {\n    const { step } = this.props;\n    const { options } = step;\n\n    return (\n      <OptionsStepContainer className=\"rsc-os\">\n        <Options className=\"rsc-os-options\">\n          {Object.keys(options).map(key => options[key]).map(this.renderOption)}\n        </Options>\n      </OptionsStepContainer>\n    );\n  }\n}\n\nOptionsStep.propTypes = {\n  bubbleOptionStyle: PropTypes.objectOf(PropTypes.any).isRequired,\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\n  triggerNextStep: PropTypes.func.isRequired\n};\n\nexport default OptionsStep;\n","import styled from 'styled-components';\nimport { scale } from '../../common/animations';\nimport defaultTheme from '../../theme';\n\nconst Bubble = styled.div`\n  animation: ${scale} 0.3s ease forwards;\n  background: ${props => (props.user ? props.theme.userBubbleColor : props.theme.botBubbleColor)};\n  border-radius: ${props => {\n    const { isFirst, isLast, user } = props;\n\n    if (!isFirst && !isLast) {\n      return user ? '18px 0 0 18px' : '0 18px 18px 0px';\n    }\n\n    if (!isFirst && isLast) {\n      return user ? '18px 0 18px 18px' : '0 18px 18px 18px';\n    }\n\n    return props.user ? '18px 18px 0 18px' : '18px 18px 18px 0';\n  }};\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\n  color: ${props => (props.user ? props.theme.userFontColor : props.theme.botFontColor)};\n  display: inline-block;\n  font-size: 14px;\n  max-width: 50%;\n  margin: ${props => {\n    const { isFirst, showAvatar, user } = props;\n\n    if (!isFirst && showAvatar) {\n      return user ? '-8px 46px 10px 0' : '-8px 0 10px 46px';\n    }\n\n    if (!isFirst && !showAvatar) {\n      return user ? '-8px 0px 10px 0' : '-8px 0 10px 0px';\n    }\n\n    return '0 0 10px 0';\n  }};\n  overflow: hidden;\n  position: relative;\n  padding: 12px;\n  transform: scale(0);\n  transform-origin: ${props => {\n    const { isFirst, user } = props;\n\n    if (isFirst) {\n      return user ? 'bottom right' : 'bottom left';\n    }\n\n    return user ? 'top right' : 'top left';\n  }};\n`;\n\nBubble.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default Bubble;\n","import styled from 'styled-components';\nimport { scale } from '../../common/animations';\n\nconst Image = styled.img`\n  animation: ${scale} 0.3s ease forwards;\n  border-radius: ${props => (props.user ? '50% 50% 50% 0' : '50% 50% 0 50%')};\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\n  height: 40px;\n  min-width: 40px;\n  padding: 3px;\n  transform: scale(0);\n  transform-origin: ${props => (props.user ? 'bottom left' : 'bottom right')};\n  width: 40;\n`;\n\nexport default Image;\n","import styled from 'styled-components';\n\nconst ImageContainer = styled.div`\n  display: inline-block;\n  order: ${props => (props.user ? '1' : '0')};\n  padding: 6px;\n`;\n\nexport default ImageContainer;\n","import styled from 'styled-components';\n\nconst TextStepContainer = styled.div`\n  align-items: flex-end;\n  display: flex;\n  justify-content: ${props => (props.user ? 'flex-end' : 'flex-start')};\n`;\n\nexport default TextStepContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Bubble from './Bubble';\nimport Image from './Image';\nimport ImageContainer from './ImageContainer';\nimport Loading from '../common/Loading';\nimport TextStepContainer from './TextStepContainer';\n\nclass TextStep extends Component {\n  /* istanbul ignore next */\n  state = {\n    loading: true\n  };\n\n  componentDidMount() {\n    const { step, speak, previousValue, triggerNextStep } = this.props;\n    const { component, delay, waitAction } = step;\n    const isComponentWatingUser = component && waitAction;\n\n    setTimeout(() => {\n      this.setState({ loading: false }, () => {\n        if (!isComponentWatingUser && !step.rendered) {\n          triggerNextStep();\n        }\n        speak(step, previousValue);\n      });\n    }, delay);\n  }\n\n  getMessage = () => {\n    const { previousValue, step } = this.props;    \n    const { message } = step;      \n    return message ? message.replace(/{previousValue}/g, previousValue) : '';\n  };\n\n  renderMessage = () => {\n    const { step, steps, previousStep, triggerNextStep } = this.props;\n    const { component } = step;\n\n    if (component) {      \n      return React.cloneElement(component, {\n        step,\n        steps,\n        previousStep,\n        triggerNextStep\n      });\n    }    \n    return this.getMessage();\n  };\n\n  render() {\n    const {\n      step,\n      isFirst,\n      isLast,\n      avatarStyle,\n      bubbleStyle,\n      hideBotAvatar,\n      hideUserAvatar\n    } = this.props;\n    const { loading } = this.state;\n    const { avatar, user, botName } = step;\n\n    const showAvatar = user ? !hideUserAvatar : !hideBotAvatar;\n\n    const imageAltText = user ? \"Your avatar\" : `${botName}'s avatar`;\n    return (\n      <TextStepContainer className={`rsc-ts ${user ? 'rsc-ts-user' : 'rsc-ts-bot'}`} user={user}>\n        <ImageContainer className=\"rsc-ts-image-container\" user={user}>\n          {isFirst && showAvatar && (\n            <Image\n              className=\"rsc-ts-image\"\n              style={avatarStyle}\n              showAvatar={showAvatar}\n              user={user}\n              src={avatar}\n              alt={imageAltText}\n            />\n          )}\n        </ImageContainer>\n        <Bubble\n          className=\"rsc-ts-bubble\"\n          style={bubbleStyle}\n          user={user}\n          showAvatar={showAvatar}\n          isFirst={isFirst}\n          isLast={isLast}\n        >\n          {loading ? <Loading /> : this.renderMessage()}\n        </Bubble>\n      </TextStepContainer>\n    );\n  }\n}\n\nTextStep.propTypes = {\n  avatarStyle: PropTypes.objectOf(PropTypes.any).isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  bubbleStyle: PropTypes.objectOf(PropTypes.any).isRequired,\n  hideBotAvatar: PropTypes.bool.isRequired,\n  hideUserAvatar: PropTypes.bool.isRequired,\n  previousStep: PropTypes.objectOf(PropTypes.any),\n  previousValue: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n    PropTypes.number,\n    PropTypes.object,\n    PropTypes.array\n  ]),\n  speak: PropTypes.func,\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\n  steps: PropTypes.objectOf(PropTypes.any),\n  triggerNextStep: PropTypes.func.isRequired\n};\n\nTextStep.defaultProps = {\n  previousStep: {},\n  previousValue: '',\n  speak: () => {},\n  steps: {}\n};\n\nexport default TextStep;\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'user',\n    types: ['boolean'],\n    required: true\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: false\n  },\n  {\n    key: 'validator',\n    types: ['function'],\n    required: false\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'message',\n    types: ['string', 'function'],\n    required: true\n  },\n  {\n    key: 'avatar',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: false\n  },\n  {\n    key: 'delay',\n    types: ['number'],\n    required: false\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'hideInput',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'options',\n    types: ['object'],\n    required: true\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'hideInput',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'component',\n    types: ['any'],\n    required: true\n  },\n  {\n    key: 'avatar',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'replace',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'waitAction',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'asMessage',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: false\n  },\n  {\n    key: 'delay',\n    types: ['number'],\n    required: false\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'hideInput',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'update',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: true\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","import userSchema from './userSchema';\nimport textSchema from './textSchema';\nimport optionsSchema from './optionsSchema';\nimport customSchema from './customSchema';\nimport updateSchema from './updateSchema';\nimport { stringify } from 'flatted/cjs';\n\nconst schema = {\n  parse(step) {\n    let parser = [];\n\n    if (step.user) {\n      parser = userSchema;\n    } else if (step.message) {\n      parser = textSchema;\n    } else if (step.options) {\n      parser = optionsSchema;\n    } else if (step.component) {\n      parser = customSchema;\n    } else if (step.update) {\n      parser = updateSchema;\n    } else {\n      throw new Error(`The step ${stringify(step)} is invalid`);\n    }\n\n    for (let i = 0, len = parser.length; i < len; i += 1) {\n      const { key, types, required } = parser[i];\n\n      if (!step[key] && required) {\n        throw new Error(`Key '${key}' is required in step ${stringify(step)}`);\n      } else if (step[key]) {\n        if (types[0] !== 'any' && types.indexOf(typeof step[key]) < 0) {\n          throw new Error(\n            `The type of '${key}' value must be ${types.join(' or ')} instead of ${typeof step[\n              key\n            ]}`\n          );\n        }\n      }\n    }\n\n    const keys = parser.map(p => p.key);\n\n    for (const key in step) {\n      if (keys.indexOf(key) < 0) {\n        console.error(`Invalid key '${key}' in step '${step.id}'`);\n        delete step[key];\n      }\n    }\n\n    return step;\n  },\n\n  checkInvalidIds(steps) {\n    for (const key in steps) {\n      const step = steps[key];\n      const triggerId = steps[key].trigger;\n\n      if (typeof triggerId !== 'function') {\n        if (step.options) {\n          const triggers = step.options.filter(option => typeof option.trigger !== 'function');\n          const optionsTriggerIds = triggers.map(option => option.trigger);\n\n          for (let i = 0, len = optionsTriggerIds.length; i < len; i += 1) {\n            const optionTriggerId = optionsTriggerIds[i];\n            if (optionTriggerId && !steps[optionTriggerId]) {\n              throw new Error(\n                `The id '${optionTriggerId}' triggered by option ${i + 1} in step '${\n                  steps[key].id\n                }' does not exist`\n              );\n            }\n          }\n        } else if (triggerId && !steps[triggerId]) {\n          throw new Error(\n            `The id '${triggerId}' triggered by step '${steps[key].id}' does not exist`\n          );\n        }\n      }\n    }\n  }\n};\n\nexport default schema;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst ChatBotContainer = styled.div`\n  background: ${({ theme }) => theme.background};\n  border-radius: 10px;\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.15);\n  font-family: ${({ theme }) => theme.fontFamily};\n  overflow: hidden;\n  position: ${({ floating }) => (floating ? 'fixed' : 'relative')};\n  bottom: ${({ floating, floatingStyle }) =>\n    floating ? floatingStyle.bottom || '32px' : 'initial'};\n  top: ${({ floating, floatingStyle }) => (floating ? floatingStyle.top || 'initial' : 'initial')};\n  right: ${({ floating, floatingStyle }) => (floating ? floatingStyle.right || '32px' : 'initial')};\n  left: ${({ floating, floatingStyle }) =>\n    floating ? floatingStyle.left || 'initial' : 'initial'};\n  width: ${({ width }) => width};\n  height: ${({ height }) => height};\n  z-index: 999;\n  transform: ${({ opened }) => (opened ? 'scale(1)' : 'scale(0)')};\n  transform-origin: ${({ floatingStyle }) => floatingStyle.transformOrigin || 'bottom right'};\n  transition: transform 0.3s ease;\n\n  @media screen and (max-width: 568px) {\n    border-radius: ${({ floating }) => (floating ? '0' : '')};\n    bottom: 0 !important;\n    left: initial !important;\n    height: 100%;\n    right: 0 !important;\n    top: initial !important;\n    width: 100%;\n  }\n`;\n\nChatBotContainer.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default ChatBotContainer;\n","import styled from 'styled-components';\n\nconst Content = styled.div`\n  height: calc(${props => props.height} - ${props => (props.hideInput ? '56px' : '112px')});\n  overflow-y: scroll;\n  margin-top: 2px;\n  padding-top: 6px;\n\n  @media screen and (max-width: 568px) {\n    height: ${props => (props.floating ? 'calc(100% - 112px)' : '')};\n  }\n`;\n\nexport default Content;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst Header = styled.div`\n  align-items: center;\n  background: ${({ theme }) => theme.headerBgColor};\n  color: ${({ theme }) => theme.headerFontColor};\n  display: flex;\n  fill: ${({ theme }) => theme.headerFontColor};\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 10px;\n`;\n\nHeader.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default Header;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst HeaderTitle = styled.h2`\n  margin: 0;\n  font-size: ${({ theme }) => theme.headerFontSize};\n`;\n\nHeaderTitle.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default HeaderTitle;\n","import styled from 'styled-components';\n\nconst HeaderIcon = styled.a`\n  cursor: pointer;\n`;\n\nexport default HeaderIcon;\n","import styled from 'styled-components';\n\nconst FloatButton = styled.a`\n  align-items: center;\n  cursor: pointer;\n  background: ${({ theme }) => theme.headerBgColor};\n  bottom: 32px;\n  border-radius: 100%;\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.15);\n  display: flex;\n  fill: ${({ theme }) => theme.headerFontColor};\n  height: 56px;\n  justify-content: center;\n  position: fixed;\n  right: 32px;\n  transform: ${props => (props.opened ? 'scale(0)' : 'scale(1)')};\n  transition: transform 0.3s ease;\n  width: 56px;\n  z-index: 999;\n`;\n\nFloatButton.defaultProps = {\n  theme: {\n    headerBgColor: '#6e48aa',\n    headerFontColor: '#fff'\n  }\n};\n\nexport default FloatButton;\n","import styled from 'styled-components';\n\nconst FloatingIcon = styled.img`\n  height: 24px;\n  width: 24px;\n`;\n\nexport default FloatingIcon;\n","import styled from 'styled-components';\n\nconst Footer = styled.div`\n  position: relative;\n`;\n\nexport default Footer;\n","import { invalidInput } from '../common/animations';\nimport styled, { css } from 'styled-components';\n\nconst Input = styled.input`\n  animation: ${props =>\n    props.invalid\n      ? css`\n          ${invalidInput} .2s ease\n        `\n      : ''};\n  border: 0;\n  border-radius: 0;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  border-top: ${props => (props.invalid ? '0' : '1px solid #eee')};\n  box-shadow: ${props => (props.invalid ? 'inset 0 0 2px #E53935' : 'none')};\n  box-sizing: border-box;\n  color: ${props => (props.invalid ? '#E53935' : '')};\n  font-size: 16px;\n  opacity: ${props => (props.disabled && !props.invalid ? '.5' : '1')};\n  outline: none;\n  padding: ${props => (props.hasButton ? '16px 52px 16px 10px' : '16px 10px')};\n  width: 100%;\n  -webkit-appearance: none;\n\n  &:disabled {\n    background: #fff;\n  }\n\n  @media screen and (max-width: 568px) {\n    border-bottom-left-radius: ${props => (props.floating ? '0' : '10px')};\n    border-bottom-right-radius: ${props => (props.floating ? '0' : '10px')};\n  }\n`;\n\nexport default Input;\n","import styled, { css } from 'styled-components';\nimport defaultTheme from '../theme';\nimport { pulse } from '../common/animations';\n\nconst fillFunc = props => {\n  const { speaking, invalid, theme } = props;\n\n  if (speaking) {\n    return theme.headerBgColor;\n  }\n  return invalid ? '#E53935' : '#4a4a4a';\n};\n\nconst SubmitButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  border-bottom-right-radius: 10px;\n  box-shadow: none;\n  cursor: ${props => (props.disabled ? 'default' : 'pointer')};\n  fill: ${fillFunc};\n  opacity: ${props => (props.disabled && !props.invalid ? '.5' : '1')};\n  outline: none;\n  padding: 14px 16px 12px 16px;\n  &:before {\n    content: '';\n    position: absolute;\n    width: 23px;\n    height: 23px;\n    border-radius: 50%;\n    animation: ${({ theme, speaking }) =>\n      speaking\n        ? css`\n            ${pulse(theme.headerBgColor)} 2s ease infinite\n          `\n        : ''};\n  }\n  &:not(:disabled):hover {\n    opacity: 0.7;\n  }\n`;\n\nSubmitButton.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default SubmitButton;\n","let instance = null;\n\nconst noop = () => {};\n\nexport default class Recognition {\n  static isSupported() {\n    return 'webkitSpeechRecognition' in window;\n  }\n\n  /**\n   * Creates an instance of Recognition.\n   * @param {function} [onChange] callback on change\n   * @param {function} [onEnd]  callback on and\n   * @param {function} [onStop]  callback on stop\n   * @param {string} [lang='en'] recognition lang\n   * @memberof Recognition\n   * @constructor\n   */\n  constructor(onChange = noop, onEnd = noop, onStop = noop, lang = 'en') {\n    if (!instance) {\n      instance = this;\n    }\n    this.state = {\n      inputValue: '',\n      lang,\n      onChange,\n      onEnd,\n      onStop\n    };\n\n    this.onResult = this.onResult.bind(this);\n    this.onEnd = this.onEnd.bind(this);\n\n    this.setup();\n\n    return instance;\n  }\n\n  /**\n   * Handler for recognition change event\n   * @param {string} interimTranscript\n   * @memberof Recognition\n   * @private\n   */\n  onChange(interimTranscript) {\n    const { onChange } = this.state;\n    this.setState({\n      inputValue: interimTranscript\n    });\n    onChange(interimTranscript);\n  }\n\n  /**\n   * Handler for recognition change event when its final\n   * @param {string} finalTranscript\n   * @memberof Recognition\n   * @private\n   */\n  onFinal(finalTranscript) {\n    this.setState({\n      inputValue: finalTranscript\n    });\n    this.recognition.stop();\n  }\n\n  /**\n   * Handler for recognition end event\n   * @memberof Recognition\n   * @private\n   */\n  onEnd() {\n    const { onStop, onEnd, force } = this.state;\n    this.setState({ speaking: false });\n    if (force) {\n      onStop();\n    } else {\n      onEnd();\n    }\n  }\n\n  /**\n   * Handler for recognition result event\n   * @memberof Recognition\n   * @private\n   */\n  onResult(event) {\n    let interimTranscript = '';\n    let finalTranscript = '';\n\n    for (let i = event.resultIndex; i < event.results.length; i += 1) {\n      if (event.results[i].isFinal) {\n        finalTranscript += event.results[i][0].transcript;\n        this.onFinal(finalTranscript);\n      } else {\n        interimTranscript += event.results[i][0].transcript;\n        this.onChange(interimTranscript);\n      }\n    }\n  }\n\n  /**\n   * method for updating the instance state\n   * @param {object} nextState\n   * @memberof Recognition\n   * @private\n   */\n  setState(nextState) {\n    this.state = Object.assign({}, this.state, nextState);\n  }\n\n  /**\n   * setup the browser recognition\n   * @returns {Recognition}\n   * @memberof Recognition\n   * @public\n   */\n  setup() {\n    if (!Recognition.isSupported()) {\n      return this;\n    }\n\n    const { webkitSpeechRecognition } = window;\n\n    this.recognition = new webkitSpeechRecognition();\n    this.recognition.continuous = true;\n    this.recognition.interimResults = true;\n    this.recognition.lang = this.state.lang;\n    this.recognition.onresult = this.onResult;\n    this.recognition.onend = this.onEnd;\n    return this;\n  }\n\n  /**\n   * change the recognition lang and resetup\n   * @param {string} lang the new lang\n   * @returns {Recognition}\n   * @memberof Recognition\n   * @public\n   */\n  setLang(lang) {\n    this.setState({ lang });\n    this.setup();\n    return this;\n  }\n\n  /**\n   * toggle the recognition\n   * @returns {Recognition}\n   * @memberof Recognition\n   * @public\n   */\n  speak() {\n    if (!Recognition.isSupported()) {\n      return this;\n    }\n    const { speaking } = this.state;\n    if (!speaking) {\n      this.recognition.start();\n      this.setState({\n        speaking: true,\n        inputValue: ''\n      });\n    } else {\n      this.setState({\n        force: true\n      });\n      this.recognition.stop();\n    }\n    return this;\n  }\n}\n","import React from 'react';\n\nconst ChatIcon = () => (\n  <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z\" />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>\n);\n\nexport default ChatIcon;\n","import React from 'react';\n\nconst CloseIcon = () => (\n  <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12\n      13.41 17.59 19 19 17.59 13.41 12z\"\n    />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>\n);\n\nexport default CloseIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SubmitIcon = ({ size }) => (\n  <svg\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    viewBox=\"0 0 500 500\"\n  >\n    <g>\n      <g>\n        <polygon points=\"0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75\" />\n      </g>\n    </g>\n  </svg>\n);\n\nSubmitIcon.propTypes = {\n  size: PropTypes.number\n};\n\nSubmitIcon.defaultProps = {\n  size: 20\n};\n\nexport default SubmitIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MicIcon = ({ size }) => (\n  <svg\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    viewBox=\"0 0 400 400\"\n  >\n    <g>\n      <path d=\"M290.991,240.991c0,26.392-21.602,47.999-48.002,47.999h-11.529c-26.4,0-48.002-21.607-48.002-47.999V104.002   c0-26.4,21.602-48.004,48.002-48.004h11.529c26.4,0,48.002,21.604,48.002,48.004V240.991z\" />\n      <path d=\"M342.381,209.85h-8.961c-4.932,0-8.961,4.034-8.961,8.961v8.008c0,50.26-37.109,91.001-87.361,91.001   c-50.26,0-87.109-40.741-87.109-91.001v-8.008c0-4.927-4.029-8.961-8.961-8.961h-8.961c-4.924,0-8.961,4.034-8.961,8.961v8.008   c0,58.862,40.229,107.625,96.07,116.362v36.966h-34.412c-4.932,0-8.961,4.039-8.961,8.971v17.922c0,4.923,4.029,8.961,8.961,8.961   h104.688c4.926,0,8.961-4.038,8.961-8.961v-17.922c0-4.932-4.035-8.971-8.961-8.971h-34.43v-36.966   c55.889-8.729,96.32-57.5,96.32-116.362v-8.008C351.342,213.884,347.303,209.85,342.381,209.85z\" />\n    </g>\n  </svg>\n);\n\nMicIcon.propTypes = {\n  size: PropTypes.number\n};\n\nMicIcon.defaultProps = {\n  size: 20\n};\n\nexport default MicIcon;\n","export const isMobile = () => /iphone|ipod|android|ie|blackberry|fennec/i.test(navigator.userAgent);\n\nexport const isString = value => typeof value === 'string';\n","import { isString } from './utils';\n\nexport const getSpeakText = step => {\n  const { message, metadata = {} } = step;\n  if (isString(metadata.speak)) {\n    return metadata.speak;\n  }\n  if (isString(message)) {\n    return message;\n  }\n  return '';\n};\n\nexport const speakFn = speechSynthesisOptions => (step, previousValue) => {\n  const { lang, voice, enable } = speechSynthesisOptions;\n  const { user } = step;\n\n  if (!window.SpeechSynthesisUtterance || !window.speechSynthesis) {\n    return;\n  }\n  if (user) {\n    return;\n  }\n  if (!enable) {\n    return;\n  }\n  const text = getSpeakText(step);\n  const msg = new window.SpeechSynthesisUtterance();\n  msg.text = text.replace(/{previousValue}/g, previousValue);\n  msg.lang = lang;\n  msg.voice = voice;\n  window.speechSynthesis.speak(msg);\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Random from 'random-id';\nimport { CustomStep, OptionsStep, TextStep } from './steps_components';\nimport schema from './schemas/schema';\nimport * as storage from './storage';\nimport {\n  ChatBotContainer,\n  Content,\n  Header,\n  HeaderTitle,\n  HeaderIcon,\n  FloatButton,\n  FloatingIcon,\n  Footer,\n  Input,\n  SubmitButton\n} from './components';\nimport Recognition from './recognition';\nimport { ChatIcon, CloseIcon, SubmitIcon, MicIcon } from './icons';\nimport { isMobile } from './utils';\nimport { speakFn } from './speechSynthesis';\n\nclass ChatBot extends Component {\n  /* istanbul ignore next */\n  constructor(props) {\n    super(props);\n\n    this.content = null;\n    this.input = null;\n\n    this.supportsScrollBehavior = false;\n\n    this.setContentRef = element => {\n      this.content = element;\n    };\n\n    this.setInputRef = element => {\n      this.input = element;\n    };\n\n    this.state = {\n      renderedSteps: [],\n      previousSteps: [],\n      currentStep: {},\n      previousStep: {},\n      steps: {},\n      disabled: true,\n      opened: props.opened || !props.floating,\n      inputValue: '',\n      inputInvalid: false,\n      speaking: false,\n      recognitionEnable: props.recognitionEnable && Recognition.isSupported(),\n      defaultUserSettings: {}\n    };\n\n    this.speak = speakFn(props.speechSynthesis);\n  }\n\n  componentDidMount() {\n    const { steps } = this.props;\n    const {\n      botDelay,\n      botAvatar,\n      botName,\n      cache,\n      cacheName,\n      customDelay,\n      enableMobileAutoFocus,\n      userAvatar,\n      userDelay\n    } = this.props;\n    const chatSteps = {};\n\n    const defaultBotSettings = { delay: botDelay, avatar: botAvatar, botName };\n    const defaultUserSettings = {\n      delay: userDelay,\n      avatar: userAvatar,\n      hideInput: false,\n      hideExtraControl: false\n    };\n    const defaultCustomSettings = { delay: customDelay };\n\n    for (let i = 0, len = steps.length; i < len; i += 1) {\n      const step = steps[i];\n      let settings = {};\n\n      if (step.user) {\n        settings = defaultUserSettings;\n      } else if (step.message || step.asMessage) {\n        settings = defaultBotSettings;\n      } else if (step.component) {\n        settings = defaultCustomSettings;\n      }\n\n      chatSteps[step.id] = Object.assign({}, settings, schema.parse(step));\n    }\n\n    schema.checkInvalidIds(chatSteps);\n\n    const firstStep = steps[0];\n\n    if (firstStep.message) {\n      const { message } = firstStep;\n      firstStep.message = typeof message === 'function' ? message() : message;\n      chatSteps[firstStep.id].message = firstStep.message;\n    }\n\n    const { recognitionEnable } = this.state;\n    const { recognitionLang } = this.props;\n\n    if (recognitionEnable) {\n      this.recognition = new Recognition(\n        this.onRecognitionChange,\n        this.onRecognitionEnd,\n        this.onRecognitionStop,\n        recognitionLang\n      );\n    }\n\n    this.supportsScrollBehavior = 'scrollBehavior' in document.documentElement.style;\n\n    if (this.content) {\n      this.content.addEventListener('DOMNodeInserted', this.onNodeInserted);\n      window.addEventListener('resize', this.onResize);\n    }\n\n    const { currentStep, previousStep, previousSteps, renderedSteps } = storage.getData(\n      {\n        cacheName,\n        cache,\n        firstStep,\n        steps: chatSteps\n      },\n      () => {\n        // focus input if last step cached is a user step\n        this.setState({ disabled: false }, () => {\n          if (enableMobileAutoFocus || !isMobile()) {\n            if (this.input) {\n              this.input.focus();\n            }\n          }\n        });\n      }\n    );\n\n    this.setState({\n      currentStep,\n      defaultUserSettings,\n      previousStep,\n      previousSteps,\n      renderedSteps,\n      steps: chatSteps\n    });\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { opened, toggleFloating } = props;\n    if (toggleFloating !== undefined && opened !== undefined && opened !== state.opened) {\n      return {\n        ...state,\n        opened\n      };\n    }\n    return state;\n  }\n\n  componentWillUnmount() {\n    if (this.content) {\n      this.content.removeEventListener('DOMNodeInserted', this.onNodeInserted);\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  onNodeInserted = event => {\n    const { currentTarget: target } = event;\n    const { enableSmoothScroll } = this.props;\n\n    if (enableSmoothScroll && this.supportsScrollBehavior) {\n      target.scroll({\n        top: target.scrollHeight,\n        left: 0,\n        behavior: 'smooth'\n      });\n    } else {\n      target.scrollTop = target.scrollHeight;\n    }\n  };\n\n  onResize = () => {\n    this.content.scrollTop = this.content.scrollHeight;\n  };\n\n  onRecognitionChange = value => {\n    this.setState({ inputValue: value });\n  };\n\n  onRecognitionEnd = () => {\n    this.setState({ speaking: false });\n    this.handleSubmitButton();\n  };\n\n  onRecognitionStop = () => {\n    this.setState({ speaking: false });\n  };\n\n  onValueChange = event => {\n    this.setState({ inputValue: event.target.value });\n  };\n\n  getTriggeredStep = (trigger, value) => {\n    const steps = this.generateRenderedStepsById();\n    return typeof trigger === 'function' ? trigger({ value, steps }) : trigger;\n  };\n\n  getStepMessage = message => {\n    const { previousSteps } = this.state;\n    const lastStepIndex = previousSteps.length > 0 ? previousSteps.length - 1 : 0;\n    const steps = this.generateRenderedStepsById();\n    const previousValue = previousSteps[lastStepIndex].value;\n    return typeof message === 'function' ? message({ previousValue, steps }) : message;\n  };\n\n  generateRenderedStepsById = () => {\n    const { previousSteps } = this.state;\n    const steps = {};\n\n    for (let i = 0, len = previousSteps.length; i < len; i += 1) {\n      const { id, message, value, metadata } = previousSteps[i];\n\n      steps[id] = {\n        id,\n        message,\n        value,\n        metadata\n      };\n    }\n\n    return steps;\n  };\n\n  triggerNextStep = data => {\n    const { enableMobileAutoFocus } = this.props;\n    const { defaultUserSettings, previousSteps, renderedSteps, steps } = this.state;\n\n    let { currentStep, previousStep } = this.state;\n    const isEnd = currentStep.end;\n\n    if (data && data.value) {\n      currentStep.value = data.value;\n    }\n    if (data && data.hideInput) {\n      currentStep.hideInput = data.hideInput;\n    }\n    if (data && data.hideExtraControl) {\n      currentStep.hideExtraControl = data.hideExtraControl;\n    }\n    if (data && data.trigger) {\n      currentStep.trigger = this.getTriggeredStep(data.trigger, data.value);\n    }\n\n    if (isEnd) {\n      this.handleEnd();\n    } else if (currentStep.options && data) {\n      const option = currentStep.options.filter(o => o.value === data.value)[0];\n      const trigger = this.getTriggeredStep(option.trigger, currentStep.value);\n      delete currentStep.options;\n      \n      // replace choose option for user message\n      currentStep = Object.assign({}, currentStep, option, defaultUserSettings, {\n        user: true,\n        message: option.label,\n        trigger\n      });     \n      renderedSteps.pop();\n      previousSteps.pop();\n      renderedSteps.push(currentStep);\n      previousSteps.push(currentStep);\n\n      this.setState({\n        currentStep,\n        renderedSteps,\n        previousSteps\n      });\n    } else if (currentStep.trigger && currentStep.replace && data) {\n        const trigger = this.getTriggeredStep(currentStep.trigger, currentStep.value);      \n        const val = currentStep.value;\n        const msg = data.msg;\n        const stepMsg = data.stepMsg;\n\n        delete currentStep.component;  \n        if(data.preserveMsg){\n          const defaultBotSettings = { delay: 0, avatar: this.props.botAvatar, botName: this.props.botName };\n         \n          const thisStepMsg = {id:currentStep.id, key: currentStep.key, msg: stepMsg, trigger: ''};\n          const nextS = Object.assign({}, thisStepMsg, 0, defaultBotSettings, {\n            user: false,\n            message: stepMsg,\n            rendered:true,\n            \n          }); \n          delete currentStep.component;\n          delete currentStep.trigger;\n\n          currentStep = Object.assign({}, currentStep, val, defaultUserSettings, {\n            user: true,\n            message: msg,\n            trigger: trigger,            \n          });\n          renderedSteps.pop();\n          previousSteps.pop();\n          renderedSteps.push(nextS);\n          previousSteps.push(nextS);\n          renderedSteps.push(currentStep);\n          previousSteps.push(currentStep);\n          this.setState({\n            currentStep,\n            renderedSteps,\n            previousSteps\n          });\n        } else {\n          delete currentStep.component;    \n          currentStep = Object.assign({}, currentStep, val, defaultUserSettings, {\n            user: true,\n            message: msg,\n            trigger\n          }); \n          \n          renderedSteps.pop();\n          previousSteps.pop();\n          renderedSteps.push(currentStep);\n          previousSteps.push(currentStep);\n          \n          this.setState({\n            currentStep,\n            renderedSteps,\n            previousSteps\n          });\n        }\n      } else if (currentStep.trigger) {      \n      \n       const trigger = this.getTriggeredStep(currentStep.trigger, currentStep.value);  \n        let nextStep = Object.assign({}, steps[trigger]);\n     \n      if (nextStep.message) {\n        nextStep.message = this.getStepMessage(nextStep.message);\n      } else if (nextStep.update) {\n        const updateStep = nextStep;\n        nextStep = Object.assign({}, steps[updateStep.update]);\n\n        if (nextStep.options) {\n          for (let i = 0, len = nextStep.options.length; i < len; i += 1) {\n            nextStep.options[i].trigger = updateStep.trigger;\n          }\n        } else {\n          nextStep.trigger = updateStep.trigger;\n        }\n      }\n\n      nextStep.key = Random(24);\n\n      previousStep = currentStep;\n      currentStep = nextStep;\n\n      this.setState({ renderedSteps, currentStep, previousStep }, () => {\n        if (nextStep.user) {\n          this.setState({ disabled: false }, () => {\n            if (enableMobileAutoFocus || !isMobile()) {\n              if (this.input) {\n                this.input.focus();\n              }\n            }\n          });\n        } else {\n          renderedSteps.push(nextStep);\n          previousSteps.push(nextStep);\n\n          this.setState({ renderedSteps, previousSteps });\n        }\n      });\n    }\n\n    const { cache, cacheName } = this.props;\n    if (cache) {\n      setTimeout(() => {\n        storage.setData(cacheName, {\n          currentStep,\n          previousStep,\n          previousSteps,\n          renderedSteps\n        });\n      }, 300);\n    }\n  };\n\n  handleEnd = () => {\n    const { handleEnd } = this.props;\n\n    if (handleEnd) {\n      const { previousSteps } = this.state;\n\n      const renderedSteps = previousSteps.map(step => {\n        const { id, message, value, metadata } = step;\n\n        return {\n          id,\n          message,\n          value,\n          metadata\n        };\n      });\n\n      const steps = [];\n\n      for (let i = 0, len = previousSteps.length; i < len; i += 1) {\n        const { id, message, value, metadata } = previousSteps[i];\n\n        steps[id] = {\n          id,\n          message,\n          value,\n          metadata\n        };\n      }\n\n      const values = previousSteps.filter(step => step.value).map(step => step.value);\n\n      handleEnd({ renderedSteps, steps, values });\n    }\n  };\n\n  isInputValueEmpty = () => {\n    const { inputValue } = this.state;\n    return !inputValue || inputValue.length === 0;\n  };\n\n  isLastPosition = step => {\n    const { renderedSteps } = this.state;\n    const { length } = renderedSteps;\n    const stepIndex = renderedSteps.map(s => s.key).indexOf(step.key);\n\n    if (length <= 1 || stepIndex + 1 === length) {\n      return true;\n    }\n\n    const nextStep = renderedSteps[stepIndex + 1];\n    const hasMessage = nextStep.message || nextStep.asMessage;\n\n    if (!hasMessage) {\n      return true;\n    }\n\n    const isLast = step.user !== nextStep.user;\n    return isLast;\n  };\n\n  isFirstPosition = step => {\n    const { renderedSteps } = this.state;\n    const stepIndex = renderedSteps.map(s => s.key).indexOf(step.key);\n\n    if (stepIndex === 0) {\n      return true;\n    }\n\n    const lastStep = renderedSteps[stepIndex - 1];\n    const hasMessage = lastStep.message || lastStep.asMessage;\n\n    if (!hasMessage) {\n      return true;\n    }\n\n    const isFirst = step.user !== lastStep.user;\n    return isFirst;\n  };\n\n  handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      this.submitUserMessage();\n    }\n  };\n\n  handleSubmitButton = () => {\n    const { speaking, recognitionEnable } = this.state;\n\n    if ((this.isInputValueEmpty() || speaking) && recognitionEnable) {\n      this.recognition.speak();\n      if (!speaking) {\n        this.setState({ speaking: true });\n      }\n      return;\n    }\n\n    this.submitUserMessage();\n  };\n\n  submitUserMessage = () => {\n    const { defaultUserSettings, inputValue, previousSteps, renderedSteps } = this.state;\n    let { currentStep } = this.state;\n\n    const isInvalid = currentStep.validator && this.checkInvalidInput();\n\n    if (!isInvalid) {\n      const step = {\n        message: inputValue,\n        value: inputValue\n      };\n\n      currentStep = Object.assign({}, defaultUserSettings, currentStep, step);\n\n      renderedSteps.push(currentStep);\n      previousSteps.push(currentStep);\n\n      this.setState(\n        {\n          currentStep,\n          renderedSteps,\n          previousSteps,\n          disabled: true,\n          inputValue: ''\n        },\n        () => {\n          if (this.input) {\n            this.input.blur();\n          }\n        }\n      );\n    }\n  };\n\n  checkInvalidInput = () => {\n    const { enableMobileAutoFocus } = this.props;\n    const { currentStep, inputValue } = this.state;\n    const result = currentStep.validator(inputValue);\n    const value = inputValue;\n\n    if (typeof result !== 'boolean' || !result) {\n      this.setState(\n        {\n          inputValue: result.toString(),\n          inputInvalid: true,\n          disabled: true\n        },\n        () => {\n          setTimeout(() => {\n            this.setState(\n              {\n                inputValue: value,\n                inputInvalid: false,\n                disabled: false\n              },\n              () => {\n                if (enableMobileAutoFocus || !isMobile()) {\n                  if (this.input) {\n                    this.input.focus();\n                  }\n                }\n              }\n            );\n          }, 2000);\n        }\n      );\n\n      return true;\n    }\n\n    return false;\n  };\n\n  toggleChatBot = opened => {\n    const { toggleFloating } = this.props;\n\n    if (toggleFloating) {\n      toggleFloating({ opened });\n    } else {\n      this.setState({ opened });\n    }\n  };\n\n  renderStep = (step, index) => {\n    const { renderedSteps } = this.state;\n    const {\n      avatarStyle,\n      bubbleStyle,\n      bubbleOptionStyle,\n      customStyle,\n      hideBotAvatar,\n      hideUserAvatar,\n      speechSynthesis\n    } = this.props;\n    const { options, component, asMessage } = step;\n    const steps = this.generateRenderedStepsById();\n    const previousStep = index > 0 ? renderedSteps[index - 1] : {};\n\n    if (component && !asMessage) {\n      return (\n        <CustomStep\n          key={index}\n          speak={this.speak}\n          step={step}\n          steps={steps}\n          style={customStyle}\n          previousStep={previousStep}\n          previousValue={previousStep.value}\n          triggerNextStep={this.triggerNextStep}\n        />\n      );\n    }\n\n    if (options) {\n      return (\n        <OptionsStep\n          key={index}\n          step={step}\n          previousValue={previousStep.value}\n          triggerNextStep={this.triggerNextStep}\n          bubbleOptionStyle={bubbleOptionStyle}\n        />\n      );\n    }\n\n    return (\n      <TextStep\n        key={index}\n        step={step}\n        steps={steps}\n        speak={this.speak}\n        previousStep={previousStep}\n        previousValue={previousStep.value}\n        triggerNextStep={this.triggerNextStep}\n        avatarStyle={avatarStyle}\n        bubbleStyle={bubbleStyle}\n        hideBotAvatar={hideBotAvatar}\n        hideUserAvatar={hideUserAvatar}\n        speechSynthesis={speechSynthesis}\n        isFirst={this.isFirstPosition(step)}\n        isLast={this.isLastPosition(step)}\n      />\n    );\n  };\n\n  render() {\n    const {\n      currentStep,\n      disabled,\n      inputInvalid,\n      inputValue,\n      opened,\n      renderedSteps,\n      speaking,\n      recognitionEnable\n    } = this.state;\n    const {\n      className,\n      contentStyle,\n      extraControl,\n      controlStyle,\n      floating,\n      floatingIcon,\n      floatingStyle,\n      footerStyle,\n      headerComponent,\n      headerTitle,\n      hideHeader,\n      hideSubmitButton,\n      inputStyle,\n      placeholder,\n      inputAttributes,\n      recognitionPlaceholder,\n      style,\n      submitButtonStyle,\n      width,\n      height\n    } = this.props;\n\n    const header = headerComponent || (\n      <Header className=\"rsc-header\">\n        <HeaderTitle className=\"rsc-header-title\">{headerTitle}</HeaderTitle>\n        {floating && (\n          <HeaderIcon className=\"rsc-header-close-button\" onClick={() => this.toggleChatBot(false)}>\n            <CloseIcon />\n          </HeaderIcon>\n        )}\n      </Header>\n    );\n\n    let customControl;\n    if (extraControl !== undefined) {\n      customControl = React.cloneElement(extraControl, {\n        disabled,\n        speaking,\n        invalid: inputInvalid\n      });\n    }\n\n    const icon =\n      (this.isInputValueEmpty() || speaking) && recognitionEnable ? <MicIcon /> : <SubmitIcon />;\n\n    const inputPlaceholder = speaking\n      ? recognitionPlaceholder\n      : currentStep.placeholder || placeholder;\n\n    const inputAttributesOverride = currentStep.inputAttributes || inputAttributes;\n\n    return (\n      <div className={`rsc ${className}`}>\n        {floating && (\n          <FloatButton\n            className=\"rsc-float-button\"\n            style={floatingStyle}\n            opened={opened}\n            onClick={() => this.toggleChatBot(true)}\n          >\n            {typeof floatingIcon === 'string' ? <FloatingIcon src={floatingIcon} /> : floatingIcon}\n          </FloatButton>\n        )}\n        <ChatBotContainer\n          className=\"rsc-container\"\n          floating={floating}\n          floatingStyle={floatingStyle}\n          opened={opened}\n          style={style}\n          width={width}\n          height={height}\n        >\n          {!hideHeader && header}\n          <Content\n            className=\"rsc-content\"\n            ref={this.setContentRef}\n            floating={floating}\n            style={contentStyle}\n            height={height}\n            hideInput={currentStep.hideInput}\n          >\n            {renderedSteps.map(this.renderStep)}\n          </Content>\n          <Footer className=\"rsc-footer\" style={footerStyle}>\n            {!currentStep.hideInput && (\n              <Input\n                type=\"textarea\"\n                style={inputStyle}\n                ref={this.setInputRef}\n                className=\"rsc-input\"\n                placeholder={inputInvalid ? '' : inputPlaceholder}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.onValueChange}\n                value={inputValue}\n                floating={floating}\n                invalid={inputInvalid}\n                disabled={disabled}\n                hasButton={!hideSubmitButton}\n                {...inputAttributesOverride}\n              />\n            )}\n            <div style={controlStyle} className=\"rsc-controls\">\n              {!currentStep.hideInput && !currentStep.hideExtraControl && customControl}\n              {!currentStep.hideInput && !hideSubmitButton && (\n                <SubmitButton\n                  className=\"rsc-submit-button\"\n                  style={submitButtonStyle}\n                  onClick={this.handleSubmitButton}\n                  invalid={inputInvalid}\n                  disabled={disabled}\n                  speaking={speaking}\n                >\n                  {icon}\n                </SubmitButton>\n              )}\n            </div>\n          </Footer>\n        </ChatBotContainer>\n      </div>\n    );\n  }\n}\n\nChatBot.propTypes = {\n  avatarStyle: PropTypes.objectOf(PropTypes.any),\n  botAvatar: PropTypes.string,\n  botName: PropTypes.string,\n  botDelay: PropTypes.number,\n  bubbleOptionStyle: PropTypes.objectOf(PropTypes.any),\n  bubbleStyle: PropTypes.objectOf(PropTypes.any),\n  cache: PropTypes.bool,\n  cacheName: PropTypes.string,\n  className: PropTypes.string,\n  contentStyle: PropTypes.objectOf(PropTypes.any),\n  customDelay: PropTypes.number,\n  customStyle: PropTypes.objectOf(PropTypes.any),\n  controlStyle: PropTypes.objectOf(PropTypes.any),\n  enableMobileAutoFocus: PropTypes.bool,\n  enableSmoothScroll: PropTypes.bool,\n  extraControl: PropTypes.objectOf(PropTypes.element),\n  floating: PropTypes.bool,\n  floatingIcon: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  floatingStyle: PropTypes.objectOf(PropTypes.any),\n  footerStyle: PropTypes.objectOf(PropTypes.any),\n  handleEnd: PropTypes.func,\n  headerComponent: PropTypes.element,\n  headerTitle: PropTypes.string,\n  height: PropTypes.string,\n  hideBotAvatar: PropTypes.bool,\n  hideHeader: PropTypes.bool,\n  hideSubmitButton: PropTypes.bool,\n  hideUserAvatar: PropTypes.bool,\n  inputAttributes: PropTypes.objectOf(PropTypes.any),\n  inputStyle: PropTypes.objectOf(PropTypes.any),\n  opened: PropTypes.bool,\n  toggleFloating: PropTypes.func,\n  placeholder: PropTypes.string,\n  recognitionEnable: PropTypes.bool,\n  recognitionLang: PropTypes.string,\n  recognitionPlaceholder: PropTypes.string,\n  speechSynthesis: PropTypes.shape({\n    enable: PropTypes.bool,\n    lang: PropTypes.string,\n    voice:\n      typeof window !== 'undefined'\n        ? PropTypes.instanceOf(window.SpeechSynthesisVoice)\n        : PropTypes.any\n  }),\n  steps: PropTypes.arrayOf(PropTypes.object).isRequired,\n  style: PropTypes.objectOf(PropTypes.any),\n  submitButtonStyle: PropTypes.objectOf(PropTypes.any),\n  userAvatar: PropTypes.string,\n  userDelay: PropTypes.number,\n  width: PropTypes.string\n};\n\nChatBot.defaultProps = {\n  avatarStyle: {},\n  botDelay: 1000,\n  botName: 'The bot',\n  bubbleOptionStyle: {},\n  bubbleStyle: {},\n  cache: false,\n  cacheName: 'rsc_cache',\n  className: '',\n  contentStyle: {},\n  customStyle: {},\n  controlStyle: { position: 'absolute', right: '0', top: '0' },\n  customDelay: 1000,\n  enableMobileAutoFocus: false,\n  enableSmoothScroll: false,\n  extraControl: undefined,\n  floating: false,\n  floatingIcon: <ChatIcon />,\n  floatingStyle: {},\n  footerStyle: {},\n  handleEnd: undefined,\n  headerComponent: undefined,\n  headerTitle: 'Chat',\n  height: '520px',\n  hideBotAvatar: false,\n  hideHeader: false,\n  hideSubmitButton: false,\n  hideUserAvatar: false,\n  inputStyle: {},\n  opened: undefined,\n  placeholder: 'Type the message ...',\n  inputAttributes: {},\n  recognitionEnable: false,\n  recognitionLang: 'en',\n  recognitionPlaceholder: 'Listening ...',\n  speechSynthesis: {\n    enable: false,\n    lang: 'en',\n    voice: null\n  },\n  style: {},\n  submitButtonStyle: {},\n  toggleFloating: undefined,\n  userDelay: 1000,\n  width: '350px',\n  botAvatar:\n    \"data:image/svg+xml,%3csvg version='1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3e%3cpath d='M303 70a47 47 0 1 0-70 40v84h46v-84c14-8 24-23 24-40z' fill='%2393c7ef'/%3e%3cpath d='M256 23v171h23v-84a47 47 0 0 0-23-87z' fill='%235a8bb0'/%3e%3cpath fill='%2393c7ef' d='M0 240h248v124H0z'/%3e%3cpath fill='%235a8bb0' d='M264 240h248v124H264z'/%3e%3cpath fill='%2393c7ef' d='M186 365h140v124H186z'/%3e%3cpath fill='%235a8bb0' d='M256 365h70v124h-70z'/%3e%3cpath fill='%23cce9f9' d='M47 163h419v279H47z'/%3e%3cpath fill='%2393c7ef' d='M256 163h209v279H256z'/%3e%3cpath d='M194 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%233c5d76'/%3e%3cpath d='M380 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%231e2e3b'/%3e%3cpath d='M186 349a70 70 0 1 0 140 0H186z' fill='%233c5d76'/%3e%3cpath d='M256 349v70c39 0 70-31 70-70h-70z' fill='%231e2e3b'/%3e%3c/svg%3e\",\n  userAvatar:\n    \"data:image/svg+xml,%3csvg viewBox='-208.5 21 100 100' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ccircle cx='-158.5' cy='71' fill='%23F5EEE5' r='50'/%3e%3cdefs%3e%3ccircle cx='-158.5' cy='71' id='a' r='50'/%3e%3c/defs%3e%3cclipPath id='b'%3e%3cuse overflow='visible' xlink:href='%23a'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23b)' d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' fill='%23E6C19C'/%3e%3cg clip-path='url(%23b)'%3e%3cdefs%3e%3cpath d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' id='c'/%3e%3c/defs%3e%3cclipPath id='d'%3e%3cuse overflow='visible' xlink:href='%23c'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23d)' d='M-158.5 100.1c12.7 0 23-18.6 23-34.4 0-16.2-10.3-24.7-23-24.7s-23 8.5-23 24.7c0 15.8 10.3 34.4 23 34.4z' fill='%23D4B08C'/%3e%3c/g%3e%3cpath d='M-158.5 96c12.7 0 23-16.3 23-31 0-15.1-10.3-23-23-23s-23 7.9-23 23c0 14.7 10.3 31 23 31z' fill='%23F2CEA5'/%3e%3c/svg%3e\"\n};\n\nexport default ChatBot;\n","import { stringify, parse } from 'flatted/cjs'\n\n/* istanbul ignore next */\nconst getData = (params, callback) => {\n  const { cacheName, cache, firstStep, steps } = params;\n  const currentStep = firstStep;\n  const renderedSteps = [steps[currentStep.id]];\n  const previousSteps = [steps[currentStep.id]];\n  const previousStep = {};\n  const unParsedCache = localStorage.getItem(cacheName);\n\n  if (cache && unParsedCache) {\n    try {\n      const data = parse(unParsedCache);\n      const lastStep = data.renderedSteps[data.renderedSteps.length - 1];\n\n      if (lastStep && lastStep.end) {\n        localStorage.removeItem(cacheName);\n      } else {\n        for (let i = 0, len = data.renderedSteps.length; i < len; i += 1) {\n          const renderedStep = data.renderedSteps[i];\n          // remove delay of cached rendered steps\n          data.renderedSteps[i].delay = 0;\n          // flag used to avoid call triggerNextStep in cached rendered steps\n          data.renderedSteps[i].rendered = true;\n\n          // an error is thrown when render a component from localStorage.\n          // So it's necessary reassing the component\n          if (renderedStep.component) {\n            const { id } = renderedStep;\n            data.renderedSteps[i].component = steps[id].component;\n          }\n        }\n\n        const { trigger, end, options } = data.currentStep;\n        const { id } = data.currentStep;\n\n        if (options) {\n          delete data.currentStep.rendered;\n        }\n\n        // add trigger function to current step\n        if (!trigger && !end) {\n          if (options) {\n            for (let i = 0; i < options.length; i += 1) {\n              data.currentStep.options[i].trigger = steps[id].options[i].trigger;\n            }\n          } else {\n            data.currentStep.trigger = steps[id].trigger;\n          }\n        }\n\n        // execute callback function to enable input if last step is\n        // waiting user type\n        if (data.currentStep.user) {\n          callback();\n        }\n\n        return data;\n      }\n    } catch (error) {\n      console.info(`Unable to parse cache named:${cacheName}. \\nThe cache where probably created with an older version of react-simple-chatbot.\\n`, error);\n    }\n  }\n\n  return {\n    currentStep,\n    previousStep,\n    previousSteps,\n    renderedSteps\n  };\n};\n\n/* istanbul ignore next */\nconst setData = (cacheName, cachedData) => {\n  const data = parse(stringify(cachedData));\n  // clean components\n  for (const key in data) {\n    for (let i = 0, len = data[key].length; i < len; i += 1) {\n      if (data[key][i].component) {\n        data[key][i].component = data[key][i].id;\n      }\n    }\n  }\n\n  localStorage.setItem(cacheName, stringify(data));\n};\n\nexport { getData, setData };\n","function StepFactory(stepInfo) {\n  const owner = stepInfo.currentStep;\n  const next = stepInfo.nextStep;\n  const prev = stepInfo.prevStep;\n  const isRetRevO = stepInfo.isRetRevO;\n  return getCtrls(owner, next,prev,isRetRevO);\n}\nfunction getCtrls(owner, next, prev, isRetRevO){\n  const hasRemoveSpecial = (owner.type==='menu'||((owner.type==='edit'||owner.type==='review')&&owner.name==='pizza'))?true:false;  \n  const isFinalReview = (owner.type==='review'&&owner.name==='order')?true:false;  \n  const revS = [['warn', owner.type==='menu'?'Discard pizza':'Remove this pizza', owner,owner,'remove']];\n  const comp = [['next', 'Complete Order', owner, owner, 'complete']];\n  const chng = [['next', \"Change Name\", owner, owner, 'change']];\n  const cancel = [['warn', 'Cancel order', owner, owner, 'cancel']];\n  let ctrlArry =[];\n  if(owner.type==='menu'){\n    const a = next.type==='menu'?next:{type:'special', name:'specialinstmsg'}\n    ctrlArry = ctrlArry.concat([['next', next.type==='menu'?`Next Step -> ${next.name}`:'Next Step -> Special Instructions', owner, a, 'goto']]);\n    ctrlArry = ctrlArry.concat([['prev', prev.type==='menu'?`Prev Step -> ${prev.name}`:'Start Over', owner, prev, 'goto']]);\n  } else if(owner.type==='edit'){\n    if(owner.name==='pizza'){      \n      const a = next.map((i)=>{\n        return [['next', `Edit ${i.name}`, owner, i, 'goto']]\n      })\n      ctrlArry = ctrlArry.concat(a);\n      ctrlArry = ctrlArry.concat([['prev', 'Finished with edits', owner, isRetRevO?{name:'order',type:'review'}:{name:'pizza',type:'review'}, 'goto']]);\n    } else {\n      ctrlArry = ctrlArry.concat([['next', 'Save Changes', owner, {name:'pizza', type:'edit'}, 'goto']]);\n      ctrlArry = ctrlArry.concat([['prev', 'Discard Changes', owner, {name:'pizza', type:'edit'}, 'goto']]);\n    }\n  } else if(owner.type==='review'){\n    if(owner.name==='pizza'){\n      ctrlArry = ctrlArry.concat([['next', 'Edit this Pizza', owner, {name:'pizza', type:'edit'}, 'goto']]);\n      ctrlArry = ctrlArry.concat([['next', 'Add another Pizza', owner, {name:'crusts', type:'new'}, 'goto']]);\n      ctrlArry = ctrlArry.concat([['next', 'Review Order', owner, {name:'order', type:'review'}, 'goto']]);\n    } else {\n      const a = next.map((i)=>{\n        return ['next', `Edit Pizza ${i.name}`, owner, i, 'goto']\n      })\n      ctrlArry = ctrlArry.concat(a);\n      ctrlArry = ctrlArry.concat([['next', 'Add another Pizza', owner, {name:'crusts', type:'menu'}, 'goto']]);\n    }  \n  }\n  ctrlArry =hasRemoveSpecial?ctrlArry.concat(revS):ctrlArry;\n  ctrlArry =isFinalReview?ctrlArry.concat(comp,chng):ctrlArry;\n  ctrlArry = ctrlArry.concat(cancel);\n  return (\n    ctrlArry.map((i)=>{\n      return buildCtrlObj(i[0],i[1],i[2],i[3],i[4]);\n    })\n  )\n}\nfunction buildCtrlObj(ctrlType, btnCapt, owner, target, tarFunc){\nconst key = `${owner.type}:${owner.name}-${tarFunc}(${target.type}:${target.name})`;\nconst specStep = tarFunc==='goto'?false:buildSpecialStep(tarFunc, owner);\n  return ({\n    btnClass: `btn-${ctrlType}`,\n    btnCapt: btnCapt,\n    listKey: key,\n    ownerType: owner.type,\n    ownerName: owner.name,\n    targetType: target.type,\n    targetName: target.name,\n    action:ctrlType,\n    hasSpecial: specStep,    \n    trigger: tarFunc,  \n  }) \n}\nfunction buildSpecialStep(type, prev){\n  const vals = (t,p)=> {\n    switch(t){\n      case 'remove':\n        return removeCtrl(t,p);\n      case 'cancel':\n        return cancelCtrl(t,p);\n      case 'complete':\n        return compCtrl(t,p);\n      case 'change':\n        return \n      default:changeCtrl(t,p)\n        return ''\n    }\n  }\n  const ctrlVals = vals(type,prev);\n  return({\n    stepMsg:ctrlVals.msg,\n    msgClass:`msg-${type}`,\n    stepCtrls:ctrlVals.ctrls,\n  })\n}\nconst cancelCtrl = (t,p)=>{\n  const msg ='Do you really want to cancel this order?';\n  let ctrls = [];\n  ctrls = ctrls.concat(buildConfirmationCtrl('yes','Yes, go to main page',t,'cancel','mainpage'));\n  ctrls = ctrls.concat(buildConfirmationCtrl('yes','Yes, go to the store selection page',t,'cancel','storeselect'));\n  ctrls = ctrls.concat(buildConfirmationCtrl('yes','Yes, restart this order',t,'cancel','restart'));\n  ctrls = ctrls.concat(buildConfirmationCtrl('no','No, go back',t,p.type,p.name));\n  return ({\n    msg:msg,\n    ctrls:ctrls,}\n  )\n}\nconst compCtrl = (t,p)=>{\n  const msg ='Complete this order and go to payment & confirmation?';\n  let ctrls = [];\n  ctrls = ctrls.concat(buildConfirmationCtrl('yes','Yes',t,'complete','order'));\n  ctrls = ctrls.concat(buildConfirmationCtrl('no','No, go back',t,p.type,p.name));\n  return ({\n    msg:msg,\n    ctrls:ctrls,}\n  )\n}\nconst changeCtrl = (t,p)=>{\n  const msg ='Do you really want to change the name for this order?';\n  let ctrls = [];\n  ctrls = ctrls.concat(buildConfirmationCtrl('yes','Yes',t,'change','name'));\n  ctrls = ctrls.concat(buildConfirmationCtrl('no','No, go back',t,p.type,p.name));\n  return ({\n    msg:msg,\n    ctrls:ctrls,}\n  )\n}\nconst removeCtrl = (t,p) =>{\n  const pType = p.type;\n  const msg = pType==='menu'?'Are you sure you want to discard this pizza?':'Do you really want to remove this pizza?';\n  let ctrls = [];\n  if(pType==='menu'){\n    ctrls = ctrls.concat(buildConfirmationCtrl('yes','Yes-start over',t,'remove','restart'));\n  }\n  ctrls = ctrls.concat(buildConfirmationCtrl('yes','Yes',t,'remove','revieworder'));\n  ctrls = ctrls.concat(buildConfirmationCtrl('no','No, go back',t,p.type,p.name));\n  return ({\n    msg:msg,\n    ctrls:ctrls,}\n  )\n}\nfunction buildConfirmationCtrl(type, label, owner, tarType, tarName){\n  const ctrlType = type==='yes'?'warn':'prev';\n  const key = `${owner}-${type}-${tarType}-${tarName}`\n  return ({\n    btnClass: `btn-${ctrlType}`,\n    btnCapt: label,\n    listKey: key,\n    ownerType: type,\n    ownerName: owner,\n    targetType: tarType,\n    targetName: tarName,\n    action: ctrlType,\n    hasSpecial: true,    \n    trigger: 'special',  \n  })\n}\nexport default StepFactory;","import React from 'react';\nimport '../css/OrderStyle.css';\nimport StepFactory from './StepFactory';\n\nclass OrderStep extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={\n      selected:[],\n      items:[],\n      curKey: '',\n      trigger: false,\n    }\n    \n    this.triggerNext = this.triggerNext.bind(this);\n    this.onSelect = this.onSelect.bind(this);    \n  }  \n  checkSpecialInstr(){\n    const chk = this.props.steps.hasOwnProperty('specialinstmsg');\n    const strchk = this.props.steps.hasOwnProperty('specialinstentry');\n    if (strchk){\n      return this.props.steps.specialinstentry.value;\n    } else if (chk){\n      return 'noentry'\n    }\n    return '';\n  }\n  checkRequiredInput(val){\n    if((val.ownerName==='crusts'||val.ownerName==='sizes')&&this.state.selected.length===0){\n      const trig = (val.trigger==='remove'||val.trigger==='cancel')?true:false;      \n      return trig;\n    }\n    return true;\n  }\n  triggerNext(val){   \n    if(!this.checkRequiredInput(val)){\n      alert(`You must select one of the available ${val.ownerName}`);\n      return null;\n    }\n    const ordercontrol = this.props.step.metadata;\n  \n    //update order\n    const selectedObjs = this.state.selected;\n    const processObj = {action:val, selections:selectedObjs}\n    const processingResults = ordercontrol.ProcessAction(processObj);\n    const msg = processingResults.msg;\n    switch(processingResults.trigger){\n      case 'cancel':\n        //cancel order\n\n        break;\n      case 'remove':\n        //remove pizza\n\n        break;\n      default:        \n        this.props.step.trigger =processingResults.trigger\n    }    \n    //trigger next step in chatbot\n    const type = `${val.trigger}:${val.actionType}(${val.ownerType}:${val.ownerName}=>${val.targetType}:${val.targetName})`\n    const key = this.props.step.key;\n    this.props.step.metadata.botKey = key;\n    if(key!==this.state.curKey){\n      this.setState({curKey:key});\n      this.props.step.id = key;\n      const newsteps = this.props.steps.pizzabuilder;\n      newsteps.id = key;\n      delete this.props.steps.pizzabuilder;\n      this.props.steps[key]=newsteps;\n    }\n    const data = {\n      preserveMsg:true,\n      stepMsg: ordercontrol.stepMsg,\n      value:selectedObjs,\n      type:type,\n      msg:msg,\n    }\n    if(val.targetType==='special'&&val.actionType==='next'){\n      ordercontrol.handleSpecialInst =true;\n      this.props.step.trigger = val.targetName;\n    }\n    this.setState({selected:[],trigger: true, curKey:''}, () => {\n      this.props.triggerNextStep(data);\n    });\n  }\n  onSelect(val){\n    const currrentlySelected = this.props.step.metadata.HandleItemSelect(val);\n    this.setState({selected:currrentlySelected});      \n  }\n  render(){\n    const ordercontrol = this.props.step.metadata;\n    if(!ordercontrol.isStarted){\n      const name = this.props.steps.ordername.value;\n      ordercontrol.isStarted = name;\n    } else if(ordercontrol.handleSpecialInst){\n      const inst = this.checkSpecialInstr();\n\n      ordercontrol.specialInstructions = inst;\n    }\n    if(ordercontrol.IsSpecialStep){\n      return <BuildSpecialStep stepInfo={ordercontrol.SpecialStep} onTrigger={this.triggerNext}/>\n    }\n\n    const getStepType = (val) => {\n      if(val.IsSpecialStep) return 'specialStep';\n      switch (val.currentStepInfo.currentStep.type){\n        case 'review':\n          return 'reviewStep';\n        case 'edit':\n          return val.currentStepInfo.currentStep.name==='order'?'editOrderStep':'editStep';\n        default:\n          return 'standard';\n      }      \n    }\n    const currentStep = ordercontrol.StepInfo();    \n    const stepCtrls = StepFactory(currentStep);\n    \n    const buildType = getStepType(ordercontrol);\n    return <BuildStep ordercontrol={ordercontrol} stepCtrls={stepCtrls} stepType={buildType} selected={this.state.selected}  onTrigger={this.triggerNext} onSelect={this.onSelect}/>;\n  }  \n}\nfunction BuildStep(props){\n  const buildType = props.stepType;\n  const stepMsg = props.ordercontrol.StepMsg();\n  switch (buildType){\n    case 'specialStep':\n      return <BuildSpecialStep stepInfo={props.ordercontrol.SpecialStep} onTrigger={props.onTrigger}/>\n    case 'reviewStep':\n    return <BuildReviewStep reviewType={props.ordercontrol.currentStepInfo.currentStep.name} pizzaOrder={props.ordercontrol.pizzaOrder} stepCtrls={props.stepCtrls} onTrigger={props.onTrigger}/>;\n    case 'editOrderStep':\n      return null;\n    default:\n      const stepProcesingInfo = props.ordercontrol.CurrentStep();\n      return <BuildStandardStep displayMsg={stepMsg} stepOptions={stepProcesingInfo} selected={props.selected} stepCtrls={props.stepCtrls} onTrigger={props.onTrigger} onSelect={props.onSelect}/>;\n  }\n}\nfunction BuildSpecialStep(props){\n  const stepMsg = <div className=\"orderStepMsg\">{props.stepInfo.stepMsg}</div>;\n  const controlArray = <ControlArray stepCtrls={props.stepInfo.stepCtrls} onTrigger={props.onTrigger}/>\n  const stepClassName = `orderstep-${props.stepInfo.msgClass}`;\n  return (\n    <div className={stepClassName}>\n      {stepMsg}     \n      {controlArray}\n    </div>\n  )\n}\nfunction BuildReviewStep(props){\n  const reviewType = props.reviewType;\n  if(reviewType==='pizza'){\n    const id = props.pizzaOrder.CurrentPizzaID;    \n    const retclass = `review-pizza-${id}`;\n    const topMsg = `Summary for Pizza #${id}`;\n    const reviewStr = props.pizzaOrder.CurrentPizzaString;\n    const controlArray = <ControlArray stepCtrls={props.stepCtrls} onTrigger={props.onTrigger}/>\n    return (\n      <div className=\"pizzaReviewMsg\">\n        <div className=\"pizzaIDmsg\">{topMsg}</div>\n        <div className={retclass}>{reviewStr}</div>\n        {controlArray}\n      </div>\n    )\n  }\n}\nfunction BuildStandardStep(props){\n  const {stepOptions, stepCtrls} = props;\n  const hasElements = stepOptions.hasMenuElements;\n\n  const stepMsg = props.displayMsg!==''?<div className=\"orderStepMsg\">{props.displayMsg}</div>:null;\n  const elementArray = hasElements?\n    <ElementArray stepInfo={stepOptions.elements} selected={props.selected} onSelect={props.onSelect}/>\n    :null;\n  const controlArray = <ControlArray stepCtrls={stepCtrls} onTrigger={props.onTrigger}/>\n  const stepClassName = `orderstep-${stepOptions.curStepType}-${stepOptions.stepName}`;\n  return (\n    <div className={stepClassName}>\n      {stepMsg}\n      {elementArray}\n      {controlArray}\n    </div>\n  )  \n}\nfunction ElementArray(props){\n  const elements = props.stepInfo.elements;\n  const hasRows = props.stepInfo.hasRows;\n  const hasMulti = props.stepInfo.hasMulti;  \n  const click = props.onSelect;\n  const sel = props.selected;\n  return (\n    <ul className=\"menuEleList\">\n    {hasRows?    \n    elements.map((e)=>{\n      const rowName = e.name;\n      const rowClass = e.rClass;\n      const rowKey = `${rowClass}-${rowName}`;\n      const rowBtns = e.btns.map((b)=>{\n        const key = b.listKey;\n        const i = sel.findIndex(p=>p===key)\n        const capt =b.btnCapt;        \n        const val = {itemInfo:b.itemInfo, multi:hasMulti};\n        const eleClass =  i===-1?b.btnClass:'btn-select';\n                \n        return (\n          <li key={key} className={eleClass}>\n            <button className=\"menuBtn\" onClick={()=> {return click(val)}}>{capt}</button>\n          </li>\n        )\n      });\n      return (\n        <div className={rowClass} key={rowKey}>\n          <div className=\"rowTitle\">{rowName}</div>\n          <div className=\"rowBtns\">            \n            {rowBtns}\n          </div>\n        </div>\n      )\n    }):elements.map((e)=>{ \n      const capt = e.btnCapt;\n      const key = e.listKey;\n      const val = {itemInfo:e.itemInfo, multi:hasMulti};\n      const i = sel.findIndex(p=>p===key)\n      const eleClass = i===-1?e.btnClass:'btn-select';\n            \n      return (\n        <li key={key} className={eleClass}>\n          <button className=\"menuBtn\" onClick={()=> {return click(val)}}>{capt}</button>\n        </li>\n      )\n    })\n    }\n    </ul>    \n  )\n}\nfunction ControlArray(props){\n  const stepControls = props.stepCtrls.map((s)=>{\n    if(s===null) return null;\n    const capt = s.btnCapt;\n    const btnClass = s.btnClss;\n    const key = s.listKey;\n    const ret = {      \n      ownerType: s.ownerType,\n      ownerName: s.ownerName,\n      targetType: s.targetType,\n      targetName: s.targetName,\n      actionType: s.action,\n      hasSpecial: s.hasSpecial,    \n      trigger: s.trigger,\n    }\n    return (\n      <li key={key} className={btnClass}>\n        <button className=\"ctrlBtn\" onClick={()=> {return props.onTrigger(ret)}}>{capt}</button>\n      </li>\n    )\n  })\n  return(\n    <div className=\"btnNavigationArray\">\n      <ul className=\"btnCtrlList\">\n        {stepControls}\n      </ul>\n    </div>\n  )\n}\n\nexport default OrderStep;","import React, { Component } from 'react';\nimport ChatBot from './chatbot/ChatBot';\nimport { ThemeProvider } from 'styled-components';\nimport OrderStep from './OrderStep';\n\n\nclass SimpleForm extends Component {\n  constructor(props){\n    super(props);\n    this.handleEnd = this.handleEnd.bind(this);\n  }\n  handleEnd(){\n    //load order summary page\n    const order = this.props.order;\n    this.props.end(order)\n  }\n  render() {\n    const order = this.props.order;          \n    return (\n      <ThemeProvider theme={{\n              background: '#f5f5f5',\n              fontFamily: 'Montserrat',\n              headerBgColor: '#DD841F',\n              headerFontColor: '#fff',\n              headerFontSize: '15px',\n              botBubbleColor: '#DD841F',\n              botFontColor: '#fff',\n              userBubbleColor: '#fff',\n              userFontColor: '#4a4a4a',\n              marginTop: '60px',\n          }}>\n      <ChatBot headerTitle=\"Slice Bot\"\n        handleEnd = {this.handleEnd}\n        steps={[\n          {\n            id: '1',\n            message: 'Welcome to Slice!',\n            trigger: '2',            \n          },\n          {\n            id: '2',\n            message: 'Please enter a name for the order',\n            trigger: 'ordername',            \n          },\n          {\n            id: 'ordername',\n            user:true,\n            placeholder: 'Please enter a name...',\n            trigger: 'pizzabuilder',   \n          },\n          {\n            id: 'pizzabuilder',\n            placeholder: 'Choose an option',\n            component: <OrderStep/>,              \n            waitAction: true, \n            replace: true,\n            metadata: order,\n            trigger: 'pizzabuilder',           \n          },\n          {\n            id:'specialinstmsg',\n            message:'Would you like to add any special instructions?',\n            trigger: 'specialinstques',\n          },\n          {\n            id:'specialinstques',\n            options: [\n              {value: 'yes', label:'Yes', trigger:'specialinstentry'},\n              {value: 'no', label:'No, Lets review this pizza', trigger:'pizzabuilder'},\n              ],\n          },\n          {\n            id:'specialinstentry',\n            user:true,\n            trigger: 'pizzabuilder',\n          },\n          {\n            id: 'endmsg1',         \n            message: 'Thank you for using Slice!',\n            trigger: 'endmsg2',            \n          },\n          {\n            id: 'endmsg2',         \n            message: 'Your order is confirmed. Please click OK to continue.',\n            trigger: 'endmsg3',            \n          },\n          {\n            id: 'endmsg3',         \n            options: [{value: 'endbot', label:'OK', trigger:'endbot'}],                        \n          },\n          {\n            id: 'endbot',         \n            message: 'Good bye',\n            end: true,            \n          },\n          ]}\n        />\n          </ThemeProvider>\n      );\n    }\n  }\n  \n  export default SimpleForm;","import React from 'react';\nimport df from \"../resources/dairyfree.svg\";\nimport gf from \"../resources/glutenfree.svg\";\nimport veggie from \"../resources/vegetarian.svg\";\nimport vegan from \"../resources/vegan.svg\";\nimport '../css/DisplayMainArea.css';\n\nclass StoreMenu extends React.Component {\nrender(){\n  return(\n    <div className=\"displayArea\">\n        <div className=\"menuSummary\">\n            <h2>Menu</h2>\n            <div className=\"leftPanel\">\n            <h3>Sizes</h3>\n            <hr/>\n            <div className=\"menuItem\">\n            <p>Small 10\"</p>\n            </div>\n            <div className=\"menuItem\">\n                <p>Medium 12\"</p>\n            </div>\n            <div className=\"menuItem\">\n                <p>Large 14\"</p>\n            </div>\n            <div className=\"menuItem\">\n                <p>X-Large 16\"</p>\n            </div>\n            <h3>Crust</h3>\n            <hr/>\n            <div className=\"menuItem\">\n                <p>Original</p>\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Thin Crust</p>\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Gluten Free</p>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>\n            </div>\n            <h3>Cheese</h3>\n            <hr/>\n            <div className=\"menuItem\">\n                <p>None</p>\n            </div>\n            <div className=\"menuItem\">\n                <p>Light</p>\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Normal</p>\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Double</p>\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\n            </div>\n            <h3>Sauce</h3>\n            <hr/>\n            <div className=\"menuItem\">\n                <p>Tomato</p>\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Marinara</p>\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>            </div>\n            <div className=\"menuItem\">\n                <p>Honey BBQ</p>\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Alfredo</p>\n                <img className=\"allergyInfo\" src={veggie} alt=\"Vegetarian\"></img>\n            </div>\n            </div>\n            <div className=\"rightPanel\">\n            <h3>Meats</h3>\n            <hr/>\n            <div className=\"menuItem\">\n                <p>Pepperoni</p>\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Beef</p>\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Philly Cheese Steak</p></div>\n            <div className=\"menuItem\">\n                <p>Italian Sausage</p>\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Grilled Chicken</p>\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>\n            </div>\n            <div className=\"menuItem\">\n                <p>Bacon</p>\n                <img className=\"allergyInfo\" src={df} alt=\"Dairy Free\"></img>\n            </div>\n            <h3>Toppings</h3>\n            <hr/>\n            <div className=\"menuItem\">\n                <p>Tomatoes</p>\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>            </div>\n            <div className=\"menuItem\">\n                <p>Mushrooms</p>\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\n            <div className=\"menuItem\">\n                <p>Jalapeo Peppers</p>\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\n            <div className=\"menuItem\">\n                <p>Onions</p>\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\n            <div className=\"menuItem\">\n                <p>Pineapple</p>\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\n            <div className=\"menuItem\">\n                <p>Green Peppers</p>\n                <img className=\"allergyInfo\" src={vegan} alt=\"Vegan\"></img>\n                <img className=\"allergyInfo\" src={gf} alt=\"Gluten Free\"></img>               </div>\n            </div>\n        </div>\n      </div>\n  )\n}\n}\nexport default StoreMenu;","import React from 'react';\nimport SimpleForm from './SimpleForm';\nimport '../css/DisplayMainArea.css';\nimport StoreMenu from './StoreMenu';\n\nclass DisplayMainArea extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {      \n      showSum: false,\n      showEdit: false,\n    };\n    this.orderEnd = this.orderEnd.bind(this); \n  } \n  orderEnd(val){\n    const o = val;\n    const t = true;\n    this.setState({\n      order: o,\n      showSum: t,\n    })\n  }  \n  render() {\n    const appState= this.props.appState;\n    const showPage = appState.showPage;\n    const order = appState.order;\n    if (showPage!=='Main') {\n      return null;\n    } \n    return (\n      <>\n      <StoreMenu />\n      <div className=\"chatBot\">\n          <SimpleForm order={order} showPage={showPage} end={(val)=>this.orderEnd(val)}/>\n      </div>\n      </>\n    );\n  }\n}\nexport default DisplayMainArea;","\nclass Pizza {\n  constructor(id){\n    this.id = id;\n    this.pizzaItems = {};    \n    this.specialInstructions='';\n  }\n  set PizzaItems(props) {\n    const t = props.type;\n    const values = props.values\n    this.pizzaItems[t]=values;    \n  }\n  \n  get AvailSizes(){\n    if(this.pizzaItems.HasItemType('crusts')){\n      return this.pizzaItems.crusts.sizes;\n    } else {\n      return [0];\n    }    \n  }\n  HasItemType(type){\n    if(this.pizzaItems===null) return false;\n    return this.pizzaItems.hasOwnProperty(type);     \n  }\n  GetPizzaItem(type){\n    if(this.HasItemType(type)){\n      return this.pizzaItems[type];\n    } else {     \n      return [];\n    }\n  }  \n  get Pizza(){\n    return this;\n  }\n  set SpecialInstructions(value){\n    this.specialInstructions=value;\n  }\n  get SpecialInstructions(){\n    return this.specialInstructions;\n  }\n  get PizzaID(){\n    return this.id;\n  }\n  get PizzaString(){\n    const title = 'Pizza #'+ this.id + ' is a:';\n    /*this.pizzaItems[t]\n    const pizzaType = pizza.Size + ' ' + pizza.Crust;\n    const pizzaSauce = pizza.Sauce;\n    const cheese = pizza.Cheese;\n    const meats = pizza.MeatToppings;\n    const nonmeats = pizza.NonMeatToppings;\n    const inst = pizza.SpecialInstructions;\n    return ({\n      title: title,\n      type: pizzaType,\n      sauce: pizzaSauce,\n      cheeses: cheese,\n      meats: meats,\n      nonMeats:nonmeats,\n      inst:inst,\n    });*/\n    return title;\n  } \n} \n\nexport default Pizza;","import Pizza from './Pizza';\nclass PizzaOrder {\n  constructor() {\n    this.orderName= '';\n    this.pizzas= [];\n    this.pizzaCnt = 0;\n    this.lastID = 0;\n    this.currentPizza = null;        \n  }\n  set Name(value){    \n    this.orderName= value;\n  }  \n  get Name(){\n    return this.orderName;  \n  }\n  get PizzaCnt(){\n    return this.pizzaCnt;\n  }  \n  get NextPizzaID(){\n    return this.lastID+1;\n  }\n  \n  get NewPizza(){    \n    return new Pizza(this.lastID+1);\n  }\n  get PizzaList(){    \n    return this.pizzas.map((p)=>{\n      return p.PizzaID;\n    });\n  }\n  set UpdatePizzas(pizza){\n    const id = pizza.PizzaID;\n    const i = this.pizzas.findIndex(p => p.PizzaID === id);\n    if(i!==-1){\n      //Override existing pizza\n      this.pizzas.splice(i,1,pizza);\n    }\n    else {\n      this.lastID = pizza.PizzaID;\n      this.pizzaCnt = this.pizzas.push(pizza);\n    }\n  }\n  set CurrentPizza(id){\n    const i = this.pizzas.findIndex(p => p.PizzaID === id);\n    if(i!==-1){\n      this.currentPizza = this.pizzas[i];\n    } else {\n      this.currentPizza = null;\n    }\n  }\n  get CurrentPizzaID(){\n    if(this.currentPizza!==null){\n      return this.currentPizza.PizzaID;\n    }\n    return 0;\n  }\n  setPizzaItems(val){\n    const itemType = val.type;\n    const itemSelc = val.selected;\n    \n    if(itemSelc.length===0){\n      return `No ${itemType} added`\n\n    } else {\n      return `Added some stuff`;\n    }\n  }\n  getPizzaItems(type){\n    const items = this.currentPizza.GetPizzaItem(type);\n    if(items===`No ${type}`){\n      return false;\n    }\n    return items;\n  }\n  CancelPizza(){\n    this.currentPizza = null;\n    return 0;\n  }\n  MakeNewPizza(){\n    this.currentPizza = this.NewPizza;\n    return this.CurrentPizzaID;\n  }\n  AddPizzaToOrder(){\n    this.UpdatePizzas = this.currentPizza;\n  }\n  ReturnPizzaItems(items){\n    return this.currentPizza.GetPizzaItem(items);\n  }\n  SavePizzaItems(items){\n    this.currentPizza.PizzaItems = items;\n  }\n  GetPizza(id){\n    const i = this.pizzas.findIndex(p => p.PizzaID === id);\n    if(i!==-1){\n      return this.pizzas[i]\n    } else {\n      return null;\n    }\n  }\n  RemovePizza(id){    \n    const i = this.pizzas.findIndex(p => p.PizzaID === id);\n    if(i!==-1){\n      this.pizzas.splice(i,1);\n      this.pizzaCnt = this.pizzas.length();\n    }\n  }\n  get CurrentPizzaString(){\n   return this.currentPizza.PizzaString;\n  }\n  GetPizzaString(id){\n    const i = this.pizzas.findIndex(p => p.PizzaID === id);\n    if(i===-1){\n      return `No pizza ${id}`;\n    }\n    const pizza = this.pizzas[i];\n    return pizza.PizzaString;\n  }  \n}\n\nexport default PizzaOrder;\n","import Menu from './pizzaMenu.json';\n\nclass itemMenu{\n  constructor(){\n    this.menu = Menu;\n    const obj = this.menu.menuSteps;\n    const arr = function(obj) {      \n      let x;\n      let ret = [];\n      for (x in obj){\n        ret = ret.concat(x); \n      }\n      return ret;\n    };    \n    this.menuSteps = arr(obj);         \n  }\n  get MenuSteps(){\n    return this.menuSteps;\n  }\n  GetItemName(type,id){\n    const items = this.menu.menuSteps[type];\n    const val = items.values.find((i)=>i.id===id)\n    return val.name;\n  }\n  GetItemID(type,name){\n    const items = this.menu.menuSteps[type];\n    const val = items.values.find((i)=>i.name===name)\n    return val.id;\n  }\n  GetOptMsg(type, id){\n    const items = this.menu.options[type];\n    const val = items.find((i)=>i.id===id)\n    return val.name;\n  }\n  getMenuStep(step){    \n    const hasQty = this.getHasQty(step);\n    const hasHalf = this.getHasHalf(step);\n    const hasMulti = this.getHasMultiple(step);\n    const hasSizes = this.getHasSizes(step);\n    let oEle = [];\n    if(hasQty||hasHalf){\n      oEle = this.buildMultRowStep(step,hasHalf,hasQty);\n    } else {\n      oEle = this.buildSimpleStep(step);\n    }\n    let msg = '';\n    if(hasMulti){\n     msg = `Please select the combination of ${step} you would like on the pizza`;\n    } else {\n      let single = step.substring(0,step.length-1);\n      msg = `Please select a ${single} for the pizza`;\n    }\n    const n = this.getNext(step);\n    const orderStep = {      \n      msg: msg,\n      next: n==='EOM'?'specialinstmsg':n,\n      prev: this.getPrev(step),\n      elements: oEle,\n      hasRows: (hasHalf||hasQty),\n      hasMulti: hasMulti,\n      hasSizes: hasSizes,\n    };\n    return orderStep;\n  }\n  getNext(step){\n    const i = this.menuSteps.findIndex(s => s === step)\n    return this.getStep(i+1);\n  }\n  getPrev(step){\n    const i = this.menuSteps.findIndex(s => s === step)\n    return this.getStep(i-1);\n  }\n  getStep(i){\n    if(i>=this.menuSteps.length){      \n      return 'EOM';\n    } else if(i<0){\n      return 'BOM';\n    } else {     \n      return this.menuSteps[i];      \n    }   \n  } \n  buildMultRowStep(step, hasHalf, hasQty){\n    const items = this.getItemsList(step);\n    const itemArry = items.map((i)=> {\n      const id = i.id;\n      const name = i.name;\n      let btns = [];\n      if(hasHalf){\n        const b = this.buildOptBtns(step, 'half', id);\n        btns = btns.concat(b);\n      }\n      if(hasQty){\n        const b = this.buildOptBtns(step, 'qty', id);\n        btns = btns.concat(b);\n      }\n      const itemRow = {\n        name:name,\n        rClass: `row-item`,\n        btns: btns,\n      };\n      return itemRow;\n    })\n    return itemArry;\n  }\n  buildSimpleStep(step){\n    const items = this.getItemsList(step);\n    const itemArry = items.map((i)=> {   \n      const btn = {\n        btnClass:'btn-item',\n        btnCapt:i.name,\n        listKey:`${step}-${i.id}`,\n        btnMsg:i.name,\n        itemInfo: {\n          item:step,\n          itemID:i.id,          \n        },        \n      };\n      return btn;\n    })\n    return itemArry;\n  }\n  buildOptBtns(step, opt, itemID){ \n    const optList = this.getOptsList(opt);    \n    const btnArry = optList.map((o)=> {\n      const itemInfo= {\n        item:step,\n        itemID:itemID,\n        [opt]:o.id,\n      };\n      const btn = {\n        btnClass:`btn-${opt}-${o.class}`,\n        btnCapt: o.short,\n        listKey:`${step}-${itemID}-${opt}-${o.id}`,\n        btnMsg:o.name,\n        itemInfo: itemInfo,\n      };\n      return btn;\n    })\n    return btnArry;\n  }\n  getItemsList(step){\n    const obj = this.menu.menuSteps[step];\n    const ret = obj.values;\n    return ret;\n  }  \n  getHasSizes(step){\n    const obj = this.menu.menuSteps[step];\n    const ret = obj.sizes;\n    return ret;\n  }\n  getHasQty(step){\n    const obj = this.menu.menuSteps[step];\n    const ret = obj.qty;\n    return ret;\n  }\n  getHasHalf(step){\n    const obj = this.menu.menuSteps[step];\n    const ret = obj.half;\n    return ret;\n  }\n  getHasMultiple(step){\n    const obj = this.menu.menuSteps[step];\n    const ret = obj.multiple;\n    return ret;\n  }\n  getOptsList(opt){\n    const obj = this.menu.options[opt];    \n    return obj;\n  }\n}\n\n\nexport default itemMenu;","import PizzaOrder from './PizzaOrder';\nimport PizzaMenu from './itemMenu';\n\nclass OrderControl {\n  constructor(){  \n    this.pizzaOrder = new PizzaOrder(); \n    this.pizzaMenu = new PizzaMenu();          \n    this.start = false;\n    this.currentStepInfo = null;        \n    this.currentPizzaID = 0;\n    this.ProcessAction = this.ProcessAction.bind(this);\n    this.menuStep = this.pizzaMenu.MenuSteps;\n    this.stepMsg = '';\n    this.specInstSet = false;\n    this.currentBotKey = '';\n    this.botKeys = [];\n    this.isSpecialStep = false;\n    this.specialStep = null;       \n  }\n  get IsSpecialStep(){\n    return this.isSpecialStep;\n  }\n  set IsSpecialStep(val){\n    this.isSpecialStep = false;\n  }\n  get SpecialStep(){\n    return this.specialStep;\n  }\n  set SpecialStep(val){\n    this.specialStep = val;\n  }\n  get isStarted(){\n    return this.start;\n  }\n  set isStarted(name){\n    this.pizzaOrder.Name = name;\n    this.addnewpizza();\n    this.start = true;\n  }\n  set botKey(val){\n    if (this.currentBotKey!==val){\n      this.currentBotKey = val;\n      this.botKeys = this.botKeys.concat(val);\n    }\n  }\n  get botKey(){\n    return this.currentBotKey;\n  }\n  HandleItemSelect(val){\n    const itemType = val.itemInfo.item;\n    const itemID = val.itemInfo.itemID;\n    const hasMulti = val.hasMulti;\n    const hasQty = val.itemInfo.hasOwnProperty('qty');\n    const hasHalf = val.itemInfo.hasOwnProperty('half');\n    const qty = hasQty?val.itemInfo.qty:'0';\n    const half = hasHalf?val.itemInfo.half:'0';\n    const qtyMsg = hasQty?this.pizzaMenu.GetOptMsg('qty',qty)+' ':'';\n    const halfMsg = hasHalf?' ' +this.pizzaMenu.GetOptMsg('half',half):'';\n    const itemName = this.pizzaMenu.GetItemName(itemType,itemID);\n    const itemMsg = `${qtyMsg}${itemName}${halfMsg}`;\n    const retVal = {id:itemID, name:itemName, qty:qty, qtyMsg:qtyMsg, half:half, halfMsg:halfMsg, itemMsg:itemMsg}\n    const curSelectItems = [].concat(this.pizzaOrder.ReturnPizzaItems(itemType));\n    if(curSelectItems.length===0){\n      //add item      \n      const add = {type:itemType, values:retVal};\n      this.pizzaOrder.SavePizzaItems(add);\n    } else {\n      //handle single/multiselct + qty/half\n      \n      const i = curSelectItems.findIndex((p)=>p.id===itemID);\n      if(i===-1){\n        //item not found\n        if(hasMulti){\n          const add = {type:itemType, values:retVal};          \n          this.pizzaOrder.SavePizzaItems(curSelectItems.concat(add));\n        } else {\n          //item not in collection - replace existing item\n          const add = {type:itemType, values:retVal};\n          curSelectItems.splice(0,1,add);\n          this.pizzaOrder.SavePizzaItems(curSelectItems);\n        }\n      } else {\n        if(curSelectItems[i].itemMsg===itemMsg){\n          //item is previously selected - remove  \n          curSelectItems.splice(i,1);\n          const add = {type:itemType, values:curSelectItems};\n          this.pizzaOrder.SavePizzaItems(add);\n        } else {        \n          const foundQty = curSelectItems[i].qty;\n          const foundHalf = curSelectItems[i].half;\n          if(qty==='0'){\n            retVal.qty = foundQty;\n            retVal.qtyMsg = curSelectItems[i].qtyMsg;\n          }\n          if(half==='0'){\n            retVal.half = foundHalf;\n            retVal.halfMsg = curSelectItems[i].halfMsg;\n          }\n          retVal.itemMsg = `${retVal.qtyMsg}${itemName}${retVal.halfMsg}`;\n          const add = {type:itemType, values:retVal};\n          curSelectItems.splice(i,1,add);\n          this.pizzaOrder.SavePizzaItems(curSelectItems);\n        }\n      }\n    } \n    const updatedItems = [this.pizzaOrder.ReturnPizzaItems(itemType)];\n    if(updatedItems.length===0) return []\n    \n    const ret = updatedItems.map((i)=> {\n      const init = `${itemType}-${i.id}`;\n      \n      const q =i.qty!=='0'?[`${init}-qty-${i.qty}`]:[];\n      const h =i.half!=='0'?[`${init}-half-${i.half}`]:[];\n      return [init,q,h];\n\n    })\n    //return = list key=>[${itemType}-${itemID}-${opt}-${o.id},${step}-${i.id}]\n    return ret.flat();\n  }\n\n  RestartOrder(){       \n    this.pizzaOrder = new PizzaOrder();\n    return this;\n  }\n  StepMsg(){\n    return this.stepMsg;\n  }\n  CurrentStep(){\n    const curStepName = this.currentStepInfo.currentStep.name;\n    const curStepType = this.currentStepInfo.currentStep.type;\n    const hasMenuElements = this.menuStep.findIndex((i)=> i===curStepName)!==-1?true:false;\n    const elements = hasMenuElements?this.pizzaMenu.getMenuStep(curStepName):null;\n    if(hasMenuElements){\n      this.stepMsg = elements.msg;\n    } else {\n      //do something else to get the message\n      this.stepMsg = `Step ${curStepName} with type ${curStepType}`;\n    }\n    const stepProcesingInfo = {\n      stepName: curStepName,\n      curStepType: curStepType,\n      hasMenuElements: hasMenuElements,\n      elements: elements,\n    }\n    return stepProcesingInfo;\n  }\n  StepInfo(){        \n    return this.currentStepInfo;\n  }\n  get handleSpecialInst(){\n    return this.specInstSet;\n  }\n  set handleSpecialInst(val){\n    this.specInstSet=val;\n  }\n\n  set specialInstructions(instr){\n    this.pizzaOrder.currentPizza.SpecialInstructions = instr;\n    if(instr!==''){\n      this.specInstSet = false;\n    }        \n  }\n  ProcessAction(val){\n    /* ownerType, ownerName, targetType, targetName, hasSpecial, trigger*/\n    //types: menu|edit|review|special[remove|change|complete|cancel]\n    //names: {item}|{pizzaID}|pizza|order|special[mainpage|storeselect|restart|order|name|revieworder]\n    //trigger: goto|special|remove|change|complete|cancel\n    const action = val.action;\n    const selections = val.selections;\n    \n    if(action.hasSpecial){\n      return this.ProcessSpecial(val);\n    } else {\n      if(action.actionType==='next'){\n        return this.GoToNextStep(action.targetType, action.targetName, action.ownerType, action.ownerName, selections);\n      } else if(action.actionType==='prev'){\n        return this.GoToPrevStep(action.targetType, action.targetName, action.ownerType, action.ownerName);\n      }\n    }\n  }\n  ProcessSpecial(val){\n    const chck = val.action.hasSpecial.hasOwnProperty('msgClass');\n    const retDef={msg:'No special return message', trigger:'pizzabuilder'};\n    if(chck){\n      //setup for special step\n      this.isSpecialStep = true;\n      this.specialStep = val.action.hasSpecial;\n      retDef.msg = `Going to ${this.specialStep.trigger}`;\n    } else {\n      //execute special step\n      this.isSpecialStep = false;\n      this.specialStep = null;\n      if(val.action.actionType==='prev'){\n       return this.GoToPrevStep(val.action.targetType, val.action.targetName)\n      } else {\n        //dispose of action\n       return this.handleSpecialActions(val);\n      }\n    }\n    \n    return retDef;\n  }\n  GoToNextStep(newType, newName, prevType, prevName, selections){\n    const ret={msg:'', trigger:'pizzabuilder'};\n    //handle selections\n    if(prevType==='menu'||prevType==='edit'){\n      const items = {type:prevName, selected:selections};\n      ret.msg = this.pizzaOrder.setPizzaItems(items);\n    }\n    if(newType==='menu'){\n      //change menustep\n      this.currentStepInfo = this.changeMenuStep(newName);      \n    } else if(newType==='special'){\n      //change step to special instruction step\n      this.currentStepInfo = this.setSpecialInstStep();      \n    } else if(newType==='new'){\n      \n      return this.addnewpizza();\n    } else if(newType==='edit'){\n      //go to edits\n    } else if(newType==='review'){\n      //go to review\n\n    }\n    return ret;\n  }\n  GoToEditStep(val){\n    const ret={msg:'Going to edit step', trigger:'pizzabuilder'};\n\n    return ret;\n  }\n  GoToReviewStep(val){\n    const ret={msg:'Going to review step', trigger:'pizzabuilder'};\n\n    return ret;\n  }\n  GoToPrevStep(newType, newName, prevType, prevName){\n    const ret={msg:'Going to previous step--', trigger:'pizzabuilder'};\n    if(newType==='menu'){\n      this.changeMenuStep(newName);\n    } else if(newType==='edit') {\n      //go to edits\n\n    }\n    return ret;\n  }\n  setSpecialInstStep(){\n    const curStep = {\n      type: 'review',\n      name: 'pizza',            \n    }\n    const prevStep = {\n      type: 'menu',\n      name: this.menuStep[this.menuStep.length-1], \n    }    \n    const nextStep = {\n      type:'',\n      name:'',\n    }    \n    const stepInfo = {\n      currentStep: curStep,\n      prevStep: prevStep,\n      nextStep: nextStep,\n      isRetRevO: false,\n    }\n    return stepInfo;\n  }\n  changeMenuStep(step){\n    const i = this.menuStep.findIndex((s)=>s===step);\n    if(i===-1) return null;\n    \n    const curStep = {\n      type: 'menu',\n      name: this.menuStep[i],            \n    }\n    const prevStep = {\n      type: 'menu',\n      name: this.menuStep[i-1], \n    }\n    if(i===0){\n      prevStep.type='chatbot';\n      prevStep.name='2'\n    }\n    const nextStep = {\n      type:'menu',\n      name:this.menuStep[i+1],\n    }\n    if (i===this.menuStep.length-1){\n      nextStep.type='special'\n      nextStep.name='instruction'\n    }\n    const stepInfo = {\n      currentStep: curStep,\n      prevStep: prevStep,\n      nextStep: nextStep,\n      isRetRevO: false,\n    }\n    return stepInfo;    \n  }\n  addnewpizza(){     \n    this.currentStepInfo = this.changeMenuStep('crusts')\n    this.specialSet = false;\n    this.currentPizzaID = this.pizzaOrder.MakeNewPizza();\n    this.currentSelectedItems = [];\n    const ret={msg:'Adding a new pizza', trigger:'pizzabuilder'};\n\n    return ret;\n  }\n  handleSpecialActions(val){\n    const type = val.action.targetType;\n    const name = val.action.targetName;\n    const ret={msg:'Special action message', trigger:'pizzabuilder'};\n    switch(type){\n      case 'cancel':\n        switch(name){\n          case 'mainpage':\n            ret.msg = 'Going to main page';\n            ret.trigger = 'cancel';\n            break;\n          case 'storeselect':\n            ret.msg = 'Going to store select';\n            ret.trigger = 'cancel';\n            break;            \n          case 'restart':\n            ret.msg = 'Restarting this order';\n            ret.trigger = 'cancel';\n            break;\n          default:\n        }\n        break;\n      case 'complete':\n        ret.msg = 'Completing order';\n        ret.trigger = 'endmsg1';\n        break;      \n      case 'change':\n        //call go to review step to set current step = review order\n        //\n        ret.msg = 'Changing order name';\n        ret.trigger = '2';\n        break;               \n      case 'remove':\n        switch (name){\n          case 'restart':\n            ret.msg = 'Restarting pizza';\n            ret.trigger = 'remove';\n            break;\n          case 'remove':\n            ret.msg = 'Removing Pizza';\n            ret.trigger = 'remove';\n            break;\n          default:\n        }\n        break;\n      default:\n    }\n    return ret;\n  }\n  \n}\nexport default OrderControl;","\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction GeoIcon({className, fill, viewBox}) {\n  return (\n    <svg width=\"15%\" height=\"15%\" viewBox={viewBox} className={className} preserveAspectRatio=\"xMidYMid meet\" version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g fill={fill} transform=\"translate(0.000000,670.000000) scale(0.100000,-0.100000)\">\n      <path d=\"M2847 6654 c-931 -135 -1617 -925 -1617 -1862 0 -583 266 -1292 776 -2069 283 -432 655 -901 1014 -1280 l88 -92 84 87 c409 422 845 984 1150 1482 378 617 586 1166 638 1679 100 1004 -599 1904 -1595 2052 -155 23 -391 24 -538 3z m506 -898 c170 -44 321 -132 452 -265 118 -120 204 -269 246 -428 32 -119 37 -320 11 -445 -33 -160 -105 -306 -211 -431 -297 -350 -799 -447 -1199 -230 -234 126 -399 330 -479 590 -25 81 -27 102 -27 263 -1 154 2 184 22 255 111 383 416 653 808 715 97 15 267 4 377 -24z\"/>\n      <path d=\"M1699 2095 c-888 -178 -1471 -496 -1574 -859 -13 -42 -16 -84 -13 -147 4 -78 9 -97 46 -172 121 -244 442 -456 947 -623 412 -136 861 -220 1430 -266 242 -20 979 -17 1215 5 561 52 974 131 1365 261 516 172 838 387 957 642 43 92 50 219 18 314 -114 340 -639 639 -1426 814 -183 40 -343 70 -348 65 -11 -14 -186 -261 -186 -264 0 -1 24 -5 53 -9 92 -12 389 -75 494 -105 302 -87 526 -204 598 -313 38 -58 45 -130 17 -184 -147 -285 -1046 -484 -2187 -484 -1017 0 -1877 167 -2124 412 -56 56 -73 90 -73 149 1 84 48 146 175 229 162 107 430 197 789 265 106 20 203 39 215 41 20 4 14 15 -70 134 -84 118 -95 130 -122 129 -16 0 -105 -15 -196 -34z\"/>\n    </g>\n    </svg>\n  );\n}\nGeoIcon.propTypes= {\n  className: PropTypes.string,\n  fill: PropTypes.string,\n  viewBox: PropTypes.string,\n};\nGeoIcon.defaultProps = {\n  className: undefined,\n  fill: \"#000000\",\n  viewBox: \"0 0 620.000000 670.000000\",\n};\nexport default GeoIcon","import React from 'react';\nimport GeoIcon from '../resources/GeoIcon.jsx';\nimport '../css/StoreLoc.css';\n\nclass StoreLoc extends React.Component {\n  constructor(props){\n    super(props);    \n    this.state = {\n      isSearch:true,\n      isSelect:false,\n      searchMeth: '',\n      searchLoc: '',      \n    };\n    this.storeSearch = this.storeSearch.bind(this);    \n    this.storeSelect = this.storeSelect.bind(this);\n    this.resetSearch = this.resetSearch.bind(this);    \n    this.input = React.createRef();\n  }\n  buildSearchMenu(locObj){\n    const showSearch = this.state.isSearch;\n    if(showSearch){\n      return <StoreSearchMenu locObj={locObj} search={this.storeSearch} select={this.storeSelect}/>\n    }\n    return null;\n  }\n  resetSearch(locObj){\n    const updateProps={      \n      locObj:locObj,\n      page:'Location',\n      resetSearch: true,\n    };\n    this.props.update(updateProps);\n  }\n  storeSearch(searchObj){\n    \n    const locObj = searchObj.locObj;\n    const method = searchObj.method;\n    const obj = {\n      method: method,\n      usrStr: method==='User Entry'?this.input.current.value:'',\n    };\n    locObj.storeSearch = obj;\n    this.setState({     \n      isSearch: locObj.searchErr,\n      isSelect: !locObj.searchErr,\n      searchMeth: locObj.searchMeth,\n      searchLoc: locObj.searchLoc,      \n    });\n    const updateProps={\n      locObj: locObj,\n      page:'Location'\n    };\n    this.props.update(updateProps);\n  }\n  buildStoreSelectMenu(locObj){\n    const showSelect = this.state.isSelect;\n    if(showSelect){\n      return <StoreSelectMenu locObj={locObj} reset={this.resetSearch} select={this.storeSelect}/>\n    }\n    return null;\n  }\n  storeSelect(selectObj){\n    const locObj = selectObj.locObj;\n    const selLoc = selectObj.selLoc;    \n    locObj.storeLoc = selLoc;    \n    this.setState({\n      isSearch: false,\n      isSelect: false,     \n    });    \n    this.props.set(locObj); \n  }  \n  render(){    \n    const {locObj, showPage} = this.props.appState;\n    const show= showPage==='Location'?true:false;   \n    return(\n      <>\n      {show && this.buildSearchMenu(locObj)}\n      {show && this.buildStoreSelectMenu(locObj)}\n      </>\n    )\n  }\n}\n\nfunction StoreSearchMenu(props) {\n  const locObj = props.locObj;\n  return (\n    <>\n    <div className=\"searchPage\">\n    <div className=\"searchGreeting\">Find your Slice</div>\n    <div className=\"srchGrtCaption\">Available Menu Items, Special Offers, and Pricing can vary by location.</div>\n    <div className=\"searchContentWrapper\">\n    <div className=\"searchBox\">\n      <div className=\"searchBoxBanner\">Find Locations</div>\n      <div className=\"searchOptions\">\n        <MakeGeoDialog locObj={locObj} search={props.search}/>\n        <MakeUserDialog locObj={locObj} search={props.search} refIn={props.ref} />\n      </div>\n    </div>              \n      <MakePrevDialog locObj={locObj} select={props.select}/>\n    </div>\n    </div> \n    </>\n  );\n}\nfunction MakeGeoDialog(props) {\n  const locObj = props.locObj;\n  const hasErr = locObj.geoErr;\n  const capStr = hasErr?locObj.geoErrMsg:'Locations near ' + locObj.geoZip;    \n  const clsStr = hasErr?\"geoSearchFail\": \"geoSearchBtn\";       \n  const searchObj = {\n    method: 'Geo Locate',\n    locObj: locObj,\n  };   \n  return (\n    <div className=\"geoSearchArea\">\n      <button className={clsStr} onClick={() => props.search(searchObj)}>\n        <GeoIcon fill=\"#000000\" className=\"geoSearchIcon\"/>\n        <div className=\"geoSearchBtnCapt\">{capStr}</div>\n      </button>\n    </div>\n  );\n}\nfunction MakeUserDialog(props) {\n  const locObj = props.locObj;\n  const hasErr = locObj.userErr;\n  const capStr = hasErr?locObj.userErrMsg:null;    \n  const searchObj = {\n    method: 'User Entry',\n    locObj: locObj,\n  };    \n  return (\n    <>\n    <div className=\"userSearchArea\">\n    <div className=\"userSearchLabel\">Enter a Zip Code</div>\n    <form className=\"searchForm\" onKeyDown={(event, i) => {\n      if(event.key === 'Enter') {\n        this.storeSearch(searchObj); \n        event.preventDefault();}}}>\n      <input className=\"userInputString\" type=\"text\" ref={props.refIn}/>\n      {capStr}\n    </form>\n      <button className=\"userSearchBtn\" type=\"button\" onClick={() => props.search(searchObj)}>\n      Submit</button>\n    </div>\n    </>\n  );\n}\nfunction MakePrevDialog(props) {\n  const locObj = props.locObj;\n  const cur = locObj.curStoreID;              \n  if (cur==='0'){\n    return null;\n  }\n  const storeInfo = locObj.curStoreInfo;    \n  return(\n    <>\n    <div className=\"searchOrPrev\">Or</div>\n    <div className=\"prevLocBox\">    \n      <div className=\"prevLocBanner\">Keep this location</div>        \n      <div className=\"prevLocName\">{storeInfo.name}</div>\n      <div className=\"prevLocHours\">{storeInfo.hours}</div>\n      <button className=\"prevLocConfirm\" onClick={() => props.select(cur)}>Select</button>\n    </div>\n    </>\n  );\n}\nfunction StoreSelectMenu(props){\n  const locObj = props.locObj;  \n  const searchLoc = locObj.searchLoc;    \n  const storeIDs = ['1','2','3'];\n  const storeList = storeIDs.map((storeID) => {\n    const store = locObj.storeInfo(storeID);   \n    const ret = {\n      locObj: locObj,\n      selLoc: storeID,\n    };\n    return (\n      <li key={storeID} className=\"resultElement\"> \n        <div className=\"store\">\n        <div className=\"storeAddress\">{store.name}</div>\n        <div className=\"storeDetails\">Store is {store.hours}, and is located {store.dist} miles away</div>\n        </div>\n        <div>\n        <button className=\"selectBtn\" onClick={() => {\n          props.select(ret)\n          }}>Select</button> \n        </div>\n      </li> \n      );\n    });\n  return (\n    <>\n    <div className=\"storeSelect\">\n    <div className=\"storeSelectBanner\">\n      <h2>Results</h2>\n      <div className=\"resultsCapt\">Showing results near: {searchLoc}</div>\n      <div className=\"resultsChange\" onClick={() => props.reset(locObj)}>Change Location</div>\n      </div>\n      <ul className=\"resultsList\">\n        {storeList}\n      </ul>\n    </div>\n    </>\n  );  \n}\nexport default StoreLoc;","import React from 'react';\nimport '../css/App.css';\nimport DisplayMainArea from './DisplayMainArea';\nimport logo from '../resources/SliceLogo.png';\nimport Order from './OrderControl';\n\nimport StoreLoc from './StoreLoc';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);    \n    this.state = {\n      showPage: 'Location',       \n      locObj: this.props.locObj,      \n      order: new Order(),\n    };\n    this.updateLoc = this.updateLoc.bind(this);\n    this.setStore = this.setStore.bind(this);\n    this.input = React.createRef();        \n  }\n  setStore(locObj){\n    const page = 'Main';    \n    const order = this.state.order.RestartOrder();\n    this.setState({\n      showPage: page,\n      locObj: locObj,\n      order: order,     \n    });    \n  }\n  updateLoc(props){\n    const locObj = props.locObj;\n    const page = props.page;    \n    this.setState({\n      locObj:locObj,\n      showPage: page,             \n    });\n  }\n  resetOrder(){\n    const locObj = this.state.locObj;\n    const page = 'Location';\n    const order = this.state.order.RestartOrder();\n    this.setState({\n      locObj:locObj,\n      showPage: page,\n      order: order,      \n    })\n  }\n  cancelOrder(){\n    const order = this.state.order.RestartOrder();\n    this.setState({\n      order: order,      \n    });\n  }\n  get StoreBanner(){\n    const {locObj} = this.state;\n    const selectedStore = locObj.curStoreID;\n    if(selectedStore==='0'){ return null;}          \n    const storeInfo = locObj.curStoreInfo;\n    const banner = (\n      <div className=\"bannerHead\">\n        <div className=\"bannerName\">{storeInfo.name}</div>\n        <div className=\"bannerHours\">{storeInfo.hours}</div>\n        <div className=\"bannerChange\" onClick={() => this.updateLoc('Search')}>Change Location</div>\n      </div>\n    );\n    return banner;\n  }\n  completeOrder(){\n\n  }\n  render(){                 \n    const banner = this.StoreBanner;\n    return (\n      <>\n      <div className=\"mainPageArea\">\n      <header>\n        <img src={logo} alt=\"Logo\" onClick={() => this.resetOrder()}></img>\n        <h1>Slice</h1>\n        {banner}\n      </header>      \n      <StoreLoc appState={this.state} \n        set={this.setStore} update={this.updateLoc}/>      \n      <DisplayMainArea appState={this.state} \n        reset={this.resetOrder} cancel={this.cancelOrder} complete={this.completeOrder}/>\n      </div>\n      </>     \n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './css/index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport 'jquery/dist/jquery.js';\nimport 'popper.js/dist/umd/popper.js';\nimport 'bootstrap/dist/js/bootstrap.js';\nimport Location from './components/Location'\n\nLocationFactory().then(obj => {  \n /* const obj = LocationFactory();*/\n  ReactDOM.render(\n  <React.StrictMode>\n    <App locObj={obj}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n  );\n})\nfunction LocationFactory(){\n  let x = new Location();\n  return x.initLoc();\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {lookup,lookupByCoords} from 'zipcodes';\nimport stores from './stores.json';\n\nclass Location {\n  #geo = null;\n  #user = null;\n  #store = null;\n  #search = null;\n  constructor(){\n    this.storeInfo = this.storeInfo.bind(this);\n    this.initLoc = this.initLoc.bind(this);\n    this.resolveGeoLoc = this.resolveGeoLoc.bind(this);    \n    this.#geo = {\n      isResolved: false,\n      entryErr: false,\n      errMsg: '',\n      zip: '',\n      cityState: ''};     \n    this.#user = {\n      isResolved: false,\n      entryErr: false,\n      errMsg: '',\n      zip: '',\n      cityState: ''};  \n    this.#store = {\n      current: '0',\n      previous: '0',      \n      didChange: false};\n    this.#search = {\n      method: '',\n      searchLoc: '',\n      isResolved: false,\n      hasErr: false,\n      errMsg: '',\n    }\n  }  \n  get geoZip() {\n    if(this.#geo.isResolved && !this.#geo.entryErr) {\n      return this.#geo.zip;\n    } else {\n      return 'NoGeo';\n    }\n  } \n  get geoCityState(){\n    if(this.#geo.isResolved && !this.geoErr) {\n      return this.#geo.cityState;\n    } else {\n      return 'Geo Location Error';\n    }   \n  }\n  get geoErr(){\n    return this.#geo.entryErr;\n  }\n  get geoErrMsg(){\n    return this.geoErr?this.#geo.errMsg:'';\n  }\n  set userZip(val){\n    let z = val.trim();    \n    let r = false;\n    let e = false;\n    let m = '';\n    let cs = '';\n    const l = lookup(z);\n    if(typeof l !==\"undefined\"){\n      const c = l.city;\n      const s = l.state;        \n      r = true;        \n      cs = c + ', ' + s;\n    } else {\n      //invalid zip code\n      z = '';  \n      r = false;\n      e = true;\n      m = 'Enter a Valid US Zip Code';        \n    }   \n    this.#user = {\n      isResolved: r,\n      entryErr: e,\n      errMsg: m,\n      zip: z,\n      cityState: cs,\n    };\n  }\n  get userZip() {\n    if(this.#user.isResolved && !this.#user.entryErr) {\n      return this.#user.zip;\n    } else {\n      return 'NoUser';\n    }\n  } \n  get userCityState(){\n    if(this.#user.isResolved && !this.userErr) {\n      return this.#user.cityState;\n    } else {\n      return 'User Entry Error';\n    }   \n  }\n  get userErr(){\n    return this.#user.entryErr;\n  }\n  get userErrMsg(){\n    return this.userErr?this.#user.errMsg:'';\n  }\n  set storeLoc(val){\n    const c = this.#store.current;\n    if(c!==val){\n      this.#store.didChange = true;\n      this.#store.previous = c;\n      this.#store.current = val;\n    } else {\n      this.#store.didChange = false;\n    }    \n  }\n  get changed(){\n    return this.#store.didChange;  \n  }\n  get curStoreID(){\n    return this.#store.current;\n  }\n  get prevStoreID(){\n    return this.#store.previous;\n  }\n  get curStoreInfo(){\n    const i = this.#store.current; \n    return this.storeInfo(i);\n  }\n  get prevStoreInfo(){\n    const i = this.#store.previous; \n    return this.storeInfo(i);\n  }\n  get searchErr(){\n    return this.#search.hasErr;    \n  }\n  get searchErrMsg(){\n      return this.searchErr?this.#search.errMsg:'';\n  }\n  get searchMeth(){\n    if(this.#search.isResolved){\n      return this.#search.method;\n    }\n    return 'No Search'\n  }\n  get searchLoc(){\n    if(this.#search.isResolved){\n      return this.#search.searchLoc;\n    }\n    return 'No Search'\n  }\n  set search(values){\n    this.#search.method = values.method;\n    this.#search.searchLoc = values.loc;\n    this.#search.isResolved = values.res;\n    this.#search.hasErr= values.err;\n    this.#search.errMsg= values.errMsg;\n  }\n  set storeSearch(method){        \n    let values ={\n      method: method.method,\n      loc: '',\n      res: false,\n      err: false,\n      errMsg: '',\n    };\n    if(values.method==='User Entry'){\n      this.userZip = method.usrStr;\n      if(this.userErr){\n        values.method = '';\n        values.err= true;\n        values.errMsg= 'Invalid Zip Entry';\n      } else {\n        values.loc = this.userCityState;\n        values.res = true;\n      }\n    } else if(values.method==='Geo Locate'){\n      if(this.geoErr){\n        values.method = '';\n        values.err= true;\n        values.errMsg= 'Invalid Geo Location';\n      } else {\n        values.loc = this.geoCityState;\n        values.res = true;\n      }\n    } else {\n      values.method = '';\n      values.err= true;\n      values.errMsg= 'Invalid Search Method';\n    }\n    this.search = values;    \n  }\n  storeInfo(i){\n    const s = stores.stores.find(\n      (r) => {return r.id === i;}\n    );\n    return s;\n  }\n  initLoc() {\n    return (this.resolveGeoLoc()\n      .then(data => {\n        if (data!=='GeoFail' && (data!==null||data!=='')) {\n          const c = data.city;\n          const s = data.state;\n          this.#geo = {\n            zip: data.zip,\n            cityState: c + ', ' + s,\n            isResolved: true,\n            entryErr: false,\n            errMsg: '',\n          };      \n        } else if (data==='GeoFail') {\n          this.#geo = {\n            zip: '',\n            cityState: '',\n            isResolved: true,\n            entryErr: true,\n            errMsg: 'Geo Location is Disabled',\n          };\n        } else {\n          this.#geo = {\n            zip: '',\n            cityState: '',\n            isResolved: false,\n            entryErr: true,\n            errMsg: 'Geo Location not resolved',\n          };\n        }\n        return this;\n      })\n    )\n  }  \n  resolveGeoLoc(){ \n    const locOpt = {\n      timeout: 5000,\n      maximumAge: 0\n    };    \n    return (new Promise((resolve, reject) => {\n      if(\"geolocation\" in navigator) {\n        navigator.geolocation.getCurrentPosition((position) => {\n          let lat = position.coords.latitude;\n          let long = position.coords.longitude;\n          const tZip = lookupByCoords(lat,long);                  \n          resolve(tZip);\n        },(error) => {\n          console.log('Error getting location');\n          console.error(\"Error Code = \" + error.code + \" - \" + error.message);\n          const response = 'GeoFail';\n\n          resolve(response);  \n        },locOpt);\n      }\n    }, ()=>{\n      console.log(\"Promise reject\");   \n      }\n    ))        \n  }\n}\n\nexport default Location;"],"sourceRoot":""}